<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Citas</title>
    <link rel="stylesheet" href="./css/style2.css">
    <link rel="shortcut icon" href="./media/favicon_IA_Medica.ico" type="image/x-icon">
    <!-- CSS de FullCalendar -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet" />

    <!-- JS de FullCalendar -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

</head>
<body>
    <section class="contenedor">
        <div th:replace="fragments/header :: header"></div>
    
        <main id="main-calendar">
            <section id="formulario">
                <h2>Reservar Nueva Cita</h2>
                <form id="form-cita" th:action="@{/guardarCitas}" method="POST" th:object="${citas}">
                    <label for="paciente">Nombre del Paciente:</label>
                    <input type="text" id="paciente" name="paciente" th:field="*{titulo}" required>

                    <label for="fecha">Fecha:</label>
                    <input type="date" id="fecha" name="fecha" th:field="*{fecha}" required>

                    <label for="hora">Hora:</label>
                    <input type="time" id="hora" name="hora" th:field="*{hora}" required>

                    <label for="tipo">Tipo de Atención Médica:</label>
                    <select id="tipo" name="tipo" th:field="*{descripcion}" required>
                        <optgroup label="Citas Médicas">
                            <option value="Cita Médica Presencial">Cita Presencial</option>
                            <option value="Teleconsulta Médica">Teleconsulta</option>
                        </optgroup>
                        <optgroup label="Citas Enfermería">
                            <option value="Cita Enfermería Presencial">Cita Presencial</option>
                            <option value="Teleconsulta Enfermería">Teleconsulta</option>
                        </optgroup>
                    </select>
                    <button type="submit" id="btn-citas">Reservar Cita</button>
                </form>
                <a href="https://calendar.google.com/calendar/render?..." target="_blank" class="btn-google-calendar gcal-btn">
                    Agregar a Google Calendar
                </a>
            </section>
            <section id="calendario">
                <div id='calendar'></div>
            </section>
        </main>

        <div th:replace="fragments/footer :: footer"></div>
    </section>
    <script src="/js/calendario.js" defer></script>
</body>
</html>
