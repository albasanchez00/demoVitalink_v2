<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pacientes — Panel Médico</title>
    <link rel="shortcut icon" th:href="@{/media/favicon_IA_Medica.ico}" type="image/x-icon">
    <link rel="stylesheet" href="/css/style2.css" />
</head>
<body>
<div th:replace="~{fragments/header :: header}"></div>
<section id="main-pacientes">
    <div class="pacientes-wrap">
        <div class="pacientes-head">
            <h2 class="pacientes-title">
                Pacientes vinculados
                <span id="badgeTotal" class="badge activo" style="margin-left:8px">0</span>
            </h2>
            <a id="btnVolver" class="btn btn-primario" th:href="@{/usuarios/panelUsuario}">⬅ Volver al panel</a>
            <div class="pacientes-tools" role="search">
                <input id="q" type="search" placeholder="Buscar por nombre, tarjeta, email…" aria-label="Buscar" />
                <select id="estado" aria-label="Estado">
                    <option value="">Todos los estados</option>
                    <option value="ACTIVO">Activos</option>
                    <option value="INACTIVO">Inactivos</option>
                </select>
                <select id="orden" aria-label="Ordenar por">
                    <option value="nombre,asc">Nombre (A→Z)</option>
                    <option value="nombre,desc">Nombre (Z→A)</option>
                    <option value="ultimaConsulta,desc">Última consulta (recientes)</option>
                    <option value="ultimaConsulta,asc">Última consulta (antiguas)</option>
                </select>
                <button id="btnBuscar" title="Aplicar filtros">Filtrar</button>
            </div>
        </div>

        <div class="pacientes-body">
            <table class="tabla-pacientes" aria-describedby="resumenTabla">
                <thead>
                <tr>
                    <th>Paciente</th>
                    <th>Tarjeta Sanitaria</th>
                    <th>Contacto</th>
                    <th>Edad</th>
                    <th>Estado</th>
                    <th>Última consulta</th>
                    <th style="text-align:right;">Acciones</th>
                </tr>
                </thead>
                <tbody id="tbodyPacientes">
                <!-- filas renderizadas por JS -->
                </tbody>
            </table>
        </div>

        <div class="pacientes-foot">
            <div class="resumen" id="resumenTabla">Mostrando <span id="countPage">0</span> de <span id="countTotal">0</span> pacientes</div>
            <div class="paginacion">
                <button id="prev" aria-label="Página anterior">«</button>
                <span id="pageInfo">1 / 1</span>
                <button id="next" aria-label="Página siguiente">»</button>
                <select id="size" aria-label="Resultados por página">
                    <option>10</option><option>20</option><option>50</option>
                </select>
            </div>
        </div>
    </div>
</section>
<div th:replace="~{fragments/footer :: footer}"></div>

<script th:src="@{/js/pacientesMedico.js}"></script>
</body>
</html>
