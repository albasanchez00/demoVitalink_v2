<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Agenda de Citas</title>
    <link rel="shortcut icon" href="/media/favicon_IA_Medica.ico" type="image/x-icon">
    <meta name="description" content="Agenda médica por usuario">
    <link rel="stylesheet" href="/css/style2.css">
    <script type="text/javascript" defer src="/js/panelAdmin.js"></script>
    <script type="text/javascript" defer src="/js/asistente.js"></script>
    <script src="/js/darkTheme.js" defer></script>
</head>
<body>
<div th:replace="fragments/header :: header"></div>
<main>
    <section class="section_main">
        <header class="titulo_seccion">
            <h2>📅 Citas del Cliente</h2>
        </header>

        <section class="tabla_citas" th:if="${citas != null}">
            <p th:if="${citas.isEmpty()}" class="mensaje-vacio">Este cliente no tiene citas registradas.</p>

            <table th:if="${!citas.isEmpty()}">
                <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Hora</th>
                    <th>Paciente</th>
                    <th>Motivo</th>
                    <th>Acciones</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="cita : ${citas}">
                    <td th:text="${#temporals.format(cita.fecha, 'dd/MM/yyyy')}">Fecha</td>
                    <td th:text="${#temporals.format(cita.hora, 'HH:mm')}">Hora</td>
                    <td th:text="${cita.cliente.nombre + ' ' + cita.cliente.apellidos}">Paciente</td>
                    <td th:text="${cita.descripcion}">Motivo</td>
                    <td>
                        <button class="btn-editar">✏️</button>
                        <button class="btn-cancelar">❌</button>
                    </td>
                </tr>
                </tbody>
            </table>

            <a href="/citasCliente" class="btn-volver">🔙 Volver al listado de citas</a>
        </section>
    </section>
</main>
<div th:replace="fragments/footer :: footer"></div>
</body>
</html>
