/* INICIO AJUSTES GENERALES */
*{ margin: 0; padding: 0; box-sizing: border-box; text-decoration: none; }

a{ list-style: none; color: var(--color_blanco); }
a:hover{ color: var(--fondo-body); }

.text_center,h2,h1{ text-align: center; }
strong{ color: rgb(233, 22, 22); }
.chat-box strong{ color: var(--color_primario); }

ul{ list-style: none; }
.icon{ color:var(--color-primary-button); }

:root{
    --color_fondo: #1B3A57;
    --color_primario: #008d95;
    --color_secundario: #006380;
    --fondo-body: #f9f9f9;
    --altura_header:10vh;
    --color_blanco: white;
    --altura_footer:10vh;
    --color-primary-button:#006380;
    --color-secundary-button:#008d95;
    --color_texto:#161616;
    --texto_secundario: #434343;
    --texto: #434343;
    --borde-suave: #00b3bd;

}

/* Asegura que `html` y `body` ocupen toda la altura */
html, body { height: 100vh; margin: 0; padding: 0; font-family: Arial, Helvetica, sans-serif; }

/* Modo oscuro web */
body.dark-theme {
    --color_fondo: #121212;
    --color_primario: #90caf9;
    --color_secundario: #42a5f5;
    --color_blanco: #e0e0e0;
    --fondo-body: #1e1e1e;
    background-color: var(--fondo-body);
    color: var(--color_blanco);
}

/* Ajusta fondo y texto en contenedores principales */
body.dark-theme #main_panelUser,
body.dark-theme #main_listaUser,
body.dark-theme #main-calendar,
body.dark-theme #main-asistente,
body.dark-theme #main-tratamientos,
body.dark-theme #main_configuracionUsuario,
body.dark-theme #main-panelEvolucion,
body.dark-theme #panel-historialMedico {
    background-color: var(--fondo-body);
    color: var(--color_blanco);
}

/* Fondos oscuros para formularios, tarjetas y paneles */
body.dark-theme .card,
body.dark-theme .card-evolucion,
body.dark-theme .config-usuario-formulario,
body.dark-theme .config-usuario-menu,
body.dark-theme .section_tabla_tratamientos,
body.dark-theme .tarjeta-cita,
body.dark-theme .tarjeta-resumen,
body.dark-theme #formulario,
body.dark-theme #formulario-tratamientos,
body.dark-theme #form-sintomas,
body.dark-theme #registros,
body.dark-theme #graficos,
body.dark-theme #filtros,
body.dark-theme .modal-contenido,
body.dark-theme .registro,
body.dark-theme .historial-container,
body.dark-theme #chat-box,
body.dark-theme #chat-box2 {
    background-color: #2c2c2c;
    color: var(--color_blanco);
}

/* Tablas, bordes y celdas */
body.dark-theme table, body.dark-theme th, body.dark-theme td, body.dark-theme .tabla-tratamientos, body.dark-theme .tabla-tratamientos th, body.dark-theme .tabla-tratamientos td { background-color: #2c2c2c; color: var(--color_blanco); border-color: #444; }

/* Hover en filas de tablas */
body.dark-theme .tabla-tratamientos tbody tr:hover { background-color: #3a3a3a; }

/* Botones secundarios */
body.dark-theme .btn-config, body.dark-theme .btn-ver-mas, body.dark-theme .btn-guardar-config, body.dark-theme .btn-cancelar,
body.dark-theme .btn-detalles { background-color: var(--color_secundario); color: var(--color_blanco); }
body.dark-theme .btn-config:hover, body.dark-theme .btn-ver-mas:hover, body.dark-theme .btn-guardar-config:hover { background-color: var(--color_primario); }

/* Colores en enlaces */
body.dark-theme a { color: var(--color_blanco); }
body.dark-theme a:hover { color: var(--color_secundario); }

/* Footer oscuro */
body.dark-theme footer { background-color: #0d0d0d; color: var(--color_blanco); }
body.dark-theme label, body.dark-theme input::placeholder{ color: var(--color_blanco); }
body.dark-theme input, body.dark-theme select, body.dark-theme textarea { background-color: #333; color: #fff; border: 1px solid #555; }

/* Oculta la barra de scroll en Chrome, Safari y Edge */
#main_panelUser::-webkit-scrollbar, #main-panelEvolucion::-webkit-scrollbar, #main_listaUser::-webkit-scrollbar { display: none; }
#panel-historialMedico::-webkit-scrollbar,#main-asistente::-webkit-scrollbar, #main_Sintomas::-webkit-scrollbar , #main-tratamientos::-webkit-scrollbar{ display: none; }

/* `main` crece para ocupar todo el espacio restante */
#main_panelUser, #main-calendar, #main-asistente, #main-tratamientos, #main_configuracionUsuario, #panel-historialMedico, #main_listaUser { flex: 1; padding: 20px; overflow: auto; /* Evita el desbordamiento */ }
#main-panelEvolucion{ flex: 1; padding: 20px; overflow: auto; /* Evita el desbordamiento */ }

/* Contenedor principal usando `flexbox` */
.contenedor { display: flex; flex-direction: column; min-height: 100vh; /* Mínimo 100% del alto de la pantalla */ }
/* FIN AJUSTES GENERALES */


/* INICIO HEADER */
header{ min-height: var(--altura_header); max-width: 100vw; background-color: var(--color_fondo); display: flex; justify-content: center; align-items: center; color: white;
    .section_header{ display: flex; flex-direction: row; justify-content: space-evenly; align-items: center; width: 100vw; padding: 0 40px;
        picture{ display: flex; justify-content: center; align-items: center; width: 25%;
            img{ width: 55px; height: auto; }
        }
    }
    .section_nav{
        width: 45%;
        ul{ display: flex; flex-direction: row; justify-content: center; align-items: center; width: 100%;
            li{ padding: 0 20px; }
        }
    }
    .section_user{ display: flex; flex-direction: row; justify-content: center; align-items: center; width: 25%; padding: 0;
        a{ width: max-content; }
        picture { width: 10%;
            img{ width: 20px; height: auto; }
        }
    }
}
/* Inicio Menu Responsive */
/* Botón de menú hamburguesa */
.menu-toggle { display: none; flex-direction: column; justify-content: space-between; width: 30px; height: 25px; cursor: pointer; }
.menu-toggle span { background: var(--color_blanco); height: 4px; width: 100%; border-radius: 5px; transition: all 0.3s ease; }

/* Menú en Desktop */
@media screen and (max-width: 1023px) {
    .menu-toggle{ width: 20px; height: 18px; display: flex; }
    header{ min-height: var(--altura_header); background-color: var(--color_fondo); display: flex; flex-direction: row; justify-content: center; align-items: center; width: 100vw; color: white;
        .section_header{ display: flex; flex-direction: row; justify-content: space-around; align-items: center; width: 100vw; padding: 0 40px;
            picture img{ width: 35px; height: auto;}
        }
        .section_user{ display: flex; flex-direction: row; justify-content: center; align-items: center; width: 25%; padding: 0 10px; font-size: 15px; gap: 20px;}
    }
    .nav-links { position: absolute; top: var(--altura_header); left: 0; width: 100%; height: 0; background: var(--color_fondo); opacity: 0.8; display: flex; flex-direction: column; justify-content: center; align-items: center; overflow: hidden; transition: height 0.3s ease-in-out;}
    .nav-links.show { height: 200px;}
    .menu-toggle.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px);}
    .menu-toggle.active span:nth-child(2) { opacity: 0;}
    .menu-toggle.active span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px);}
}
/* Fin Menu en Desktop */
/* FIN HEADER */

/* INICIO PAGINAS USUARIO */
/* Contenedor principal *//* ESTILO BASE (MÓVIL) */
#main_panelUser { width: 100%; background-color: var(--fondo-body); padding: 20px 0;}
.section_panelUser{
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    min-height: 100%;
    padding: 20px;
}
/* NAV: wrap en varias filas, fondo y texto legible */
/* NAV estilo moderno */
.nav_panelUser{
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: nowrap;
    width: 100%;
}
.section_panelUser .nav_panelUser ul {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem;
    justify-content: center;
    background: var(--color_primario);
    padding: .6rem;
    width: 100%;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,.1);
}
.section_panelUser .nav_panelUser ul li a {
    display: inline-flex;
    align-items: center;
    gap: .3rem;
    padding: .5rem 1rem;
    color: #fff;
    font-weight: 600;
    border-radius: 999px;
    transition: all .2s ease;
}
.section_panelUser .nav_panelUser ul li a:hover {
    background: rgba(255,255,255,.15);
}
.section_panelUser .nav_panelUser ul li a.is-active {
    background: #fff;
    color: var(--color_primario);
}

/* DASHBOARD: 1 columna en móvil */
/* Grid moderno */
.dashboard-overview {
    display: grid;
    grid-template-columns: repeat(12, minmax(0,1fr));
    gap: 1rem;
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 15px;
}

/* Tarjetas */
/* Cards más compactas */
.dashboard-overview .card {
    background: #fff;
    border: 1px solid #e6ebf1;
    border-radius: 12px;
    padding: 12px 14px;              /* menos padding */
    font-size: 0.95rem;              /* texto más pequeño */
    color: var(--color_texto);
    box-shadow: 0 4px 10px rgba(0,0,0,.06);
    transition: all .2s ease;
    min-height: 140px;               /* bajamos altura mínima */
}
.dashboard-overview .card:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 18px rgba(0,0,0,.12);
}


/* Colocación */
.dashboard-overview .card { grid-column: span 4; }
.dashboard-overview .wide-card { grid-column: span 12; }

/* Responsivo */
@media (max-width: 768px){
    .dashboard-overview .card {
        padding: 10px 12px;
        font-size: 0.9rem;
        min-height: 120px;
    }
}

@media (max-width: 600px) {
    .dashboard-overview .card, .dashboard-overview .wide-card { grid-column: span 12; }
}

/* Botón “Ver más” */
.btn-ver-mas { display: inline-block; margin-top: 10px; background-color: var(--color-secundary-button); color: #fff; padding: 6px 12px; font-size: 0.85rem; border-radius: 5px; font-weight: bold; text-align: center; transition: background-color .2s;}
.btn-ver-mas:hover { background-color: var(--color-primary-button);}

/* CHAT FLOTANTE (sin cambios) */
/* BOTÓN DE CHAT EN DESKTOP */
#chat-toggle, #chat-toggle2,#chat-toggle3 { position: fixed;
    bottom: 115px; right: 30px; width: 58px; height: 58px; background-color: var(--color-primary-button); color: white; font-size: 26px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 1000; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25); transition: transform 0.2s ease, box-shadow 0.3s ease;}
#chat-toggle:hover, #chat-toggle2:hover, #chat-toggle3:hover { transform: scale(1.1); background-color: var(--color-secundary-button); /* cambia a color alternativo si quieres */ box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);}
/* CUADRO DE CHAT EN DESKTOP */
#chat-box, #chat-box2, #chat-box3 { position: fixed; bottom: 180px; right: 30px; width: 340px; height: 440px; background-color: white; border-radius: 12px; display: none; flex-direction: column; box-shadow: 0 10px 24px rgba(0, 0, 0, 0.25); overflow: hidden; z-index: 1001; animation: fadeInUp 0.3s ease forwards;}
#chat-box.open, #chat-box2.open, #chat-box3.open { display: flex;}
@keyframes fadeInUp {
    from { transform: translateY(20px); opacity: 0;}
    to { transform: translateY(0); opacity: 1;}
}

/* CABECERA */
#chat-header, #chat-header2, #chat-header3 { background-color: var(--color-primary-button); color: white; font-weight: bold; padding: 12px; display: flex; justify-content: space-between; align-items: center;}
#chat-header span, #chat-header2 span, #chat-header3 span { font-size: 1.3rem; cursor: pointer;}
/* CUERPO DEL CHAT */
#chat-body, #chat-body2, #chat-body3 { flex: 1; display: flex; flex-direction: column; padding: 10px; overflow: hidden;}
#chat-messages, #chat-messages2, #chat-messages3 { flex: 1; overflow-y: auto; margin-bottom: 10px;}
#chat-input, #chat-input2, #chat-input3 { padding: 10px; border: 1px solid #ccc; border-radius: 6px;}

@media (max-width: 480px) {
    #chat-toggle, #chat-toggle2, #chat-toggle3 { bottom: 20px; /* antes estaba en 20px, así se eleva más */ right: 15px; width: 52px; height: 52px;}

    #chat-box, #chat-box2, #chat-box3 { bottom: 80px; right: 5vw; width: 90vw;}
}
/* FIN POOP UP ASISTENTE VIRTUAL */
/* ====== Responsive panel Usuario (añadir al final) ====== */

/* <= 768px: nav con scroll horizontal y dashboard a 2 columnas */
@media (max-width: 768px) {
    /* Contenedor más compacto */
    #main_panelUser { padding: 16px 0; }
    .section_panelUser { padding: 16px 12px; }

    /* NAV: pasa de wrap a carrusel horizontal con snap */
    .nav_panelUser {
        position: sticky;
        top: calc(var(--altura_header, 56px) + 8px);
        z-index: 50;
        padding-inline: 12px;     /* separa del borde del viewport */
    }
    .section_panelUser .nav_panelUser ul {
        flex-wrap: wrap;        /* 1 sola fila */
        justify-content: flex-start;
        gap: .5rem;
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: x proximity;
        scrollbar-width: none;    /* Firefox */
        padding: .6rem .8rem;
        margin: 0;
        width: 100%;
    }
    .section_panelUser .nav_panelUser ul::-webkit-scrollbar { display: none; }
    .section_panelUser .nav_panelUser ul li { flex: 0 0 auto; scroll-snap-align: start; }
    .section_panelUser .nav_panelUser ul li a {
        white-space: nowrap;
        padding: .48rem 1rem;
        font-size: .95rem;
        border-radius: 999px;
    }

    /* Dashboard: 2 columnas (grid de 6; cada card ocupa 3) */
    .dashboard-overview {
        grid-template-columns: repeat(6, minmax(0, 1fr));
        gap: .75rem;
        padding: 0 10px;
        margin: 16px auto;
    }
    .dashboard-overview .card {
        grid-column: span 3;
        min-height: 120px;
        padding: 10px 12px;
        font-size: 0.9rem;
    }
    .dashboard-overview .wide-card { grid-column: 1 / -1; }
}

/* <= 600px: 1 columna total para las cards */
@media (max-width: 600px) {
    .dashboard-overview { grid-template-columns: repeat(6, 1fr); }
    .dashboard-overview .card,
    .dashboard-overview .wide-card { grid-column: 1 / -1; }
}

/* XS ya lo tienes para el chat; añadimos pequeños ajustes opcionales */
@media (max-width: 480px) {
    /* Evitar desbordes horizontales fortuitos */
    #main_panelUser, .section_panelUser { overflow-x: clip; }
}

/* FIN MAIN INDEX*/


/* INICIO PÁGINA GESTION DE CITAS */
#main-calendar { display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; padding: 20px; background: var(--fondo-body);}
#formulario { background: var(--color_blanco); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); min-width: 60%; margin: 20px;}
#formulario h2 { text-align: center; color: var(--color_primario);}
#formulario label { font-weight: bold; margin-top: 10px; display: block;}
#formulario input, #formulario select, #formulario button { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid var(--color_secundario); border-radius: 5px;}
#formulario button { background: var(--color-primary-button); color: var(--color_blanco); font-weight: bold; cursor: pointer;}
#formulario button:hover { background: var(--color-secundary-button);}
#calendario { display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 20px; background: var(--color_blanco); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); min-width: 60%;
    h2{ color: #006380;}
}
#calendar { color: var(--color_secundario); width: 100%; max-width: 100%;
    .fc-view-container { width: 100%;}
    .fc-dayGridMonth-view { width: 100%;}
}
.fc *{ color: var(--color_secundario); font-size: 16px;
    a{ color: #1B3A57;}
}
/* Botón agregar cita a Google Calendar */
.gcal-btn { display: inline-block; padding: 8px 16px; background-color: var(--color-primary-button); color: white; border-radius: 6px; text-decoration: none; font-weight: 500; transition: background-color 0.3s ease; width: 100%; text-align: center; margin: 10px 0;}
.gcal-btn:hover { background-color: var(--color-secundary-button); text-decoration: none;}
/* FIN PÁGINA GESTION DE CITAS */


/* INICIO PAGINA REGISTRO SINTOMAS */
.main_panelUser{ display: flex; flex-direction: column; justify-content: center; align-items: center; min-width: 100%; min-height: 100%;}
.section_Sintomas{ display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: center; align-items: center;
    h1{ margin: 15px; font-size: 24px;} }
#form-sintomas { width:  70%; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd;
    textarea { resize: vertical; width: 100%; font-size: 0.95rem;} }
#form-sintomas input, #form-sintomas select { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid var(--color_secundario); border-radius: 5px;}
#form-sintomas button { grid-column: span 2; background-color: var(--color-primary-button); color: var(--color_blanco); border: none; padding: 10px; font-weight: bold; border-radius: 5px; cursor: pointer;}
#form-sintomas button:hover { background-color: var(--color-secundary-button);}
.filtro-Registro{ display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: center; width: 100%; height: auto; gap: 100px;}
/* Contenedor de filtros */
#filtros { width:  20%; margin-top: 20px; background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd; display: flex; flex-wrap: wrap; gap: 10px; align-items: center;}
#filtros label { flex: 1; min-width: 200px;}

/* Historial de síntomas */
#registros { width:  40%; margin-top: 20px; background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd;}
.tabla_Registros { width: 100%; border-collapse: collapse;}
.tabla_Registros th, .tabla_Registros td { border: 1px solid #ccc; padding: 8px; text-align: center;}
/* Gráfico de evolución */
#graficos { width:  70%; margin-top: 30px; background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd;}
/* FIN PAGINA REGISTRO SINTOMAS */


/* INICIO PÁGINA REGISTRO DE TRATAMIENTOS */
#formulario-tratamientos { background: var(--color_blanco); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); max-width: 800px; margin: 20px auto;
    h2 { text-align: center; color: var(--color_primario);}
    label { font-weight: bold; margin-top: 10px; display: block;}
    input, select, textarea, button { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid var(--color_secundario); border-radius: 5px; font-size: 0.95rem;}
    textarea { resize: vertical; min-height: 80px;}
    button { background: var(--color-primary-button); color: var(--color_blanco); font-weight: bold; cursor: pointer; margin-top: 15px;}
    button:hover { background: var(--color-secundary-button);}
    .lb-checkbox{ display: flex; flex-direction: row; width: 100%; margin: 30px 0;
        input{ width: 50px; height: 100%;}
    }
}
.section_tabla_tratamientos { max-width: 95%; margin: auto; padding: 2rem;}
.section_tabla_tratamientos h2 { text-align: center; margin-bottom: 1.5rem; font-size: 1.8rem; color: #222;}
.tabla-tratamientos { width: 100%; border-collapse: separate; border-spacing: 0; background-color: #fff; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); font-size: 0.95rem; table-layout: fixed;}
.tabla-tratamientos th,
.tabla-tratamientos td { padding: 14px 10px; text-align: center; border-bottom: 1px solid #e6e6e6; word-wrap: break-word;}
.tabla-tratamientos th { background-color: var(--color-primary-button); color: var(--color_blanco); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;}
.tabla-tratamientos tbody tr:hover { background-color: #f9f9f9; transition: background-color 0.2s ease-in-out;}
.tabla-tratamientos td.estado-activo { background-color: #e0f7e9; color: #2e7d32; font-weight: bold; border-radius: 5px;}
.tabla-tratamientos td.estado-finalizado { background-color: #fff3cd; color: #856404; font-weight: bold; border-radius: 5px;}
.tabla-tratamientos td.estado-cancelado { background-color: #f8d7da; color: #721c24; font-weight: bold; border-radius: 5px;}
/* Responsive para móviles */
@media screen and (max-width: 768px) {
    .tabla-tratamientos thead { display: none;}
    .tabla-tratamientos, .tabla-tratamientos tbody, .tabla-tratamientos tr, .tabla-tratamientos td { display: block; width: 100%;}
    .tabla-tratamientos tr { margin-bottom: 1rem; background-color: #fff; padding: 1rem; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);}
    .tabla-tratamientos td { text-align: left; padding: 0.5rem 0; position: relative; font-size: 0.95rem;}
    .tabla-tratamientos td::before { content: attr(data-label); font-weight: bold; display: block; color: var(--color_primario); margin-bottom: 4px;}
}
/* FIN PÁGINA REGISTRO DE TRATAMIENTOS */


/* INICIO PAGINA ESTADISTICAS USUARIO */
/* ====== ESTADÍSTICAS (look & feel) ====== */
.stats-wrap { display: grid; gap: 16px; }

.stats-header{
    background: linear-gradient(135deg, var(--color_fondo) 0%, var(--color_secundario) 100%);
    color: #fff; border-radius: 14px; padding: 18px 20px;
    box-shadow: 0 6px 18px rgba(0,0,0,.12);
}
.stats-title{ display:flex; align-items:center; gap:10px; }
.stats-title h1{ margin:0; font-size: clamp(20px, 2.4vw, 28px); }
.stats-emoji{ font-size: 28px; line-height: 1; }
.stats-sub{ margin:.25rem 0 0; opacity:.9; }

.stats-filtros{
    background:#fff; border:1px solid #e6ebf1; border-radius: 12px;
    padding: 10px; display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;
    box-shadow: 0 4px 14px rgba(15,23,42,.06);
}
.stats-filtros label{ display: grid; gap:6px; font-weight: 600; color: var(--color_texto);}
.stats-filtros input, .stats-filtros select{
    width:100%; padding:9px 10px; border:1px solid #d9e1ea; border-radius:10px; background:#f7f9fb;
}
.stats-filtros .btn_primario{ align-self:end; height:40px; border-radius:10px; }

@media (max-width: 900px){
    .stats-filtros{ grid-template-columns: 1fr; }
}

.card{
    background:#fff; color: var(--color_texto);
    border-radius: 14px; padding: 12px; border:1px solid #e6ebf1;
    box-shadow: 0 6px 18px rgba(15,23,42,.06);
    min-height: 340px;
}
.card-head{ display:flex; align-items:center; justify-content:space-between; margin: 2px 4px 8px; }
.card-head h3{ margin:0; font-size: 1rem; color: var(--color_texto); }

.card canvas{ width:100% !important; height: 280px !important; }

/* Mensaje “Sin datos” sobre la tarjeta */
.card .empty{
    position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
    font-size:14px; color:#6b7280; pointer-events:none;
}
/* ===== Preferencias – tarjeta moderna ===== */
.pref-card{
    background:#fff; border:1px solid #e6ebf1; border-radius:16px;
    box-shadow:0 8px 24px rgba(15,23,42,.06);
    padding:18px; display:grid; gap:16px;
}
.pref-head{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
.pref-head h3{ margin:0; color:var(--color_texto); font-size:1.15rem; }
.pref-head p{ margin:.25rem 0 0; color:var(--texto_secundario); font-size:.95rem; }
.pref-badge{ background:#eef6ff; color:#1f5fbf; border:1px solid #d3e6ff; padding:.2rem .5rem; border-radius:999px; font-size:.75rem; }

.pref-row{ display:flex; align-items:center; justify-content:space-between; gap:16px; }
.pref-row-left h4{ margin:0 0 .25rem; color:var(--color_texto); font-size:1rem; }
.pref-row-left p{ margin:0; color:var(--texto_secundario); font-size:.95rem; }
.pref-divider{ border:0; height:1px; background:#eef1f6; }

.pref-block h4{ margin:0 0 .25rem; color:var(--color_texto); }
.pref-sub{ margin:0 0 .5rem; color:var(--texto_secundario); }

/* Switch (toggle) */
.switch{ position:relative; display:inline-block; width:54px; height:30px; }
.switch input{ opacity:0; width:0; height:0; }
.slider{
    position:absolute; cursor:pointer; inset:0; background:#e5e7eb; border-radius:999px;
    transition:background .2s;
}
.slider:before{
    content:""; position:absolute; height:22px; width:22px; left:4px; top:4px;
    background:white; border-radius:50%; transition:transform .2s;
    box-shadow:0 2px 6px rgba(0,0,0,.15);
}
.switch input:checked + .slider{ background:var(--color_secundario); }
.switch input:checked + .slider:before{ transform:translateX(24px); }

/* Segmented control */
.segmented{
    display:inline-grid; grid-template-columns:1fr 1fr 1fr; gap:0;
    border:1px solid #dfe3eb; border-radius:12px; overflow:hidden; width:fit-content;
}
.segmented input{ display:none; }
.segmented label{
    padding:.55rem .95rem; cursor:pointer; user-select:none; font-weight:600;
    color:var(--color_texto); background:#fbfdff; border-right:1px solid #dfe3eb;
}
.segmented label:last-of-type{ border-right:0; }
.segmented input:checked + label{
    background:var(--color-primary-button); color:#fff;
}

/* Previsualización chips */
.theme-preview{ display:flex; gap:8px; margin-top:.75rem; }
.theme-preview .chip{
    padding:.25rem .6rem; border-radius:999px; font-size:.8rem; border:1px solid #e5e7eb; color:#334155;
}
.chip--auto{ background:#f1f5f9; }
.chip--light{ background:#fff; }
.chip--dark{ background:#111827; color:#e5e7eb; border-color:#374151; }

.pref-actions{ display:flex; justify-content:flex-end; }

/* Mensajes */
.config-error{ color:#c62828; font-weight:600; text-align:center; }
.config-mensaje{ color:#1b5e20; font-weight:700; text-align:center; }

/* Modo oscuro coherente con tu tema */
body.dark-theme .pref-card{ background:#1f2937; border-color:#334155; box-shadow:none; }
body.dark-theme .pref-head h3,
body.dark-theme .pref-row-left h4,
body.dark-theme .pref-block h4 { color:#e5e7eb; }
body.dark-theme .pref-head p,
body.dark-theme .pref-row-left p,
body.dark-theme .pref-sub { color:#cbd5e1; }
body.dark-theme .pref-divider{ background:#334155; }
body.dark-theme .segmented{ border-color:#334155; }
body.dark-theme .segmented label{ background:#0b1220; color:#e5e7eb; border-color:#334155; }
body.dark-theme .segmented input:checked + label{ background:var(--color_secundario); color:#fff; }
body.dark-theme .theme-preview .chip{ border-color:#334155; color:#e5e7eb; }

/* FIN PAGINA ESTADISTICAS USUARIO */


/* INICIO PAGINA CONFIGURACIÓN USUARIO */
/* CONTENEDOR PRINCIPAL */
.config-usuario-container { display: flex; flex-direction: column; align-items: center; gap: 20px;}
.config-usuario-titulo { font-size: 24px; font-weight: bold; margin-bottom: 10px; color: var(--color_primario);}

/* PANEL DE CONFIGURACIÓN */
.config-usuario-panel { display: flex; gap: 30px; align-items: flex-start; justify-content: center; width: 100%; flex-wrap: wrap;
}
/* MENÚ LATERAL */
.config-usuario-menu { background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd; display: flex; flex-direction: column; gap: 15px; min-width: 180px;}
.btn-config { background-color: var(--color-primary-button); color: var(--color_blanco); border: none; padding: 10px; font-weight: bold; border-radius: 5px; cursor: pointer;}
.btn-config:hover, .btn-config.activo { background-color: var(--color-secundary-button);}
/* FORMULARIO */
.config-usuario-formulario { background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd; flex: 1; min-width: 280px; max-width: 600px; display: flex; flex-direction: column; gap: 20px;}
.config-seccion { display: none; flex-direction: column; gap: 15px;}
.config-seccion.activa { display: flex;}
.config-usuario-formulario label { display: flex; flex-direction: column; font-weight: bold; color: #333;}
.config-usuario-formulario input, .config-usuario-formulario select { padding: 10px; border: 1px solid var(--color_secundario); border-radius: 5px; font-size: 14px; margin-top: 5px;}
/* BOTÓN GUARDAR */
.btn-guardar-config { background-color: var(--color-primary-button); color: var(--color_blanco); border: none; padding: 12px; border-radius: 5px; cursor: pointer; font-weight: bold;}
.btn-guardar-config:hover { background-color: var(--color-secundary-button);}
/* MENSAJE CONFIRMACIÓN */
.config-mensaje { color: green; font-weight: bold; text-align: center;}
/* RESPONSIVE */
@media screen and (max-width: 768px) {
    .config-usuario-panel { flex-direction: column; align-items: center;}
    .config-usuario-menu { width: 100%; flex-direction: row; justify-content: space-around; flex-wrap: wrap;}
    .btn-config { width: 45%; margin-bottom: 10px;}
    .config-usuario-formulario { width: 100%;}
}
/* FIN PAGINA CONFIGURACIÓN USUARIO */


/* INICIO PAGINA HISTORIAL MEDICO */
.historial-container { padding: 2em; background-color: var(--color_blanco); border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 100%; max-width: 95%; margin: 0 auto;}
.historial-tabla { width: 100%; border-collapse: collapse; margin-top: 1.5em; font-size: 0.95rem;
    th { background-color: var(--color-primary-button); color: var(--color_blanco); padding: 12px; text-align: left;}
    td { padding: 10px; border: 1px solid #ddd;}
    tr:hover { background-color: #f0faff;}
}
.filtro { display: flex; gap: 10px; align-items: center; margin-bottom: 1em; flex-wrap: wrap;
    label { font-weight: bold; color: var(--color_primario);}
    input[type="date"] { padding: 8px 12px; border: 1px solid var(--color_secundario); border-radius: 5px;}
    button { background-color: var(--color-primary-button); color: white; border: none; padding: 8px 14px; border-radius: 5px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;}
    button:hover { background-color: var(--color-secundary-button);}
}
/* Estilo tarjetas para móviles */
.historial-movil { display: none;}
@media screen and (max-width: 768px) {
    .historial-tabla { display: none; /* Oculta la tabla en móviles */}
    .historial-movil { display: flex; flex-direction: column; gap: 1em; margin-top: 1em;}
    .registro { background-color: var(--color_blanco); padding: 1em; border-radius: 10px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        strong { color: var(--color_primario);}
        p {margin: 0.4em 0; font-size: 0.95em;}
    }
    .filtro { flex-direction: column; align-items: stretch;}
    .filtro input,.filtro button { width: 100%;}
}
/* FIN PAGINA HISTORIAL MEDICO */


/* INICIO PAGINAS USUARIO */
/* ===== Botón Salir (mejora visual + layout) ===== */
.logout-form{
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: .5rem;
    margin: 8px auto 10px;
    max-width: 1200px;     /* alinea con el grid del dashboard */
    padding: 0 15px;
}

/* botón “píldora” con énfasis sutil (peligro/rojo corporativo) */
.btn-logout{
    appearance: none;
    border: 1px solid transparent;
    background: linear-gradient(180deg, #e53935 0%, #c62828 100%);
    color: #fff;
    font-weight: 700;
    letter-spacing: .2px;
    padding: .55rem 1rem;
    border-radius: 999px;
    cursor: pointer;
    box-shadow: 0 6px 18px rgba(229,57,53,.22);
    transition: transform .15s ease, box-shadow .2s ease, filter .15s ease;
    display: inline-flex;
    align-items: center;
    gap: .45rem;
}
.btn-logout:hover{
    transform: translateY(-1px);
    box-shadow: 0 10px 26px rgba(198,40,40,.28);
    filter: brightness(1.02);
}
.btn-logout:active{ transform: translateY(0); }
.btn-logout:focus-visible{
    outline: 3px solid color-mix(in srgb, #e53935 60%, white);
    outline-offset: 2px;
}

/* Modo oscuro coherente */
body.dark-theme .btn-logout{
    background: linear-gradient(180deg, #ef5350 0%, #e53935 100%);
    box-shadow: none;
    border-color: rgba(255,255,255,.12);
}

/* Responsive: hazlo un pelín más compacto en móviles */
@media (max-width: 480px){
    .btn-logout{ padding: .45rem .85rem; font-size: .95rem; }
}


/* INICIO PAGINAS ADMIN */
/* === ADMIN · Tratamientos (parche visual) === */
#admin-tratamientos h2{ margin:12px auto 10px; color: var(--color_primario); }

#admin-tratamientos .filtros-trat{
    max-width: 1100px; margin: 8px auto 14px; padding: 10px 12px;
}
#admin-tratamientos .filtros-trat .input-group{
    display:grid; grid-template-columns: 1.4fr .9fr 1.2fr auto; gap:.5rem; align-items:center;
}
@media (max-width: 900px){
    #admin-tratamientos .filtros-trat .input-group{ grid-template-columns: 1fr; }
}

/* Autocomplete */
.usuario-autocomplete{ position:relative; }
#usuarioClear{
    position:absolute; right:8px; top:50%; transform:translateY(-50%);
    border:0; background:#f1f5f9; color:#0f172a; width:28px; height:28px; border-radius:999px; cursor:pointer;
}
#usuarioClear:hover{ background:#e2e8f0; }
#usuarioSugg{
    position:absolute; left:0; right:0; top:calc(100% + 4px); z-index:10;
    list-style:none; margin:0; padding:0;
    max-height:240px; overflow:auto; display:none;
    background:#fff; border:1px solid #e3e7ee; border-radius:10px; box-shadow:0 10px 26px rgba(15,23,42,.12);
}
#usuarioSugg li{ padding:8px 10px; cursor:pointer; border-bottom:1px solid #f2f4f7; }
#usuarioSugg li:hover{ background:#f7fafc; }

/* Tabla */
.tabla-trat-admin th:nth-child(1){ width:64px; }
.tabla-trat-admin th:nth-child(4){ width:120px; text-align:center; }
.tabla-trat-admin td:nth-child(4){ text-align:center; }
.tabla-trat-admin td:nth-child(5),
.tabla-trat-admin td:nth-child(6){ white-space:nowrap; }

/* Estado como “pill” */
.pill-estado{ display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.82rem; font-weight:700; }
.pill--activo{ background:#e8fff6; color:#1d7a50; border:1px solid #c9f3e3; }
.pill--finalizado{ background:#fff6e6; color:#8a5a00; border:1px solid #ffe4bd; }
.pill--inactivo{ background:#ffe9e9; color:#8a1f1f; border:1px solid #ffd2d2; }

/* Acciones compactas coherentes */
.tabla-trat-admin td:last-child{
    display:flex; gap:6px; justify-content:center; align-items:center; flex-wrap:wrap;
}
.tabla-trat-admin .btn-sec{ background:#f7f9fb; border:1px solid #dfe3eb; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; }
.tabla-trat-admin .btn-sec:hover{ background:#eef2ff; }
.tabla-trat-admin .btn-danger{ background:#fee2e2; border:1px solid #fecaca; color:#991b1b; }
.tabla-trat-admin .btn-danger:hover{ background:#fbd5d5; }

body.dark-theme #usuarioSugg{ background:#2c2c2c; border-color:#444; }
body.dark-theme #usuarioSugg li{ border-color:#3a3a3a; color:#fff; }
body.dark-theme #usuarioClear{ background:#333; color:#fff; border:1px solid #555; }

/* =========================================================================
   ADMIN — Módulo Usuarios (Médicos / Pacientes)
   Complemento visual no intrusivo sobre style2.css
   ======================================================================= */

/* --------- Secciones y cabeceras ---------- */
.section_head {
    margin: 8px 0 14px;
}
.section_head h2, .section_head h3 {
    color: var(--color_primario);
    margin: 0 0 4px;
    font-size: clamp(1.1rem, 2.2vw, 1.4rem);
}
.section_head .muted { opacity: .8; }

/* --------- Cards ---------- */
.card {
    background: var(--color_blanco);
    border: 1px solid var(--borde-suave, #e6ebf1);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,.06);
    padding: 14px;
}
.card--soft { background: color-mix(in srgb, var(--color_blanco), transparent 10%); }
.card__head { margin-bottom: 8px; }
.card__head h3 { margin: 0; color: var(--color_primario); }

/* --------- Tabs internas (Médicos / Pacientes) ---------- */
.nav_panelUser ul { gap: .5rem; }
.nav_panelUser a {
    display: inline-block;
    padding: .45rem .8rem;
    border-radius: 10px;
    background: color-mix(in srgb, var(--color_primario), transparent 90%);
    color: var(--texto, #222);
    transition: background .2s ease, color .2s ease, box-shadow .2s;
}
.nav_panelUser a:hover { box-shadow: 0 2px 8px rgba(0,0,0,.08); }
.nav_panelUser a.is-active {
    background: var(--color_primario);
    color: #fff;
}

/* --------- Input group + formularios inline ---------- */
.input-group {
    display: flex; gap: 8px; align-items: center; width: 100%;
}
.input-group input[type="search"],
.input-group input[type="text"],
.input-group input[type="password"]{
    flex: 1 1 auto;
    background: var(--color_blanco);
    border: 1px solid var(--borde-suave, #e6ebf1);
    border-radius: 10px;
    padding: .55rem .7rem;
    outline: none;
}
.input-group input:focus { border-color: var(--color_primario); box-shadow: 0 0 0 3px color-mix(in srgb, var(--color_primario), transparent 80%); }

.form-inline .input-group button,
.input-group button {
    border: none;
    border-radius: 10px;
    padding: .55rem .9rem;
    background: var(--color_primario);
    color: #fff;
    cursor: pointer;
}
.form-inline .input-group button:hover { filter: brightness(1.05); }

/* --------- Tabla ---------- */
.table-wrap { width: 100%; overflow: auto; border-radius: 10px; }
.table {
    width: 100%; border-collapse: collapse; font-size: .95rem;
    background: var(--color_blanco);
}
.table thead th {
    text-align: left; font-weight: 600;
    padding: .7rem .8rem;
    background: color-mix(in srgb, var(--color_primario), transparent 90%);
    color: var(--texto, #222);
    border-bottom: 1px solid var(--borde-suave, #e6ebf1);
}
.table tbody td {
    padding: .65rem .8rem;
    border-bottom: 1px solid var(--borde-suave, #e6ebf1);
}
.table tbody tr:hover { background: color-mix(in srgb, var(--color_primario), transparent 94%); }

/* Estados y textos suaves */
.muted { opacity: .7; }
.pill {
    display: inline-block; padding: .2rem .5rem; border-radius: 999px; font-size: .85rem;
    background: color-mix(in srgb, var(--color_primario), transparent 88%);
}
.pill--muted { background: #edf2f7; color: #475569; }

/* --------- Botones de acción ---------- */
button.danger {
    background: #e5484d; color: #fff; border: none; border-radius: 10px;
    padding: .45rem .7rem; cursor: pointer;
}
button.danger:hover { filter: brightness(1.05); }
button.muted {
    background: #eaeef3; color: #344; border: none; border-radius: 10px;
    padding: .45rem .7rem; cursor: pointer;
}

/* --------- Pager ---------- */
.pager {
    margin-top: 10px; display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
}
.pager button {
    background: var(--color_blanco); color: var(--texto, #222);
    border: 1px solid var(--borde-suave, #e6ebf1);
    border-radius: 10px; padding: .4rem .6rem; cursor: pointer;
}
.pager button:disabled { opacity: .5; cursor: not-allowed; }
.pager select {
    border: 1px solid var(--borde-suave, #e6ebf1);
    border-radius: 10px; padding: .35rem .5rem; background: var(--color_blanco);
}

/* --------- Selector inline de asignación (Pacientes) ---------- */
.inline-assign {
    background: color-mix(in srgb, var(--color_primario), transparent 93%);
    border: 1px dashed color-mix(in srgb, var(--color_primario), transparent 60%);
    border-radius: 12px;
    padding: 8px;
}
.inline-assign select {
    min-width: 180px;
    border: 1px solid var(--borde-suave, #e6ebf1);
    border-radius: 10px; padding: .4rem .5rem;
    background: var(--color_blanco);
}

/* --------- Grids rápidos ---------- */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
@media (max-width: 768px) {
    .grid-2 { grid-template-columns: 1fr; }
    .input-group { flex-wrap: wrap; }
    .input-group input { min-width: 200px; }
    .pager { justify-content: space-between; }
}

/* --------- Ajustes suaves para dark si usas data-theme ---------- */
body[data-theme="dark"] .pill--muted { background: #2a2f36; color: #cbd5e1; }
body[data-theme="dark"] .table thead th { color: #e5e7eb; }
body[data-theme="dark"] .inline-assign {
    background: color-mix(in srgb, var(--color_primario), black 75%);
    border-color: color-mix(in srgb, var(--color_primario), black 55%);
}
/* FIN PANEL ADMIN */

/* Inicio Lista Usuario */
#main_listaUser{ width: 100%; min-height: 80vh; background-color: var(--fondo-body); padding: 20px 0;}
/* === Estilo para la tabla de clientes (admin) === */
.tabla-clientes { width: 100%; border-collapse: separate; border-spacing: 0; background-color: var(--color_blanco); border-radius: 10px; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); font-size: 0.95rem; table-layout: fixed;}

.tabla-clientes th, .tabla-clientes td { padding: 14px 10px; text-align: center; border-bottom: 1px solid #e6e6e6; word-wrap: break-word;}
.tabla-clientes th { background-color: var(--color-primary-button); color: var(--color_blanco); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;}
.tabla-clientes tbody tr:hover {background-color: #f9f9f9; transition: background-color 0.2s ease-in-out;}
@media screen and (max-width: 768px) {
    .tabla-clientes {font-size: 0.85rem;}
    .tabla-clientes th, .tabla-clientes td {padding: 10px 6px;}
}

.btn-accion { display: inline-flex; justify-content: center; align-items: center; width: 30px; height: 30px; border-radius: 6px; padding: 6px; background-color: transparent; transition: transform 0.2s ease; text-decoration: none;}
.btn-accion img { width: 24px; height: 24px; object-fit: contain; filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.2));}
/* Escalado al hacer hover */
.btn-accion:hover { transform: scale(1.1);}

/* Estilos de fondo para cada tipo */
.btn-accion.historial { background-color: #6c757d;}
.btn-accion.editar { background-color: #007bff;}
.btn-accion.eliminar { background-color: #dc3545;}

/* Tema oscuro: mejora visibilidad de iconos */
body.dark-theme .btn-accion img { filter: brightness(1.2) drop-shadow(0 1px 2px rgba(255,255,255,0.1));}
/* Inicio Lista Usuario */
/* FIN PAGINAS ADMIN */


/* INICIO PAGINA CITAS */
/* Estilos para la tabla Citas */
table { width: 100%; border-collapse: collapse; margin-top: 20px;}
table, th, td { border: 1px solid #cccccc;}
th, td { padding: 10px; text-align: left;}
thead { background-color: #f5f5f5;}

/* Estilos para la sección de citas */
.resumen-citas { margin-bottom: 2rem; }
.tarjeta-resumen { background: white; border-radius: 8px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.proxima-cita h3 { margin: 0 0 1rem 0; color: #2c3e50; }
.contenido-proxima-cita { display: grid; gap: 0.5rem; }
.fecha { font-size: 1.2rem; font-weight: bold; color: #3498db; }

/* Pestañas */
.tabs-citas { display: flex; gap: 1rem; margin-bottom: 1rem;}
.tab-btn { padding: 0.8rem 1.5rem; border: none; border-radius: 4px; cursor: pointer; background: #f0f0f0;}
.tab-btn.active { background: #3498db; color: white;}

/* Lista de citas */
.lista-citas { display: flex; flex-direction: column; gap: 1rem;}
.tarjeta-cita { display: flex; background: white; border-radius: 8px; padding: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); align-items: center;}
.cita-fecha { text-align: center; padding: 0.5rem; border-right: 1px solid #eee; margin-right: 1rem;}
.cita-fecha .dia { font-size: 1.5rem; font-weight: bold; display: block;}
.cita-fecha .mes { text-transform: uppercase; color: #666;}
.cita-detalles { flex-grow: 1;}
.cita-estado { padding: 0.5rem 1rem;}
.estado-pendiente { color: #f39c12;}
.estado-completada { color: #27ae60;}
.estado-cancelada { color: #e74c3c;}

/* Botones de acción */
.cita-acciones { display: flex; gap: 0.5rem;}
.btn-cancelar, .btn-detalles { padding: 0.5rem 1rem; border: none; border-radius: 4px; cursor: pointer;}
.btn-cancelar { background: #e74c3c; color: white;}
.btn-detalles { background: #3498db; color: white;}


/* Pagina sintomas */
#main_registroSintomas{ width: 100%; min-height: 80vh; background-color: var(--fondo-body); }
.filtros{ display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 5px; padding: 10px 0; }
.form-inline{ display: flex; flex-direction: row; align-items: center; justify-content: center;
    input{ height: 35px; border: 1px solid black; border-radius: 10px; margin: 0 5px }
    #btn-abrir{ height: 35px; border-radius: 10px; margin: 0 10px }
}


/* ===== Modal base ===== */
.modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.5); backdrop-filter: blur(2px); z-index: 1200; justify-content: center; align-items: center; padding: 1.25rem; }

.modal:not(.oculto) {display: flex;} /* cuando JS quita .oculto, se muestra */

.modal-contenido { background: #fff; color: #0f172a; width: 100%; max-width: 640px; border-radius: 14px; box-shadow:  0 10px 15px -3px rgba(0,0,0,.2), 0 4px 6px -2px rgba(0,0,0,.1); padding: 1.5rem 1.5rem 1.25rem; position: relative; animation: modalIn .18s ease-out; }

/* Animación sutil */
@keyframes modalIn {
    0%   { transform: translateY(6px) scale(.98); opacity: 0; }
    100% { transform: translateY(0)    scale(1);   opacity: 1; }
}

/* Cerrar (X) */
.btn-cerrar-x { position: absolute; top: .75rem; right: .75rem; border: 0; background: #f1f5f9; color: #0f172a; width: 34px; height: 34px; border-radius: 999px; display: grid; place-items: center; cursor: pointer; font-size: 18px; line-height: 1; }
.btn-cerrar-x:hover   { background: #e2e8f0; }
.btn-cerrar-x:active  { transform: scale(.96); }

/* Título */
#titulo-modal { margin: .25rem 2.25rem 1.25rem .25rem;  /* hueco para la X */ font-size: clamp(1.25rem, 2.5vw, 1.6rem); font-weight: 700; text-align: center; }

/* ===== Formato del formulario ===== */
.grid { display: grid; gap: 1rem; grid-template-columns: 1fr 1fr;         /* dos columnas en desktop */ }

@media (max-width: 640px) {   .grid { grid-template-columns: 1fr; }   /* una columna en móvil */   }

/* Cada campo como bloque */
.grid label { display: grid; gap: .5rem; font-weight: 600; color: #334155; }

/* Inputs homogéneos */
.grid select, .grid textarea, .grid input[type="datetime-local"], .grid input[type="text"] { width: 100%; border: 1px solid #cbd5e1; border-radius: 10px; padding: .6rem .75rem; font-size: .95rem; background: #fff; color: #0f172a; outline: none; transition: border-color .15s, box-shadow .15s; }
.grid textarea { min-height: 96px; resize: vertical; }

/* Focus accesible */
.grid select:focus,
.grid textarea:focus,
.grid input:focus { border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37, 99, 235, .2); }

/* Zona compacta de acciones */
.acciones { display: flex; gap: .75rem; justify-content: flex-end; margin-top: .5rem; }

/* Botones coherentes */
.btn { appearance: none; border: 1px solid #cbd5e1; background: #f8fafc; color: #0f172a; padding: .6rem .9rem; border-radius: 10px; cursor: pointer; font-weight: 600; transition: transform .05s ease, background .15s; }
.btn:hover  { background: #f1f5f9; }
.btn:active { transform: translateY(1px); }

.btn-primario {background: #2563eb;border-color: #2563eb;color: #fff; }
.btn-primario:hover  { background: #1d4ed8; }
.btn-primario:active { transform: translateY(1px); }

/* Alineación de “Tipo / Zona / Descripción / Fecha …” en dos columnas */
.grid label:nth-child(1), .grid label:nth-child(2)  { grid-column: span 1; }
.grid label:nth-child(3) { /* Descripción ocupa ancho completo */grid-column: 1 / -1; }
.grid label:nth-child(4) { /* Fecha y hora medio ancho en desktop */grid-column: span 1; }

@media (max-width: 640px) {  .grid label:nth-child(4) { grid-column: 1 / -1; }   }

/* === ADMIN · Tratamientos · filtros compactos === */
#admin-tratamientos .card.filtros-trat{
    /* Anula el min-height global de .card */
    min-height: auto; /* o: unset */
    padding: 10px 12px;
    margin: 8px auto 14px;
    max-width: 1100px;
}

/* Densidad y alineación en una sola línea */
#admin-tratamientos .filtros-trat .input-group{
    display: grid;
    grid-template-columns: minmax(240px,1.2fr) 140px minmax(240px,1.2fr) auto;
    gap: 8px;
    align-items: center;
}

/* Campos bajitos y consistentes */
#admin-tratamientos .filtros-trat input,
#admin-tratamientos .filtros-trat select,
#admin-tratamientos .filtros-trat button{
    height: 36px;
    padding: 0 10px;
    border-radius: 10px;
}

/* Autocomplete: botón limpiar más pequeño y pegado al input */
#admin-tratamientos #usuarioClear{
    width: 26px; height: 26px;
    right: 6px; top: 50%; transform: translateY(-50%);
}

/* Evita que el dropdown “empuje” el layout (ya es position:absolute) */
#admin-tratamientos #usuarioSugg{ max-height: 220px; }

/* Responsive: apila en móvil, sin huecos grandes */
@media (max-width: 900px){
    #admin-tratamientos .filtros-trat .input-group{
        grid-template-columns: 1fr;
    }
}

/* ===========================
   ADMIN — PAGINA CITAS
   =========================== */
/* Filtros admin ultra-compactos */
.filtros-compact{
    max-width: 980px;
    margin: 12px auto 10px;
    min-height: auto;
    padding: 10px 12px;
    gap: 8px;
}
.filtros-compact .row{
    display: grid;
    grid-template-columns: 1fr auto auto auto  /* q, estado, desde, hasta */
                         1fr 1fr auto;       /* paciente, medico, btn */
    gap: 8px;
    align-items: center;
}
@media (max-width: 980px){
    .filtros-compact .row{ grid-template-columns: 1fr 1fr 1fr; }
    .filtros-compact .row:last-child{ grid-template-columns: 1fr 1fr auto; }
}
.filtros-compact input[type="search"],
.filtros-compact input[type="date"],
.filtros-compact select{
    height: 34px;
    padding: 6px 8px;
    border-radius: 8px;
}
.filtros-compact .btn_primario{ height: 34px; padding: 0 12px; }
/* Estado como pastilla coloreada */
.badge-estado{
    display:inline-block;
    padding: .2rem .55rem;
    border-radius: 999px;
    font-size: .78rem;
    font-weight: 700;
    border: 1px solid transparent;
}
.badge-PENDIENTE { background:#fff6e6; color:#8a5a00; border-color:#ffe4bd; }
.badge-CONFIRMADA{ background:#e7f0ff; color:#1a55b6; border-color:#cfe0ff; }
.badge-ATENDIDA  { background:#eaf8ec; color:#1f7a2e; border-color:#c9ebd3; }
.badge-CANCELADA { background:#ffe9e9; color:#8a1f1f; border-color:#ffd6d6; }

body.dark-theme .badge-PENDIENTE { background:#2a230f; color:#ffd89a; border-color:#5a4a1a; }
body.dark-theme .badge-CONFIRMADA{ background:#0f1a2b; color:#9ec3ff; border-color:#2b3c57; }
body.dark-theme .badge-ATENDIDA  { background:#0f2317; color:#7ad49a; border-color:#214632; }
body.dark-theme .badge-CANCELADA { background:#2b1515; color:#ff9b9b; border-color:#4b2828; }
/* Zebra suave + hora monoespaciada */
.tabla tbody tr:nth-child(even){ background: rgba(0,0,0,.015); }
.tabla td.hora { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }

/* Cabecera fija opcional si hay mucha lista */
.tabla-wrap{
    max-height: 60vh;         /* ajusta si quieres */
    overflow: auto;
    border-radius: 10px;
    border: 1px solid #e6ebf1;
}
.tabla thead th{
    position: sticky; top: 0; z-index: 1;
    background: color-mix(in srgb, var(--color_primario), transparent 90%);
}

/* ===========================
   ADMIN — PAGINA REPORTES
   =========================== */

/* ===========================
   RECORDATORIOS — Bloque actualizado
   =========================== */
/* Paleta y tokens */
:root {
    --rec-bg: #fff;
    --rec-bg-soft:#f7f9fb;
    --rec-text:#253146;
    --rec-text-soft:#6b778c;
    --rec-border:#e6ebf1;
    --rec-primary:#0ea5e9;
    --rec-danger:#ef4444;
    --rec-success: #26547e;
    --rec-type-med:#3b82f6;
    --rec-type-cita:#f59e0b;
    --rec-type-trat: #163149;
    --rec-card-shadow:0 6px 18px rgba(15,23,42,.08);
    --rec-card-shadow-hover:0 10px 26px rgba(15,23,42,.14);
}

/* Layout */
#main_panelUser .rec-title { margin-top: .25rem; text-align:center; font-weight: 800; letter-spacing:.2px; color:var(--rec-text); }
#main_panelUser .rec-wrap { display:grid; grid-template-columns:1fr; gap:1.25rem; }

/* Formulario */
#main_panelUser .rec-form { background:var(--rec-bg); border:1px solid var(--rec-border); border-radius:16px; padding:16px; box-shadow:var(--rec-card-shadow); display:grid; gap:12px; }
#main_panelUser .rec-grid-2 { display:grid; gap:12px; grid-template-columns:1fr 1fr; }

@media(max-width:900px){ #main_panelUser .rec-grid-2{grid-template-columns:1fr;} }
#main_panelUser .rec-form input,
#main_panelUser .rec-form select,
#main_panelUser .rec-form textarea { width:100%; padding:10px 12px; border:1px solid var(--rec-border); border-radius:10px; background:var(--rec-bg-soft); color:var(--rec-text); outline:none; }
#main_panelUser .rec-actions { display:flex; gap:10px; flex-wrap:wrap; margin-top:6px; }
#main_panelUser .rec-actions button { border:0; border-radius:10px; padding:10px 14px; cursor:pointer; background:var(--rec-primary); color:#fff; font-weight:600; box-shadow:var(--rec-card-shadow); transition:transform .15s, box-shadow .15s, filter .2s; }
#main_panelUser .rec-actions button:hover { transform:translateY(-1px); box-shadow:var(--rec-card-shadow-hover); }
#main_panelUser #btn-limpiar { background:#64748b; }
#main_panelUser #btn-demo { background:#0ea5e9; }

/* Chips filtro */
#main_panelUser .rec-chips { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; list-style:none; margin:4px 0 14px; padding:0; }
#main_panelUser .rec-chip { display:inline-flex; align-items:center; padding:8px 14px; border-radius:999px; border:1px solid var(--rec-border); background:var(--rec-bg); color:var(--rec-text); cursor:pointer; box-shadow:var(--rec-card-shadow); transition:all .15s; }
#main_panelUser .rec-chip.active { background:var(--rec-primary); color:#fff; border-color:transparent; }

/* Lista */
#main_panelUser .rec-list { list-style:none; padding:0; margin:0; display:grid; gap:12px; }

/* Card */
#main_panelUser .rec-card { display:flex; justify-content:space-between; gap:14px; padding:16px; background:var(--rec-bg); border:1px solid var(--rec-border); border-left:6px solid var(--rec-primary); border-radius:16px; box-shadow:var(--rec-card-shadow); transition:transform .16s, box-shadow .16s, border-color .16s; }
#main_panelUser .rec-card:hover { transform:translateY(-2px); box-shadow:var(--rec-card-shadow-hover); }
#main_panelUser .rec-card:has(.rec-chip--med){ border-left-color:var(--rec-type-med); }
#main_panelUser .rec-card:has(.rec-chip--cita){ border-left-color:var(--rec-type-cita); }
#main_panelUser .rec-card:has(.rec-chip--trat){ border-left-color:var(--rec-type-trat); }

/* Card content */
#main_panelUser .rec-card__left { flex:1; }
#main_panelUser .rec-card__title { display:flex; align-items:center; gap:10px; font-weight:800; color:var(--rec-text); }
#main_panelUser .rec-card__title input[type="checkbox"] { width:18px; height:18px; accent-color:var(--rec-success); cursor:pointer; }
#main_panelUser .rec-card__title--done { color:var(--rec-success); text-decoration:line-through; }
#main_panelUser .rec-date { margin:8px 0 6px; color:var(--rec-text-soft); font-size:.95rem; }
#main_panelUser .rec-desc { margin-top:8px; color:var(--rec-text); }

/* Tags */
#main_panelUser .rec-tags { display:flex; flex-wrap:wrap; gap:8px; }
#main_panelUser .rec-chip--med{ background:rgba(59,130,246,.12); color:#2563eb; }
#main_panelUser .rec-chip--cita{ background:rgba(245,158,11,.14); color:#b45309; }
#main_panelUser .rec-chip--trat{ background:rgba(16,185,129,.13); color:#059669; }

/* Acciones */
#main_panelUser .rec-card__right { display:flex; flex-direction:column; gap:8px; }
#main_panelUser .rec-btn { border:0; border-radius:10px; padding:8px 12px; background:var(--rec-bg-soft); color:var(--rec-text); font-weight:700; cursor:pointer; box-shadow:var(--rec-card-shadow); transition:transform .15s, box-shadow .15s;}
#main_panelUser .rec-btn:hover { transform:translateY(-1px); box-shadow:var(--rec-card-shadow-hover); }
#main_panelUser .rec-btn--danger { background:#fee2e2; color:#991b1b; }

/* Resumen */
#main_panelUser .rec-resumen {
    text-align:center; color:var(--rec-text-soft); margin:4px 0 10px;
}

/* Layout */
#main_panelUser .hist-wrap { display: grid; gap: 1rem; padding: 1rem; }
#main_panelUser .hist-title { text-align: center; margin-bottom: .5rem; }
#main_panelUser .hist-filters { display: grid; gap: .75rem; }
#main_panelUser .hist-chips { display: flex; gap: .5rem; flex-wrap: wrap; justify-content: center; }
#main_panelUser .hist-search { display: flex; gap: .5rem; flex-wrap: wrap; justify-content: center; align-items: center; }
#main_panelUser .hist-search input[type="search"],
#main_panelUser .hist-search input[type="date"] { padding: .5rem .75rem; border-radius: .5rem; border: 1px solid var(--color-secundary-button, #dedede); background: var(--fondo-body, #fff); color: inherit; }
#main_panelUser .hist-dates { display: flex; gap: .5rem; align-items: center; }
#main_panelUser .hist-content { display: grid; gap: 1.25rem; }
#main_panelUser .hist-subtitle { margin: .25rem 0 .5rem; }

/* Chips */
#main_panelUser .chip { border: 1px solid var(--texto_secundario, #d0d0d0); background: var(--fondo-body, transparent); color: inherit; padding: .35rem .75rem; border-radius: 999px; cursor: pointer; }
#main_panelUser .chip.is-active { background: var(--color_primario, #2b7cff); color: #fff; border-color: var(--color_primario, #2b7cff); }

/* Cards */
#main_panelUser .hist-list { display: grid; gap: .75rem; }
#main_panelUser .hist-card { display: grid; grid-template-columns: auto 1fr auto; gap: .75rem; align-items: start; padding: .9rem; border: 1px solid var(--color-primary-button, #e2e2e2); border-radius: .75rem; background: var(--fondo-body, #fff); }
#main_panelUser .hist-card__icon { font-size: 1.5rem; line-height: 1; }
#main_panelUser .hist-card__title { margin: 0; font-size: 1rem; }
#main_panelUser .hist-card__head { display: flex; align-items: center; justify-content: space-between; gap: .5rem; }
#main_panelUser .hist-card__meta { opacity: .8; font-size: .9rem; margin: .25rem 0; }
#main_panelUser .hist-card__desc,
#main_panelUser .hist-card__extra { margin: .25rem 0 0 0; }
#main_panelUser .hist-card__actions { display: flex; gap: .5rem; }

/* Badges y botones */
#main_panelUser .badge {
    display: inline-block; padding: .2rem .5rem; border-radius: .5rem; font-size: .75rem;
    border: 1px solid transparent;
}
#main_panelUser .badge.is-outline { border-color: var(--color_primario, #d9d9d9); }
#main_panelUser .badge.is-success { background: #eaf8ec; color: #1f7a2e; }
#main_panelUser .badge.is-warning { background: #fff6e6; color: #8a5a00; }
#main_panelUser .badge.is-danger  { background: #ffe9e9; color: #8a1f1f; }
#main_panelUser .badge.is-primary { background: #e7f0ff; color: #1a55b6; }
#main_panelUser .badge.is-neutral { background: #f1f1f1; color: #444; }

#main_panelUser .btn-primary { padding: .45rem .8rem; border-radius: .5rem; border: none; background: var(--color_primario, #2b7cff); color: #fff; cursor: pointer; }
#main_panelUser .btn-secondary { padding: .45rem .8rem; border-radius: .5rem; background: transparent; border: 1px solid var(--color-secundary-button, #cfcfcf); cursor: pointer; }

/* States */
#main_panelUser .hist-empty { opacity: .8; text-align: center; }
#main_panelUser .hist-loading, #main_panelUser .hist-error { text-align: center; }

/* ===== HISTORIAL PACIENTE – estilos que casan con tu HTML ===== */

/* Contenedor general */
#main_panelUser .hist-wrap{display:grid;gap:1rem;padding:1rem;}
#main_panelUser .hist-header{
    background:var(--color_fondo); color:#fff; border-radius:10px;
    padding:16px; display:flex; align-items:center; justify-content:space-between; gap:.75rem;
}
#main_panelUser .hist-header .hist-title{margin:0; font-size:1.25rem;}
#main_panelUser .hist-header .hist-actions{display:flex; gap:.5rem; flex-wrap:wrap;}
#main_panelUser .hist-header .btn{background:#fff; color:var(--color_fondo); border:0;}
#main_panelUser .hist-header .btn:hover{filter:brightness(.95);}

/* Tarjeta de filtros */
#main_panelUser .hist-filtros.card{
    background:#fff; border-radius:12px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.05);
}
#main_panelUser .hist-form{display:grid; gap:.75rem;}
#main_panelUser .hist-grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.75rem;}
#main_panelUser .hist-adv-toggle{display:flex; justify-content:flex-end;}
#main_panelUser .hist-avanzados{margin-top:.5rem;}
#main_panelUser .hist-filtros label{display:block; font-weight:600; color:var(--color_texto);}
#main_panelUser .hist-filtros input,
#main_panelUser .hist-filtros select{
    width:100%; padding:.55rem .7rem; border:1px solid #d9d9d9; border-radius:8px; background:#fff;
}
#main_panelUser .hist-actions{display:flex; gap:.5rem; align-items:center;}
#main_panelUser .btn_primario{background:var(--color-primary-button); color:#fff; border:0;}
#main_panelUser .btn_linea{background:#fff; border:1px solid #d3d7dc; color:var(--color_texto);}

/* Timeline */
#main_panelUser .hist-timeline.card{
    background:#fff; border-radius:12px; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,.05);
}

/* Lista y tarjetas (coinciden con tu HTML) */
#main_panelUser .hist-lista{display:grid; gap:.75rem; list-style:none; padding:0; margin:0;}
#main_panelUser .hist-item{
    display:grid; grid-template-columns: 160px 120px 1fr; gap:.75rem; align-items:start;
    border:1px solid #e6e8ec; background:#fff; border-radius:10px; padding:12px;
}
#main_panelUser .hist-fecha{font-weight:700; color:var(--color_texto);}
#main_panelUser .hist-tipo{display:flex; align-items:center; gap:.35rem;}
#main_panelUser .hist-contenido h4{margin:.15rem 0; font-size:1rem; color:var(--color_texto);}
#main_panelUser .hist-contenido p{margin:.25rem 0; color:var(--texto_secundario);}
#main_panelUser .hist-meta{margin-top:.2rem; font-size:.9rem; color:var(--texto_secundario);}
#main_panelUser .hist-item-actions{margin-top:.35rem; display:flex; gap:.35rem; align-items:center;}
#main_panelUser .hist-item-actions .link{color:var(--color_primario);}

/* Evita que <strong> salga rojo en este bloque */
#main_panelUser .hist-contenido strong{color:var(--color_texto);}

/* Chips por tipo */
#main_panelUser .chip{
    display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.8rem; font-weight:700;
    border:1px solid transparent; line-height:1;
}
#main_panelUser .chip-sintoma{background:#e8f4ff; color:#0b5ed7; border-color:#cfe6ff;}
#main_panelUser .chip-tratamiento{background:#e8fff6; color:#1d7a50; border-color:#c9f3e3;}
#main_panelUser .chip-cita{background:#fff5e6; color:#8a5a00; border-color:#ffe4bd;}

/* Mensaje vacío */
#main_panelUser .hist-timeline .text_center{opacity:.8; padding:10px;}

/* Paginación */
#main_panelUser .hist-paginacion{display:flex; justify-content:center; margin-top:.5rem;}
#main_panelUser .hist-paginacion form span{color:var(--texto_secundario);}

/* Responsive */
@media (max-width: 900px){
    #main_panelUser .hist-grid-3{grid-template-columns:1fr;}
    #main_panelUser .hist-item{grid-template-columns:1fr; gap:.5rem;}
    #main_panelUser .hist-fecha{order:1;}
    #main_panelUser .hist-tipo{order:2;}
    #main_panelUser .hist-contenido{order:3;}
}
/* ===== HISTORIAL PACIENTE – estilos que casan con tu HTML ===== */

/* Contenedor general */
#main_panelUser .hist-wrap{display:grid;gap:1rem;padding:1rem;}
#main_panelUser .hist-header{
    background:var(--color_fondo); color:#fff; border-radius:10px;
    padding:16px; display:flex; align-items:center; justify-content:space-between; gap:.75rem;
}
#main_panelUser .hist-header .hist-title{margin:0; font-size:1.25rem;}
#main_panelUser .hist-header .hist-actions{display:flex; gap:.5rem; flex-wrap:wrap;}
#main_panelUser .hist-header .btn{background:#fff; color:var(--color_fondo); border:0;}
#main_panelUser .hist-header .btn:hover{filter:brightness(.95);}

/* Tarjeta de filtros */
#main_panelUser .hist-filtros.card{
    background:#fff; border-radius:12px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.05);
}
#main_panelUser .hist-form{display:grid; gap:.75rem;}
#main_panelUser .hist-grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.75rem;}
#main_panelUser .hist-adv-toggle{display:flex; justify-content:flex-end;}
#main_panelUser .hist-avanzados{margin-top:.5rem;}
#main_panelUser .hist-filtros label{display:block; font-weight:600; color:var(--color_texto);}
#main_panelUser .hist-filtros input,
#main_panelUser .hist-filtros select{
    width:100%; padding:.55rem .7rem; border:1px solid #d9d9d9; border-radius:8px; background:#fff;
}
#main_panelUser .hist-actions{display:flex; gap:.5rem; align-items:center;}
#main_panelUser .btn_primario{background:var(--color-primary-button); color:#fff; border:0;}
#main_panelUser .btn_linea{background:#fff; border:1px solid #d3d7dc; color:var(--color_texto);}

/* Timeline */
#main_panelUser .hist-timeline.card{
    background:#fff; border-radius:12px; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,.05);
}

/* Lista y tarjetas (coinciden con tu HTML) */
#main_panelUser .hist-lista{display:grid; gap:.75rem; list-style:none; padding:0; margin:0;}
#main_panelUser .hist-item{
    display:grid; grid-template-columns: 160px 120px 1fr; gap:.75rem; align-items:start;
    border:1px solid #e6e8ec; background:#fff; border-radius:10px; padding:12px;
}
#main_panelUser .hist-fecha{font-weight:700; color:var(--color_texto);}
#main_panelUser .hist-tipo{display:flex; align-items:center; gap:.35rem;}
#main_panelUser .hist-contenido h4{margin:.15rem 0; font-size:1rem; color:var(--color_texto);}
#main_panelUser .hist-contenido p{margin:.25rem 0; color:var(--texto_secundario);}
#main_panelUser .hist-meta{margin-top:.2rem; font-size:.9rem; color:var(--texto_secundario);}
#main_panelUser .hist-item-actions{margin-top:.35rem; display:flex; gap:.35rem; align-items:center;}
#main_panelUser .hist-item-actions .link{color:var(--color_primario);}

/* Evita que <strong> salga rojo en este bloque */
#main_panelUser .hist-contenido strong{color:var(--color_texto);}

/* Chips por tipo */
#main_panelUser .chip{
    display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.8rem; font-weight:700;
    border:1px solid transparent; line-height:1;
}
#main_panelUser .chip-sintoma{background:#e8f4ff; color:#0b5ed7; border-color:#cfe6ff;}
#main_panelUser .chip-tratamiento{background:#e8fff6; color:#1d7a50; border-color:#c9f3e3;}
#main_panelUser .chip-cita{background:#fff5e6; color:#8a5a00; border-color:#ffe4bd;}

/* Mensaje vacío */
#main_panelUser .hist-timeline .text_center{opacity:.8; padding:10px;}

/* Paginación */
#main_panelUser .hist-paginacion{display:flex; justify-content:center; margin-top:.5rem;}
#main_panelUser .hist-paginacion form span{color:var(--texto_secundario);}

/* Responsive */
@media (max-width: 900px){
    #main_panelUser .hist-grid-3{grid-template-columns:1fr;}
    #main_panelUser .hist-item{grid-template-columns:1fr; gap:.5rem;}
    #main_panelUser .hist-fecha{order:1;}
    #main_panelUser .hist-tipo{order:2;}
    #main_panelUser .hist-contenido{order:3;}
}
/* ===== HISTORIAL PACIENTE – estilos que casan con tu HTML ===== */

/* Contenedor general */
#main_panelUser .hist-wrap{display:grid;gap:1rem;padding:1rem;}
#main_panelUser .hist-header{
    background:var(--color_fondo); color:#fff; border-radius:10px;
    padding:16px; display:flex; align-items:center; justify-content:space-between; gap:.75rem;
}
#main_panelUser .hist-header .hist-title{margin:0; font-size:1.25rem;}
#main_panelUser .hist-header .hist-actions{display:flex; gap:.5rem; flex-wrap:wrap;}
#main_panelUser .hist-header .btn{background:#fff; color:var(--color_fondo); border:0;}
#main_panelUser .hist-header .btn:hover{filter:brightness(.95);}

/* Tarjeta de filtros */
#main_panelUser .hist-filtros.card{
    background:#fff; border-radius:12px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.05);
}
#main_panelUser .hist-form{display:grid; gap:.75rem;}
#main_panelUser .hist-grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.75rem;}
#main_panelUser .hist-adv-toggle{display:flex; justify-content:flex-end;}
#main_panelUser .hist-avanzados{margin-top:.5rem;}
#main_panelUser .hist-filtros label{display:block; font-weight:600; color:var(--color_texto);}
#main_panelUser .hist-filtros input,
#main_panelUser .hist-filtros select{
    width:100%; padding:.55rem .7rem; border:1px solid #d9d9d9; border-radius:8px; background:#fff;
}
#main_panelUser .hist-actions{display:flex; gap:.5rem; align-items:center;}
#main_panelUser .btn_primario{background:var(--color-primary-button); color:#fff; border:0;}
#main_panelUser .btn_linea{background:#fff; border:1px solid #d3d7dc; color:var(--color_texto);}

/* Timeline */
#main_panelUser .hist-timeline.card{
    background:#fff; border-radius:12px; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,.05);
}

/* Lista y tarjetas (coinciden con tu HTML) */
#main_panelUser .hist-lista{display:grid; gap:.75rem; list-style:none; padding:0; margin:0;}
#main_panelUser .hist-item{
    display:grid; grid-template-columns: 160px 120px 1fr; gap:.75rem; align-items:start;
    border:1px solid #e6e8ec; background:#fff; border-radius:10px; padding:12px;
}
#main_panelUser .hist-fecha{font-weight:700; color:var(--color_texto);}
#main_panelUser .hist-tipo{display:flex; align-items:center; gap:.35rem;}
#main_panelUser .hist-contenido h4{margin:.15rem 0; font-size:1rem; color:var(--color_texto);}
#main_panelUser .hist-contenido p{margin:.25rem 0; color:var(--texto_secundario);}
#main_panelUser .hist-meta{margin-top:.2rem; font-size:.9rem; color:var(--texto_secundario);}
#main_panelUser .hist-item-actions{margin-top:.35rem; display:flex; gap:.35rem; align-items:center;}
#main_panelUser .hist-item-actions .link{color:var(--color_primario);}

/* Evita que <strong> salga rojo en este bloque */
#main_panelUser .hist-contenido strong{color:var(--color_texto);}

/* Chips por tipo */
#main_panelUser .chip{
    display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.8rem; font-weight:700;
    border:1px solid transparent; line-height:1;
}
#main_panelUser .chip-sintoma{background:#e8f4ff; color:#0b5ed7; border-color:#cfe6ff;}
#main_panelUser .chip-tratamiento{background:#e8fff6; color:#1d7a50; border-color:#c9f3e3;}
#main_panelUser .chip-cita{background:#fff5e6; color:#8a5a00; border-color:#ffe4bd;}

/* Mensaje vacío */
#main_panelUser .hist-timeline .text_center{opacity:.8; padding:10px;}

/* Paginación */
#main_panelUser .hist-paginacion{display:flex; justify-content:center; margin-top:.5rem;}
#main_panelUser .hist-paginacion form span{color:var(--texto_secundario);}

/* Responsive */
@media (max-width: 900px){
    #main_panelUser .hist-grid-3{grid-template-columns:1fr;}
    #main_panelUser .hist-item{grid-template-columns:1fr; gap:.5rem;}
    #main_panelUser .hist-fecha{order:1;}
    #main_panelUser .hist-tipo{order:2;}
    #main_panelUser .hist-contenido{order:3;}
}


/* ===== MEDICO — Tratamientos ===== */
/* ====== TRATAMIENTO NUEVO (médico) ====== */

/* Lienzo de la página */
#main-tratamientos{
    width: 100%;
    background: var(--fondo-body);
    padding: 20px 0;
}

/* Tarjeta contenedora */
.section-tratamientos{
    width: min(100%, 980px);
    margin: 0 auto;
    background: var(--color_blanco);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,.08);
    border: 1px solid #e6ebf1;
    padding: 18px;
}

/* Título */
.section-tratamientos h2{
    margin: 4px 0 14px;
    color: var(--color_primario);
    font-size: clamp(1.1rem, 2.2vw, 1.5rem);
}

/* Formulario */
.form-trat .form-grid{
    display: grid;
    grid-template-columns: repeat(2, minmax(0,1fr));
    gap: 14px;
}

/* Fila completa con inline style del HTML sigue funcionando,
   pero por si lo quitas, dejamos helper */
.form-trat .form-row.full{ grid-column: 1 / -1; }

.form-trat .form-row label{
    display:block;
    font-weight: 700;
    color: var(--color_texto);
    font-size: .92rem;
    margin: 2px 0 6px;
}

.form-trat .form-row input,
.form-trat .form-row select,
.form-trat .form-row textarea{
    width: 100%;
    padding: 10px 12px;
    border: 1px solid var(--color_secundario);
    border-radius: 10px;
    background: #fff;
    color: var(--color_texto);
    font-size: .95rem;
    outline: none;
    transition: border-color .15s, box-shadow .15s, background .15s;
}
.form-trat .form-row textarea{ min-height: 92px; resize: vertical; }

.form-trat .form-row input:focus,
.form-trat .form-row select:focus,
.form-trat .form-row textarea:focus{
    border-color: color-mix(in srgb, var(--color_primario) 70%, white);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--color_primario) 25%, transparent);
}

/* Placeholder sutil */
.form-trat ::placeholder{ color:#8a93a3; }

/* Acciones */
.rec-actions{
    margin-top: 12px;
    display: flex;
    gap: .5rem;
    flex-wrap: wrap;
}
.rec-actions button{
    background-color: var(--color-primary-button);
    color: var(--color_blanco);
    border: 0;
    padding: 10px 14px;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: transform .06s ease, background-color .15s ease, box-shadow .15s ease;
    box-shadow: 0 6px 18px rgba(0,0,0,.08);
}
.rec-actions button:hover{
    background-color: var(--color-secundary-button);
    transform: translateY(-1px);
}

.rec-actions .btn-sec{
    display:inline-flex; align-items:center;
    background: #f7f9fb;
    color: var(--color_texto);
    border: 1px solid #dfe3eb;
    padding: 10px 14px;
    border-radius: 10px;
    font-weight: 700;
}
.rec-actions .btn-sec:hover{ background:#eef2ff; }

/* Select de usuario (cuando no viene preasignado) */
#id_usuario{
    background-image: linear-gradient(to bottom, transparent, transparent 70%, rgba(0,0,0,.02));
}

/* Responsivo */
@media (max-width: 820px){
    .section-tratamientos{ padding: 16px; }
    .form-trat .form-grid{ grid-template-columns: 1fr; }
}

/* ====== Modo oscuro coherente con tu tema ====== */
body.dark-theme .section-tratamientos{
    background:#2c2c2c;
    color: var(--color_blanco);
    border-color:#444;
    box-shadow:none;
}
body.dark-theme .form-trat .form-row input,
body.dark-theme .form-trat .form-row select,
body.dark-theme .form-trat .form-row textarea{
    background:#333;
    color:#fff;
    border:1px solid #555;
}
body.dark-theme .rec-actions .btn-sec{
    background:#2f2f2f;
    color:#fff;
    border-color:#555;
}
body.dark-theme .rec-actions .btn-sec:hover{
    background:#3a3a3a;
}
/* ====== BOTONES DE ACCIONES (tabla tratamientos) ====== */
.tabla-tratamientos .acciones {
    text-align: center;
    white-space: nowrap;
}

.tabla-tratamientos .btn-editar {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-primary-button);
    color: var(--color_blanco);
    padding: 6px 12px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    text-decoration: none;
    transition: background-color 0.2s ease, transform 0.1s ease;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}
.tabla-tratamientos .btn-editar:hover {
    background-color: var(--color-secundary-button);
    transform: translateY(-1px);
}
/* Botón volver al panel */
.volver-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    background: #f7f9fb;
    color: var(--color_texto);
    border: 1px solid #dfe3eb;
    padding: 10px 14px;
    border-radius: 10px;
    font-weight: 700;
    transition: background 0.15s ease, transform 0.1s ease;
}
.volver-btn:hover {
    background: #eef2ff;
    transform: translateY(-1px);
}

.acciones .btn-sec {
    display: inline-flex; align-items: center;
    padding: 6px 10px; border-radius: 8px;
    border:1px solid #dfe3eb; background:#f7f9fb; cursor:pointer;
    font-weight:600;
}
.acciones .btn-sec:hover { background:#eef2ff; }

.acciones .btn-sec.success { background:#e8f8ee; border-color:#bfe8cd; }
.acciones .btn-sec.success:hover { background:#daf3e4; }

/* ===== Acciones compactas dentro de la tabla ===== */
.tabla-tratamientos td.acciones{
    /* el TD actúa como contenedor flexible */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    flex-wrap: wrap;          /* si no cabe, baja a otra línea */
    padding: 8px 6px;         /* un pelín más compacto */
}

.tabla-tratamientos td.acciones form{
    margin: 0;                /* sin márgenes extra del form */
}

/* Tamaño y padding más pequeños para los tres botones */
.tabla-tratamientos .btn-editar,
.tabla-tratamientos .btn-sec{
    font-size: .82rem;
    padding: 6px 10px;
    line-height: 1;
}

/* Botón eliminar un poco más estrecho */
.tabla-tratamientos .btn-sec[data-role="delete"]{
    padding: 6px 9px;
}

/* Opcional: limitar ancho de la columna para forzar wrap ordenado */
.tabla-tratamientos th:last-child,
.tabla-tratamientos td.acciones{
    max-width: 220px;
}

/* Responsive: en pantallas más estrechas, apila los botones */
@media (max-width: 1100px){
    .tabla-tratamientos td.acciones{
        justify-content: center;
        gap: 4px;
    }
    .tabla-tratamientos .btn-editar,
    .tabla-tratamientos .btn-sec{
        font-size: .78rem;
        padding: 5px 8px;
    }
}

/* Dark mode */
body.dark-theme .tabla-tratamientos .btn-editar {
    background-color: var(--color_primario);
    color: #fff;
}
body.dark-theme .tabla-tratamientos .btn-editar:hover {
    background-color: color-mix(in srgb, var(--color_primario) 80%, #fff);
}
/* ===== MEDICO — Fin Tratamientos ===== */


/* ===== MEDICO — Inicio Configuracion ===== */
/* Layout general */
.section_config {
    width: min(100%, 1100px);
    height: max-content;
    margin: 0 auto;
    background: var(--color_blanco, #fff);
    border-radius: 12px;
    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.08);
    border: 1px solid #e6ebf1;
    padding: 20px 24px;
}

.config-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--color_primario, #003366);
    color: #fff;
    padding: 16px 20px;
    border-radius: 10px 10px 0 0;
}

.config-header h2 {
    margin: 0;
    font-size: 1.3rem;
    color: var(--color_blanco);
}

/* Botón guardar */
#btnVolver {
    background: var(--color_secundario, #008c8c);
    color: #fff;
    border: none;
    padding: 8px 14px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.25s ease;
    font-size: 13px;
}
#btnGuardar {
    background: var(--color_secundario, #008c8c);
    color: #fff;
    border: none;
    padding: 8px 14px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.25s ease;
}
#btnGuardar:hover:not(:disabled) {
    background: var(--color_secundario, #00a2a2);
    transform: translateY(-1px);
}
#btnGuardar:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Tabs */
.tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
    margin-top: 16px;
}
.tabs [role="tab"] {
    border: 1px solid #d7dde3;
    background: #fff;
    border-radius: 8px;
    padding: 6px 12px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
}
.tabs [role="tab"][aria-selected="true"] {
    background: var(--color_secundario, #00a2a2);
    color: #fff;
    border-color: var(--color_secundario);
    font-weight: 600;
}

/* Contenedor principal */
.tab-panels {
    margin-top: 18px;
    padding: 12px;
}

/* Grillas */
.grid-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px 20px;
}
.col-span-2 {
    grid-column: 1 / span 2;
}

/* Campos y formularios */
.form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}
.form-group label {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--color_texto, #1a2b3c);
}
.form-group input,
.form-group select,
.form-group textarea {
    font-size: 0.9rem;
    border: 1px solid #d5dce0;
    border-radius: 6px;
    padding: 7px 9px;
    background: #fafafa;
    transition: border-color 0.2s ease;
}
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color_secundario, #00b5ad);
    background: #fff;
}
.form-group textarea {
    font-family: monospace;
    resize: vertical;
}
.form-group small.help {
    color: #708090;
    font-size: 0.8rem;
}

/* Fieldset */
fieldset.form-group {
    border: 1px solid #d5dce0;
    border-radius: 8px;
    padding: 10px 12px;
    background: #fafafa;
}
fieldset legend {
    font-weight: 600;
    color: var(--color_primario, #003366);
    margin-bottom: 4px;
    font-size: 0.9rem;
}

/* Placeholder para secciones vacías */
.empty {
    text-align: center;
    padding: 40px 0;
    color: #62727a;
}
.empty h3 {
    color: var(--color_primario, #003366);
    margin-bottom: 8px;
    font-size: 1.1rem;
}
.empty p.muted {
    color: #808b98;
    font-size: 0.9rem;
}

/* Estado guardado */
.config-footer {
    margin-top: 12px;
    background: var(--color_primario, #003366);
    border-radius: 0 0 10px 10px;
    padding: 8px 12px;
    color: #fff;
    font-size: 0.85rem;
    text-align: right;
}

/* Responsivo */
@media (max-width: 768px) {
    .grid-2 {
        grid-template-columns: 1fr;
    }
    .config-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    #btnGuardar {
        align-self: flex-end;
    }
    .tabs {
        justify-content: flex-start;
    }
}
/* ===== MEDICO — Fin Configuracion ===== */

/* ===== MEDICO — Inicio Chat Conversacional ===== */
#chat-wrap{
    height: calc(100vh - var(--altura_header) - var(--altura_footer));
    max-height: calc(100vh - var(--altura_header) - var(--altura_footer));
}

/* Lateral de conversaciones */
#chat-list { border-right: 1px solid #e6ebf1; }
#chat-list h3{
    text-align: left;
    padding: .9rem 1rem;
    margin: 0;
    color: var(--color_texto);
    border-bottom: 1px solid #e6ebf1;
    font-size: 1rem;
}
#chat-list ul li{
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    gap: .5rem;
    padding: .75rem 1rem;
    border-bottom: 1px solid #f1f3f6;
    transition: background .15s ease;
}
#chat-list ul li:hover{ background: #f7fafb; }
#chat-list ul li.is-active{
    background: #eef9fa;
    border-left: 3px solid var(--color_primario);
    padding-left: calc(1rem - 3px);
    font-weight: 700;
    color: var(--color_texto);
}
.conv-title{ overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.badge{
    justify-self: end;
    font-size: .75rem;
    padding: .15rem .5rem;
    border-radius: 999px;
    background: #e8f4ff;
    color:#0b5ed7;
    border:1px solid #cfe6ff;
}

/* Panel principal */
#chat-panel{ background: var(--fondo-body); }
#mensajes{
    padding: 1rem;
    position: relative;
}
.empty-state{
    margin: auto;
    text-align: center;
    color: var(--texto_secundario);
    opacity: .85;
    padding: 2rem 1rem;
}

/* Burbujas */
.msg{
    background: var(--color_blanco);
    border: 1px solid #e6ebf1;
    max-width: min(72%, 680px);
}
.msg .meta{
    display:block; font-size:.75rem; opacity:.7; margin-top:.25rem;
}
.msg.me{
    background: #e9fbfc;
    border-color: #cbf2f6;
}
.msg {
    background: var(--color_blanco);
    border-radius: 12px;
    padding: .8rem 1rem;
    box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    max-width: 70%;
}
.msg.me {
    align-self: flex-end;
    background: var(--color_primario);
    color: #fff;
}
/* Composer pegado abajo */
#form-msg{
    position: sticky; bottom: 0; left: 0; right: 0;
    border-top: 1px solid #e6ebf1;
}
#form-msg input{
    background: #fff;
    border-left: 1px solid #e6ebf1;
}
#form-msg button{ min-width: 92px; }

/* Responsive: en pantallas pequeñas, una columna */
@media (max-width: 900px){
    #chat-wrap{
        grid-template-columns: 1fr;
        height: calc(100vh - var(--altura_header)); /* el footer queda fuera de viewport en móvil */
        max-height: calc(100vh - var(--altura_header));
    }
    #chat-list{ height: 42vh; }
    #chat-panel{ height: 58vh; }
}
/* ===== CHAT MÉDICO — Crear conversación directa ===== */
.crear-conv {
    display: grid;
    gap: .4rem;
    padding: .75rem;
    border-bottom: 1px solid #e6ebf1;
    background: var(--color_blanco);
}

.crear-conv__form {
    display: flex;
    gap: .5rem;
}

.crear-conv__form input {
    flex: 1;
    padding: .55rem .75rem;
    border: 1px solid #d9e1ea;
    border-radius: 8px;
    background: #f7f9fb;
    font-size: .95rem;
}

.crear-conv__form button {
    background: var(--color_primario);
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: .55rem .9rem;
    font-weight: 700;
    cursor: pointer;
    transition: background-color .2s ease, transform .1s ease;
}
.crear-conv__form button:hover {
    background: var(--color_secundario);
    transform: translateY(-1px);
}

.crear-conv__help {
    font-size: .85rem;
    color: var(--texto_secundario);
}

/* Dark theme */
body.dark-theme .crear-conv {
    background: #2c2c2c;
    border-color: #444;
}
body.dark-theme .crear-conv__form input {
    background: #333;
    color: #fff;
    border-color: #555;
}
body.dark-theme .crear-conv__help {
    color: #bbb;
}
/* === Chat v2 – layout y look moderno === */
.chatv2{
    display: grid;
    grid-template-columns: 320px 1fr;
    height: calc(100vh - var(--altura_header));
    background: var(--fondo-body);
}

/* Lateral */
.chatv2 #chat-list{
    background:#fff;
    border-right:1px solid #e7eef5;
    display:flex; flex-direction:column; overflow:hidden;
}
.chatv2__sidehead{
    position:sticky; top:0; z-index:1;
    background:#fff; border-bottom:1px solid #e7eef5;
    display:flex; align-items:center; justify-content:space-between;
    padding:.85rem 1rem;
}
.chatv2 #listaConversaciones{
    overflow:auto; padding:.25rem 0;
}
.chatv2 #listaConversaciones li{
    display:grid; grid-template-columns:1fr auto; align-items:center;
    gap:.5rem; padding:.7rem 1rem; border-bottom:1px solid #f3f6fb;
    cursor:pointer; transition:background .15s ease;
}
.chatv2 #listaConversaciones li:hover{ background:#f8fbfd; }
.chatv2 #listaConversaciones li.is-active{
    background:#eef9fa; border-left:3px solid var(--color_primario); padding-left:calc(1rem - 3px);
    font-weight:700;
}
.pill{display:inline-flex; align-items:center; gap:.35rem; padding:.2rem .55rem; border-radius:999px; font-size:.72rem;}
.pill--muted{background:#f1f5f9; color:#334155; border:1px solid #e5e9f0}

/* Panel principal */
#chat-panel{display:grid; grid-template-rows:auto 1fr auto; overflow:hidden;}
.chatv2__head{
    background:#fff; border-bottom:1px solid #e7eef5; padding:.7rem 1rem;
    display:flex; align-items:center; justify-content:space-between;
}
.chatv2__head .title{display:flex; gap:.6rem; align-items:center}
.chatv2__head .status{font-size:.85rem; color:#64748b;}
.chatv2__head .dot{width:8px;height:8px;border-radius:50%;background:#10b981;display:inline-block;margin-right:.35rem}

.chatv2__messages{
    padding:1rem; overflow:auto; display:flex; flex-direction:column; gap:.5rem;
    background: linear-gradient(180deg, #f9fbff 0%, #f6f9fc 100%);
}

/* Burbujas */
.msg{
    max-width:min(70%,680px);
    border-radius:16px; padding:.75rem .95rem; line-height:1.35;
    background:#fff; color:var(--color_texto);
    border:1px solid #e7eef5; box-shadow:0 2px 6px rgba(15,23,42,.06);
}
.msg .meta{display:block; margin-top:.25rem; font-size:.75rem; opacity:.65;}
.msg.me{
    margin-left:auto;
    background: linear-gradient(180deg, var(--color_primario) 0%, var(--color_secundario) 100%);
    color:#fff; border-color:transparent; box-shadow:0 4px 10px rgba(0,0,0,.1);
}
.msg.me .meta{opacity:.85;}

/* Composer */
.chatv2__composer{
    display:grid; grid-template-columns:1fr auto; gap:.6rem;
    background:#fff; border-top:1px solid #e7eef5; padding:.7rem 1rem;
}
.chatv2__composer textarea{
    resize:none; max-height:28vh;
    border:1px solid #dbe4ee; border-radius:12px; padding:.7rem .85rem;
    background:#f8fbff; outline:none; transition:border-color .15s, box-shadow .15s, background .15s;
}
.chatv2__composer textarea:focus{
    border-color:#b9d6ff; background:#fff; box-shadow:0 0 0 3px rgba(79, 140, 255, .15);
}
.chatv2__composer .send{
    min-width:108px; border:0; border-radius:12px; font-weight:700;
    background:linear-gradient(180deg, var(--color_secundario) 0%, var(--color_primario) 100%);
    color:#fff; cursor:pointer; transition:transform .08s ease, filter .15s ease;
}
.chatv2__composer .send:hover{ filter:brightness(1.03); transform:translateY(-1px); }
.chatv2__composer .send:active{ transform:translateY(0); }

/* Estados vacíos */
.empty-state{ color:#6b7280; }

/* Dark mode */
body.dark-theme .chatv2 #chat-list,
body.dark-theme .chatv2__head,
body.dark-theme .chatv2__composer{ background:#1f2937; border-color:#334155; }
body.dark-theme .chatv2__messages{ background: linear-gradient(180deg, #0b1220 0%, #0f1a2b 100%); }
body.dark-theme .msg{ background:#0f172a; color:#e5e7eb; border-color:#334155; }
body.dark-theme .msg.me{ background: linear-gradient(180deg, #0ea5e9 0%, #0284c7 100%); }
body.dark-theme .chatv2__composer textarea{ background:#0b1220; color:#e5e7eb; border-color:#334155; }
body.dark-theme .chatv2__composer textarea:focus{ border-color:#44618a; box-shadow:0 0 0 3px rgba(2,132,199,.25); }
/* ===== MEDICO — Fin Chat Conversacional ===== */

/* ===== MEDICO — Inicio Sintomas ===== */
/* ===== Síntomas Médico (prefijo sm-) ===== */

.sintomas_medicos { padding-block: 2rem; }
.sm-wrap { max-width: 1100px; margin-inline: auto; display: grid; gap: 1.25rem; }

.sm-card {
    background: var(--color_blanco, #fff);
    border: 1px solid var(--color-primary-button, #e6ebf1);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,.06);
    padding: 1rem 1.25rem;
}

.sm-card__head { margin-bottom: .5rem; }
.sm-title { font-size: 1.125rem; font-weight: 700; margin: 0; }
.sm-subtitle { font-size: .9rem; opacity: .75; }

.sm-form { display: block; }
.sm-grid { display: grid; gap: .75rem; }
.sm-grid--4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
.sm-grid--3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }

.sm-field { display: grid; gap: .35rem; }
.sm-field--full { grid-column: 1 / -1; }
.sm-field--inline { align-items: end; }

.sm-label { font-size: .9rem; font-weight: 600; }
.sm-input, .sm-select, .sm-textarea {
    width: 100%; padding: .55rem .7rem; border-radius: 10px;
    border: 1px solid var(--color-primary-button, #d8dde6); background: var(--fondo-body, #fff);
}
.sm-select--small { max-width: 110px; }

.sm-actions { display: flex; gap: .5rem; flex-wrap: wrap; margin-top: .25rem; }
.sm-actions--right { justify-content: end; align-items: end; }
.sm-actions--left { justify-content: start; align-items: center; }

.sm-msg { margin: 0 .5rem; font-size: .9rem; opacity: .8; }

/* Tabla */
.sm-table-wrap { overflow: auto; border-radius: 10px; border: 1px solid var(--color-primary-button, #e6ebf1); }
.sm-table { width: 100%; border-collapse: collapse; font-size: .95rem; }
.sm-table thead th { position: sticky; top: 0; background: var(--color_blanco, #fff); z-index: 1; }
.sm-table th, .sm-table td { padding: .65rem .75rem; border-bottom: 1px solid var(--color-primary-button, #eef1f6); text-align: left; }
.sm-table--hover tbody tr:hover { background: rgba(0,0,0,.025); }
.sm-col--date { width: 11rem; white-space: nowrap; }
.sm-col--desc { width: 45%; }
.sm-col--actions { width: 8rem; text-align: center; }
.sm-empty { text-align: center; padding: 1rem; color: #666; }

/* Paginación */
.sm-pagination { display: flex; justify-content: space-between; align-items: center; padding-top: .75rem; }
.sm-pagination__controls { display: flex; gap: .5rem; }
.sm-pagination__info { font-size: .9rem; opacity: .8; }

/* Responsive */
@media (max-width: 1024px) {
    .sm-grid--4 { grid-template-columns: repeat(2, 1fr); }
    .sm-grid--3 { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
    .sm-grid--4, .sm-grid--3 { grid-template-columns: 1fr; }
    .sm-col--actions { width: auto; }
}
/* ===== MEDICO — Fin Sintomas ===== */


/* ===== FOOTER — refresh visual ===== */
footer{
    background-color: var(--color_fondo);
    color: #fff;
    margin-top: 28px;
    max-width: 100vw;
    text-align: left;
    font-size: 14px;

    /* Separación y profundidad sutil */
    border-top: 1px solid rgba(255,255,255,.12);
    box-shadow: 0 -6px 16px rgba(0,0,0,.08);

    /* Evita solaparse con safe-areas móviles */
    padding-bottom: max(16px, env(safe-area-inset-bottom, 0px));
}

/* Contenido centrado y limitado */
footer .section_footer{
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 16px clamp(12px, 2vw, 24px);
    height: var(--altura_footer);
    /* Layout en columnas */
    display: grid;
    grid-template-columns: 1.2fr 1fr 1fr; /* logo / navegación / legal */
    gap: 16px;
    align-items: start;
}

/* Logo */
footer picture img{
    width: 52px;
    height: auto;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,.2));
}

/* Columna de navegación */
.section_nav_footer{
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
    width: 100%;
    font-size: .95rem;
    opacity: .95;
}
.section_nav_footer a{
    color: #e6f6f7;
    text-decoration: none;
}
.section_nav_footer a:hover{
    color: #b9f3f6;
    text-decoration: underline;
}

/* Columna legal / políticas (si usas enlaces ahí) */
footer .legal{
    display: flex;
    gap: .75rem;
    flex-wrap: wrap;
    justify-content: flex-end;
    font-size: .8rem;
    opacity: .9;
}
footer .legal a{
    color: #dbeafe;
}
footer .legal a:hover{
    color: #fff;
}

/* Responsive */
@media (max-width: 900px){
    footer .section_footer{
        grid-template-columns: 1fr 1fr; /* logo + nav / legal */
    }
}
@media (max-width: 640px){
    footer .section_footer{
        grid-template-columns: 1fr; /* stack */
        text-align: center;
        align-items: center;
        height: min-content;
    }
    .section_nav_footer{
        align-items: center;
    }
    footer .legal{
        justify-content: center;
    }
}
