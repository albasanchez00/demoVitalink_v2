/* INICIO AJUSTES GENERALES */
*{ margin: 0; padding: 0; box-sizing: border-box; text-decoration: none; }

a{ list-style: none; color: var(--color_blanco); }
a:hover{ color: var(--fondo-body); }

.text_center,h2,h1{ text-align: center; }
strong{ color: rgb(233, 22, 22); }
.chat-box strong{ color: var(--color_primario); }

ul{ list-style: none; }
.icon{ color:var(--color-primary-button); }

:root{
    --badge-color: #bcbcbc;
    --c1:#006380;
    --color_fondo: #1B3A57;
    --color_primario: #00b3bd;
    --color_secundario: #006380;
    --fondo-body: #f9f9f9;
    --altura_header:10vh;
    --color_blanco: white;
    --altura_footer:10vh;
    --color-primary-button:#006380;
    --color-secundary-button:#008d95;
    --color_texto:#161616;
    --texto_secundario: #434343;
    --texto: #434343;
    --borde-suave: #00b3bd;
    --rec-bg: #fff;
    --rec-bg-soft:#f7f9fb;
    --rec-text:#253146;
    --rec-text-soft:#6b778c;
    --rec-border:#e6ebf1;
    --rec-primary:#0ea5e9;
    --rec-danger:#ef4444;
    --rec-success: #26547e;
    --rec-type-med:#3b82f6;
    --rec-type-cita:#f59e0b;
    --rec-type-trat: #163149;
    --rec-card-shadow:0 6px 18px rgba(15,23,42,.08);
    --rec-card-shadow-hover:0 10px 26px rgba(15,23,42,.14);
}


/* Asegura que `html` y `body` ocupen toda la altura */
html, body { height: 100vh; margin: 0; padding: 0; font-family: Arial, Helvetica, sans-serif; }

/* Modo oscuro web */
body.dark-theme {
    --color_fondo: #121212;
    --color_primario: #90caf9;
    --color_secundario: #42a5f5;
    --color_blanco: #e0e0e0;
    --fondo-body: #1e1e1e;
    background-color: var(--fondo-body);
    color: var(--color_blanco);
}

/* Ajusta fondo y texto en contenedores principales */
body.dark-theme #main_panelUser,
body.dark-theme #main_listaUser,
body.dark-theme #main-calendar,
body.dark-theme #main-asistente,
body.dark-theme #main-tratamientos,
body.dark-theme #main_configuracionUsuario,
body.dark-theme #main-panelEvolucion,
body.dark-theme #panel-historialMedico {
    background-color: var(--fondo-body);
    color: var(--color_blanco);
}

/* Fondos oscuros para formularios, tarjetas y paneles */
body.dark-theme .card,
body.dark-theme .card-evolucion,
body.dark-theme .config-usuario-formulario,
body.dark-theme .config-usuario-menu,
body.dark-theme .section_tabla_tratamientos,
body.dark-theme .tarjeta-cita,
body.dark-theme .tarjeta-resumen,
body.dark-theme #formulario,
body.dark-theme #formulario-tratamientos,
body.dark-theme #form-sintomas,
body.dark-theme #registros,
body.dark-theme #graficos,
body.dark-theme #filtros,
body.dark-theme .modal-contenido,
body.dark-theme .registro,
body.dark-theme .historial-container,
body.dark-theme #chat-box,
body.dark-theme #chat-box2 {
    background-color: #2c2c2c;
    color: var(--color_blanco);
}

/* Tablas, bordes y celdas */
body.dark-theme table, body.dark-theme th, body.dark-theme td, body.dark-theme .tabla-tratamientos, body.dark-theme .tabla-tratamientos th, body.dark-theme .tabla-tratamientos td { background-color: #2c2c2c; color: var(--color_blanco); border-color: #444; }

/* Hover en filas de tablas */
body.dark-theme .tabla-tratamientos tbody tr:hover { background-color: #3a3a3a; }

/* Botones secundarios */
body.dark-theme .btn-config, body.dark-theme .btn-ver-mas, body.dark-theme .btn-guardar-config, body.dark-theme .btn-cancelar,
body.dark-theme .btn-detalles { background-color: var(--color_secundario); color: var(--color_blanco); }
body.dark-theme .btn-config:hover, body.dark-theme .btn-ver-mas:hover, body.dark-theme .btn-guardar-config:hover { background-color: var(--color_primario); }

/* Colores en enlaces */
body.dark-theme a { color: var(--color_blanco); }
body.dark-theme a:hover { color: var(--color_secundario); }

/* Footer oscuro */
body.dark-theme footer { background-color: #0d0d0d; color: var(--color_blanco); }
body.dark-theme label, body.dark-theme input::placeholder{ color: var(--color_blanco); }
body.dark-theme input, body.dark-theme select, body.dark-theme textarea { background-color: #333; color: #fff; border: 1px solid #555; }

/* Oculta la barra de scroll en Chrome, Safari y Edge */
html::-webkit-scrollbar{ display: none; }

/* `main` crece para ocupar todo el espacio restante */
#main_panelUser, #main-calendar, #main-asistente, #main_configuracionUsuario, #panel-historialMedico, #main_listaUser { flex: 1; padding: 20px; overflow: auto; /* Evita el desbordamiento */ }
#main-panelEvolucion{ flex: 1; padding: 20px; overflow: auto; /* Evita el desbordamiento */ }

/* Contenedor principal usando `flexbox` */
.contenedor { display: flex; flex-direction: column; min-height: 100vh; /* Mínimo 100% del alto de la pantalla */ }
/* FIN AJUSTES GENERALES */


/* INICIO HEADER MEJORADO */
@media screen and (min-width:1023px) {
    header{
        height: var(--altura_header);
        background: linear-gradient(135deg, var(--color_fondo) 0%, #153050 100%);
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        box-shadow: 0 2px 12px rgba(0,0,0,0.15);
        position: sticky;
        top: 0;
        z-index: 1000;
        backdrop-filter: blur(10px);

        .section_header{
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1400px;
            padding: 0 40px;
            picture{
                width: 55px;
                height: auto;
                display: flex;
                justify-content: center;
                align-items: center;
                img{
                    width: 50px;
                    height: auto;
                }
                &:hover{
                    transform: scale(1.05);
                }
            }
        }

        .section_nav{
            flex: 1;
            display: flex;
            justify-content: center;

            ul{
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-items: center;
                gap: 2rem;

                li{
                    position: relative;

                    a{
                        font-weight: 500;
                        font-size: 15px;
                        letter-spacing: 0.3px;
                        padding: 8px 16px;
                        border-radius: 8px;
                        transition: all 0.3s ease;

                        &:hover{
                            background: rgba(255,255,255,0.1);
                            color: var(--color_blanco);
                        }

                        &::after{
                            content: '';
                            position: absolute;
                            bottom: -5px;
                            left: 50%;
                            transform: translateX(-50%) scaleX(0);
                            width: 80%;
                            height: 2px;
                            background: var(--color_primario);
                            transition: transform 0.3s ease;
                        }

                        &:hover::after{
                            transform: translateX(-50%) scaleX(1);
                        }
                    }
                }
            }
        }

        .section_demo{
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            margin: 0 10px;
            .btn-demo{
                display: flex;
                flex-direction: row;
                align-items: center;
                gap: 5px;
                justify-content: center;
                background: linear-gradient(135deg, var(--color-primary-button), var(--color-secundary-button));
                padding: 10px 24px;
                border-radius: 50px;
                font-weight: 600;
                font-size: 14px;
                box-shadow: rgba(0, 163, 181, 0.3) 0px 4px 12px;
                transition: 0.3s;
            }
        }

        .section_user{
            display: flex;
            flex-direction: row;
            justify-content: flex-end;
            align-items: center;
            gap: 1rem;

            a{
                display: flex;
                flex-direction: row;
                align-items: center;
                gap: 5px;
                justify-content: center;
                background: linear-gradient(135deg, var(--color-primary-button), var(--color-secundary-button));
                padding: 10px 24px;
                border-radius: 50px;
                font-weight: 600;
                font-size: 14px;
                box-shadow: 0 4px 12px rgba(0,163,181,0.3);
                transition: all 0.3s ease;

                &:hover{
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(0,163,181,0.4);
                    color: var(--color_blanco);
                }
            }
            .header_img{
                width: 20px;
                height: auto;
            }
        }
    }
}

/* Menu Responsive Mejorado */
.menu-toggle {
    display: none;
    flex-direction: column;
    justify-content: space-between;
    width: 30px;
    height: 25px;
    cursor: pointer;
}

.menu-toggle span {
    background: var(--color_blanco);
    height: 3px;
    width: 100%;
    border-radius: 5px;
    transition: all 0.3s ease;
}

@media screen and (max-width: 1023px) {
    .menu-toggle {
        display: flex;
    }

    header{
        height: var(--altura_header);
        background: linear-gradient(135deg, var(--color_fondo) 0%, #153050 100%);
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        width: 100%;
        max-width: 100vw;
        color: white;
        box-shadow: 0 2px 12px rgba(0,0,0,0.15);
        overflow-x: hidden;

        .section_header{
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 100%;
            padding: 0 20px;

            picture{
                width: 55px;
                height: auto;
                display: flex;
                justify-content: center;
                align-items: center;
                img{
                    width: 50px;
                    height: auto;
                }
                &:hover{
                    transform: scale(1.05);
                }
            }
        }

        .section_user{
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            font-size: 14px;

            a{
                padding: 8px 16px;
                font-size: 13px;
            }
            a .header_img{
                width: 50px;
                height: auto;
            }
        }
    }

    .nav-links {
        position: absolute;
        top: var(--altura_header);
        left: 0;
        width: 100%;
        height: 0;
        background: linear-gradient(180deg, var(--color_fondo) 0%, #0f2d45 100%);
        backdrop-filter: blur(10px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        transition: height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }

    .nav-links.show {
        height: 250px;
    }

    .menu-toggle.active span:nth-child(1) {
        transform: rotate(45deg) translate(8px, 8px);
    }

    .menu-toggle.active span:nth-child(2) {
        opacity: 0;
    }

    .menu-toggle.active span:nth-child(3) {
        transform: rotate(-45deg) translate(8px, -8px);
    }
}
/* Modo Oscuro */
body.dark-theme header {
    background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
}
/* FIN HEADER */

/* INICIO PAGINAS USUARIO */
/* Contenedor principal *//* ESTILO BASE (MÓVIL) */
/* ============================================================
   DISEÑO UNIFICADO DE PANELES (USER, ADMIN, MÉDICO)
   ============================================================ */

#main_panelUser {
    width: 100%;
    background-color: var(--fondo-body);
    padding: 20px 0;
}

/* Estructura general */
.section_panelUser {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    min-height: 100%;
    padding: 20px;
}

/* NAV superior */
.nav_panelUser {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: nowrap;
    width: 100%;
}

.section_panelUser .nav_panelUser ul {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem;
    justify-content: center;
    background: var(--color_primario);
    padding: .6rem;
    width: 100%;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,.1);
}

.section_panelUser .nav_panelUser ul li a {
    display: inline-flex;
    align-items: center;
    gap: .3rem;
    padding: .5rem 1rem;
    color: #fff;
    font-weight: 600;
    border-radius: 999px;
    transition: all .2s ease;
}
.section_panelUser .nav_panelUser ul li a:hover {
    background: rgba(255,255,255,.15);
}
.section_panelUser .nav_panelUser ul li a.is-active {
    background: #fff;
    color: var(--color_primario);
}

/* Dashboard */
.dashboard-overview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 16px;
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 15px;
}

/* Cards */
.dashboard-overview .card {
    background: #fff;
    border: 1px solid #e6ebf1;
    border-radius: 12px;
    padding: 16px 18px 12px;
    color: var(--color_texto);
    box-shadow: 0 4px 10px rgba(0,0,0,.06);
    transition: all .2s ease;
    min-height: 140px;
    font-size: 0.95rem;
}
.dashboard-overview .card:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 18px rgba(0,0,0,.12);
}

/* Card texto */
.card h3 {
    margin: 0 0 8px 0;
    font-size: 1.05rem;
    color: var(--color_primario);
}
.card p {
    margin: 6px 0;
    line-height: 1.35;
    color: var(--color_texto, #222);
}

/* Pills */
.pill {
    display:inline-block;
    font-size:.75rem;
    line-height:1;
    padding:.22rem .5rem;
    border-radius:999px;
    vertical-align:baseline;
}
.pill--info  { background:#e6f0ff; color:#1e40af; }
.pill--warn  { background:#fff1e6; color:#b45309; }
.pill--muted { background:#eef1f4; color:#475569; }

/* Mini textos */
.mini { opacity:.75; }

/* Enlaces discretos */
.p-as-link { cursor: pointer; border-radius: 8px; padding: 2px 4px; }
.p-as-link:hover { background: rgba(0,0,0,.04); }

/* Chat flotante */
#chat-toggle, #chat-toggle2, #chat-toggle3 {
    position: fixed;
    bottom: 140px;
    right: 30px;
    width: 58px;
    height: 58px;
    background-color: var(--color-primary-button);
    color: white;
    font-size: 26px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 1000;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
    transition: transform 0.2s ease, box-shadow 0.3s ease;
}
#chat-toggle:hover, #chat-toggle2:hover, #chat-toggle3:hover {
    transform: scale(1.1);
    background-color: var(--color-secundary-button);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}
#chat-box, #chat-box2, #chat-box3 {
    position: fixed;
    bottom: 215px;
    right: 30px;
    width: 340px;
    height: 440px;
    background-color: white;
    border-radius: 12px;
    display: none;
    flex-direction: column;
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.25);
    overflow: hidden;
    z-index: 1001;
    animation: fadeInUp 0.3s ease forwards;
}
#chat-box.open, #chat-box2.open, #chat-box3.open { display: flex; }

@keyframes fadeInUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* Chat header/body */
#chat-header, #chat-header2, #chat-header3 {
    background-color: var(--color-primary-button);
    color: white;
    font-weight: bold;
    padding: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
#chat-header span, #chat-header2 span, #chat-header3 span {
    font-size: 1.3rem;
    cursor: pointer;
}
#chat-body, #chat-body2, #chat-body3 {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 10px;
    overflow: hidden;
}
#chat-messages, #chat-messages2, #chat-messages3 {
    flex: 1;
    overflow-y: auto;
    margin-bottom: 10px;
}
#chat-input, #chat-input2, #chat-input3 {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
}

/* Responsive */
@media (max-width: 768px) {
    #main_panelUser { padding: 16px 0; }
    .section_panelUser { padding: 16px 12px; }

    /* ============================================================
   FIX: NAV_PANELUSER — Scroll horizontal en móviles
   ============================================================ */

    /* En pantallas <= 768px el menú se comporta como carrusel */
    @media (max-width: 768px) {
        .section_panelUser .nav_panelUser {
            overflow: hidden;
            width: 100%;
            padding: 0 .5rem;
        }

        .section_panelUser .nav_panelUser ul {
            display: flex;
            flex-wrap: wrap;              /* no romper filas */
            justify-content: center;
            overflow-x: auto;               /* permite desplazamiento horizontal */
            overflow-y: hidden;
            white-space: nowrap;
            gap: .5rem;
            scroll-snap-type: x mandatory;  /* snapping suave */
            scrollbar-width: none;          /* oculta scrollbar (Firefox) */
            background: var(--color_primario);
            border-radius: 14px;
            padding: .6rem .8rem;
            margin: 0;
        }

        .section_panelUser .nav_panelUser ul::-webkit-scrollbar {
            display: none; /* oculta scrollbar (Chrome/Safari) */
        }

        .section_panelUser .nav_panelUser ul li {
            flex: 0 0 auto;                 /* evita que se encojan */
            scroll-snap-align: start;
        }

        .section_panelUser .nav_panelUser ul li a {
            display: inline-block;
            white-space: nowrap;
            font-size: 0.95rem;
            padding: .48rem 1rem;
            border-radius: 999px;
        }
    }


    .dashboard-overview {
        grid-template-columns: repeat(6, minmax(0, 1fr));
        gap: .75rem;
        padding: 0 10px;
        margin: 16px auto;
    }
    .dashboard-overview .card {
        grid-column: span 3;
        min-height: 120px;
        padding: 10px 12px;
        font-size: 0.9rem;
    }
    .dashboard-overview .wide-card { grid-column: 1 / -1; }
}

@media (max-width: 600px) {
    .dashboard-overview { grid-template-columns: repeat(6, 1fr); }
    .dashboard-overview .card, .dashboard-overview .wide-card { grid-column: 1 / -1; }
}
@media (max-width: 480px) {
    #chat-toggle, #chat-toggle2, #chat-toggle3 {
        bottom: 20px; right: 15px; width: 52px; height: 52px;
    }
    #chat-box, #chat-box2, #chat-box3 { bottom: 80px; right: 5vw; width: 90vw; }
}


/* INICIO PÁGINA GESTION DE CITAS */
#main-calendar { display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; padding: 20px; background: var(--fondo-body);}
#formulario { background: var(--color_blanco); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); min-width: 60%; margin: 20px 0;}
#formulario h2 { text-align: center; color: var(--color_primario);}
#formulario label { font-weight: bold; margin-top: 10px; display: block;}
#formulario input, #formulario select, #formulario button { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid var(--color_secundario); border-radius: 5px;}
#formulario button { background: var(--color-primary-button); color: var(--color_blanco); font-weight: bold; cursor: pointer;}
#formulario button:hover { background: var(--color-secundary-button);}
#calendario { display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 20px; background: var(--color_blanco); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); min-width: 60%;
    h2{ color: #006380;}
}
#calendar { color: var(--color_secundario); width: 100%; max-width: 100%;
    .fc-view-container { width: 100%;}
    .fc-dayGridMonth-view { width: 100%;}
}
.fc *{ color: var(--color_blanco); font-size: 16px;
    a{ color: #1B3A57;}
}
/* Botón agregar cita a Google Calendar */
.gcal-btn { display: inline-block; padding: 8px 16px; background-color: var(--color-primary-button); color: white; border-radius: 6px; text-decoration: none; font-weight: 500; transition: background-color 0.3s ease; width: 100%; text-align: center; margin: 10px 0;}
.gcal-btn:hover { background-color: var(--color-secundary-button); text-decoration: none;}
/* FIN PÁGINA GESTION DE CITAS */


/* =====================================================
   REGISTRO DE SÍNTOMAS - CSS MEJORADO
   Añadir al final de style2.css o como bloque independiente
   ===================================================== */

/* === Layout Principal === */
#main_registroSintomas {
    min-height: calc(100vh - var(--altura_header) - var(--altura_footer));
    padding: 40px 20px 60px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
}

/* === Encabezado === */
#main_registroSintomas .section_header {
    text-align: center;
    margin-bottom: 0.5rem;
}

#main_registroSintomas .header-titulo {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
}

#main_registroSintomas .btn-filt-header {
    display: flex;
    flex-direction: row;
    align-items: center;
    width: 40%;
    justify-content: flex-end;
    gap: 15px;
}
#main_registroSintomas .icono-header {
    width: 36px;
    height: 36px;
    color: var(--color_primario);
}

#main_registroSintomas .section_header h1 {
    font-size: clamp(1.6rem, 3vw, 2rem);
    color: var(--color_primario);
    margin: 0;
    font-weight: 700;
}

#main_registroSintomas .subtitulo {
    color: #64748b;
    font-size: 0.95rem;
    margin-top: 0.5rem;
}

/* === Panel de Filtros === */
#main_registroSintomas .filtros-panel {
    width: 100%;
    max-width: 1000px;
    background: var(--color_blanco);
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
    padding: 1.25rem 1.5rem;
    border: 1px solid #e2e8f0;
}

#main_registroSintomas .filtros-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    flex-wrap: wrap;
    gap: 0.75rem;
}

#main_registroSintomas .filtros-header h3 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1rem;
    font-weight: 600;
    color: #334155;
    margin: 0;
}

#main_registroSintomas .filtros-header h3 svg {
    color: var(--color_primario);
}

/* Grid de filtros */
#main_registroSintomas .filtros-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr) auto;
    gap: 1rem;
    align-items: end;
}

#main_registroSintomas .filtro-grupo {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
}

#main_registroSintomas .filtro-grupo label {
    font-size: 0.8rem;
    font-weight: 500;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.03em;
}

#main_registroSintomas .filtro-grupo select,
#main_registroSintomas .filtro-grupo input[type="date"] {
    padding: 0.6rem 0.75rem;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 0.9rem;
    background: #f8fafc;
    color: #334155;
    transition: all 0.2s ease;
    width: 100%;
}

#main_registroSintomas .filtro-grupo select:hover,
#main_registroSintomas .filtro-grupo input[type="date"]:hover {
    border-color: #cbd5e1;
}

#main_registroSintomas .filtro-grupo select:focus,
#main_registroSintomas .filtro-grupo input[type="date"]:focus {
    outline: none;
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(var(--color_primario_rgb, 0, 128, 128), 0.1);
    background: var(--color_blanco);
}

/* Acciones de filtros */
#main_registroSintomas .filtros-acciones {
    display: flex;
    gap: 0.5rem;
}

#main_registroSintomas .filtros-info {
    margin-top: 0.75rem;
    padding-top: 0.75rem;
    border-top: 1px solid #f1f5f9;
}

#main_registroSintomas #contador-resultados {
    font-size: 0.85rem;
    color: #64748b;
}

/* === Botones === */
#main_registroSintomas .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    padding: 0.6rem 1rem;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
}

#main_registroSintomas .btn-primario {
    background: linear-gradient(135deg, var(--color_primario), var(--color_secundario));
    color: var(--color_blanco);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

#main_registroSintomas .btn-primario:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

#main_registroSintomas .btn-outline {
    background: transparent;
    color: #64748b;
    border: 1px solid #e2e8f0;
}

#main_registroSintomas .btn-outline:hover {
    background: #f8fafc;
    border-color: #cbd5e1;
}

#main_registroSintomas .btn-nuevo {
    padding: 0.65rem 1.25rem;
}

/* === Tabla === */
#main_registroSintomas .tabla-responsive {
    width: 100%;
    max-width: 1000px;
    background: var(--color_blanco);
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
    overflow: hidden;
    border: 1px solid #e2e8f0;
}

#main_registroSintomas .tabla-sintomas {
    width: 100%;
    border-collapse: collapse;
}

#main_registroSintomas .tabla-sintomas thead th {
    background: linear-gradient(135deg, var(--color_primario), var(--color_secundario));
    color: var(--color_blanco);
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    padding: 0.9rem 1rem;
    text-align: left;
}

#main_registroSintomas .tabla-sintomas tbody td {
    padding: 0.85rem 1rem;
    font-size: 0.9rem;
    color: #334155;
    border-bottom: 1px solid #f1f5f9;
    vertical-align: middle;
}

#main_registroSintomas .tabla-sintomas tbody tr:last-child td {
    border-bottom: none;
}

#main_registroSintomas .tabla-sintomas tbody tr:hover td {
    background: #f8fafc;
}

/* Columnas específicas */
#main_registroSintomas .col-fecha {
    white-space: nowrap;
    font-weight: 500;
    color: #475569;
    font-size: 0.85rem;
}

#main_registroSintomas .col-desc {
    max-width: 280px;
    line-height: 1.4;
}

#main_registroSintomas .col-acciones {
    white-space: nowrap;
}

#main_registroSintomas .texto-muted {
    color: #94a3b8;
    font-style: italic;
}

/* === Badges de Tipo === */
#main_registroSintomas .badge-tipo {
    display: inline-flex;
    align-items: center;
    padding: 0.3rem 0.7rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    background: color-mix(in srgb, var(--badge-color) 15%, transparent);
    color: var(--badge-color);
    border: 1px solid color-mix(in srgb, var(--badge-color) 30%, transparent);
}

/* Fallback para navegadores sin color-mix */
@supports not (background: color-mix(in srgb, red 50%, blue)) {
    #main_registroSintomas .badge-tipo {
        background: rgba(100, 116, 139, 0.1);
        color: #475569;
        border-color: rgba(100, 116, 139, 0.2);
    }
}

/* === Botones de Acción (iconos) === */
#main_registroSintomas .btn-icono {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 34px;
    height: 34px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    background: transparent;
}

#main_registroSintomas .btn-editar {
    color: #3b82f6;
}

#main_registroSintomas .btn-editar:hover {
    background: rgba(59, 130, 246, 0.1);
}

#main_registroSintomas .btn-eliminar {
    color: #ef4444;
}

#main_registroSintomas .btn-eliminar:hover {
    background: rgba(239, 68, 68, 0.1);
}

/* === Estado Vacío === */
#main_registroSintomas .estado-vacio {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 3rem 1rem;
    color: #94a3b8;
    text-align: center;
}

#main_registroSintomas .estado-vacio svg {
    margin-bottom: 1rem;
    opacity: 0.5;
}

#main_registroSintomas .estado-vacio p {
    font-size: 1.1rem;
    font-weight: 500;
    color: #64748b;
    margin: 0 0 0.25rem;
}

#main_registroSintomas .estado-vacio span {
    font-size: 0.9rem;
}

#main_registroSintomas .estado-vacio.oculto {
    display: none;
}

/* === Estado Cargando === */
#main_registroSintomas .cargando {
    text-align: center;
    color: #64748b;
    padding: 2rem !important;
}

#main_registroSintomas .spinner {
    display: inline-block;
    width: 18px;
    height: 18px;
    border: 2px solid #e2e8f0;
    border-top-color: var(--color_primario);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin-right: 0.5rem;
    vertical-align: middle;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

#main_registroSintomas .error {
    color: #ef4444;
    text-align: center;
}

/* === Oculto === */
#main_registroSintomas .oculto {
    display: none !important;
}

/* === Responsive === */
@media (max-width: 900px) {
    #main_registroSintomas .filtros-grid {
        grid-template-columns: 1fr 1fr;
    }

    #main_registroSintomas .filtros-acciones {
        grid-column: span 2;
        justify-content: stretch;
    }

    #main_registroSintomas .filtros-acciones .btn {
        flex: 1;
    }
}

@media (max-width: 640px) {
    #main_registroSintomas {
        padding: 20px 12px 40px;
    }

    #main_registroSintomas .filtros-panel {
        padding: 1rem;
    }

    #main_registroSintomas .filtros-header {
        flex-direction: column;
        align-items: stretch;
    }

    #main_registroSintomas .filtros-grid {
        grid-template-columns: 1fr;
    }

    #main_registroSintomas .filtros-acciones {
        grid-column: 1;
        flex-direction: column;
    }

    #main_registroSintomas .tabla-sintomas thead th,
    #main_registroSintomas .tabla-sintomas tbody td {
        padding: 0.6rem 0.5rem;
        font-size: 0.8rem;
    }

    #main_registroSintomas .col-desc {
        max-width: 120px;
    }

    #main_registroSintomas .btn-icono {
        width: 30px;
        height: 30px;
    }

    #main_registroSintomas .btn-icono svg {
        width: 16px;
        height: 16px;
    }
}

/* === Tabla scroll horizontal en móvil === */
@media (max-width: 540px) {
    #main_registroSintomas .tabla-responsive {
        overflow-x: auto;
    }

    #main_registroSintomas .tabla-sintomas {
        min-width: 600px;
    }
}

/* INICIO PÁGINA REGISTRO DE TRATAMIENTOS */
#formulario-tratamientos { background: var(--color_blanco); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); max-width: 800px; margin: 20px auto;
    h2 { text-align: center; color: var(--color_primario);}
    label { font-weight: bold; margin-top: 10px; display: block;}
    input, select, textarea, button { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid var(--color_secundario); border-radius: 5px; font-size: 0.95rem;}
    textarea { resize: vertical; min-height: 80px;}
    button { background: var(--color-primary-button); color: var(--color_blanco); font-weight: bold; cursor: pointer; margin-top: 15px;}
    button:hover { background: var(--color-secundary-button);}
    .lb-checkbox{ display: flex; flex-direction: row; width: 100%; margin: 30px 0;
        input{ width: 50px; height: 100%;}
    }
}
.section_tabla_tratamientos{max-width:95%;margin:auto;padding:2rem}
.section_tabla_tratamientos h2{ text-align:center;margin-bottom:1.25rem;font-size:clamp(1.2rem,2.2vw,1.6rem);color:var(--color_blanco)}

.tabla-tratamientos{
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    background:#fff;
    border-radius:12px;
    overflow:hidden;
    box-shadow:0 6px 18px rgba(0,0,0,.08);
    font-size:.95rem;
    table-layout:fixed;
}

.tabla-tratamientos thead th{
    position:sticky; top:0; z-index:1;
    background:linear-gradient(0deg,var(--color-primary-button),var(--color_secundario));
    color:var(--color_blanco);
    text-transform:uppercase;
    letter-spacing:.4px;
    font-weight:600;
    padding:14px 10px;
    border-bottom:1px solid rgba(255,255,255,.2);
}

.tabla-tratamientos td{
    padding:12px 10px;
    border-bottom:1px solid #eef1f4;
    text-align:center;
    word-wrap:break-word;
}

/* Zebra + hover */
.tabla-tratamientos tbody tr:nth-child(odd){ background:#fbfcfe}
.tabla-tratamientos tbody tr:hover{ background:#f2f6ff; transition:.15s ease}

/* Cols mínimas para evitar saltos feos */
.tabla-tratamientos td:nth-child(1){ width:64px }   /* ID */
.tabla-tratamientos td:nth-child(2){ min-width:150px} /* Medicamento */
.tabla-tratamientos td:nth-child(8){ min-width:220px} /* Observaciones */

/* Truncado elegante para textos largos */
.td-ellipsis{
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* Pills (estado y booleanos) */
.pill{
    display:inline-block; padding:.35rem .6rem; border-radius:999px;
    font-size:.82rem; font-weight:600; line-height:1; border:1px solid transparent;
}
.pill--ok{ background:#e8f8ef; color:#1b7a49; border-color:#c6eedb}
.pill--warn{ background:#fff6e0; color:#8a6a00; border-color:#f3e3b0}
.pill--danger{ background:#fde8ea; color:#8f2d3a; border-color:#f6c3cb}
.pill--muted{ background:#eef2f7; color:#415269; border-color:#dde3ec}

/* Estado específico */
.estado--activo{ background:#e8f8ef; color:#1b7a49; border-color:#c6eedb}
.estado--finalizado{ background:#fff6e0; color:#8a6a00; border-color:#f3e3b0}
.estado--cancelado{ background:#fde8ea; color:#8f2d3a; border-color:#f6c3cb}

/* Responsive móvil tipo "cards" */
@media (max-width: 768px){
    .tabla-tratamientos thead{ display:none }
    .tabla-tratamientos, .tabla-tratamientos tbody, .tabla-tratamientos tr, .tabla-tratamientos td{ display:block; width:100%}
    .tabla-tratamientos tr{
        margin:0 0 1rem; background:#fff; border:1px solid #e9edf3; border-radius:10px;
        box-shadow:0 2px 8px rgba(0,0,0,.05); padding:.5rem .9rem;
    }
    .tabla-tratamientos td{
        text-align:left; padding:.55rem 0; border:none;
    }
    .tabla-tratamientos td::before{
        content:attr(data-label);
        display:block; font-weight:700; color:var(--color_primario);
        margin-bottom:2px; font-size:.85rem;
    }
}

/* Dark mode friendly (si tienes body[data-theme="dark"]) */
body[data-theme="dark"] .tabla-tratamientos{ background:var(--color_fondo,#16222f); box-shadow:none; border:1px solid rgba(255,255,255,.06)}
body[data-theme="dark"] .tabla-tratamientos td{ border-bottom:1px solid rgba(255,255,255,.06)}
body[data-theme="dark"] .tabla-tratamientos tbody tr:nth-child(odd){ background:rgba(255,255,255,.02)}
body[data-theme="dark"] .tabla-tratamientos tbody tr:hover{ background:rgba(255,255,255,.06)}

/* FIN PÁGINA REGISTRO DE TRATAMIENTOS */


/* INICIO PAGINA ESTADISTICAS USUARIO */
/* ====== ESTADÍSTICAS (look & feel) ====== */
.stats-wrap { display: grid; gap: 16px; }

.stats-header{ background: linear-gradient(135deg, var(--color_fondo) 0%, var(--color_secundario) 100%); color: #fff; border-radius: 14px; padding: 18px 20px; box-shadow: 0 6px 18px rgba(0,0,0,.12); }
.stats-title{ display:flex; align-items:center; gap:10px; }
.stats-title h1{ margin:0; font-size: clamp(20px, 2.4vw, 28px); }
.stats-emoji{ font-size: 28px; line-height: 1; }
.stats-sub{ margin:.25rem 0 0; opacity:.9; }
.stats-filtros{ background:#fff; border:1px solid #e6ebf1; border-radius: 12px; padding: 10px; display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; box-shadow: 0 4px 14px rgba(15,23,42,.06); }
.stats-filtros label{ display: grid; gap:6px; font-weight: 600; color: var(--color_texto);}
.stats-filtros input, .stats-filtros select{
    width:100%; padding:9px 10px; border:1px solid #d9e1ea; border-radius:10px; background:#f7f9fb;
}
.stats-filtros .btn_primario{ align-self:end; height:40px; border-radius:10px; }

@media (max-width: 900px){
    .stats-filtros{ grid-template-columns: 1fr; }
}

.card{ background:#fff; color: var(--color_texto); border-radius: 14px; padding: 12px; border:1px solid #e6ebf1; box-shadow: 0 6px 18px rgba(15,23,42,.06); min-height: 340px; }
.card-head{ display:flex; align-items:center; justify-content:space-between; margin: 2px 4px 8px; }
.card-head h3{ margin:0; font-size: 1rem; color: var(--color_texto); }
.card canvas{ width:100% !important; height: 280px !important; }
.card-hist{ background:#fff; color: var(--color_texto); border-radius: 14px; padding: 12px; border:1px solid #e6ebf1; box-shadow: 0 6px 18px rgba(15,23,42,.06); min-height: 180px; }
/* Mensaje “Sin datos” sobre la tarjeta */
.card .empty{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:14px; color:#6b7280; pointer-events:none; }
/* ===== Preferencias – tarjeta moderna ===== */
.pref-card{ background:#fff; border:1px solid #e6ebf1; border-radius:16px; box-shadow:0 8px 24px rgba(15,23,42,.06); padding:18px; display:grid; gap:16px; }
.pref-head{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
.pref-head h3{ margin:0; color:var(--color_texto); font-size:1.15rem; }
.pref-head p{ margin:.25rem 0 0; color:var(--texto_secundario); font-size:.95rem; }
.pref-badge{ background:#eef6ff; color:#1f5fbf; border:1px solid #d3e6ff; padding:.2rem .5rem; border-radius:999px; font-size:.75rem; }

.pref-row{ display:flex; align-items:center; justify-content:space-between; gap:16px; }
.pref-row-left h4{ margin:0 0 .25rem; color:var(--color_texto); font-size:1rem; }
.pref-row-left p{ margin:0; color:var(--texto_secundario); font-size:.95rem; }
.pref-divider{ border:0; height:1px; background:#eef1f6; }

.pref-block h4{ margin:0 0 .25rem; color:var(--color_texto); }
.pref-sub{ margin:0 0 .5rem; color:var(--texto_secundario); }

/* Switch (toggle) */
.switch{ position:relative; display:inline-block; width:54px; height:30px; }
.switch input{ opacity:0; width:0; height:0; }
.slider{ position:absolute; cursor:pointer; inset:0; background:#e5e7eb; border-radius:999px; transition:background .2s; }
.slider:before{ content:""; position:absolute; height:22px; width:22px; left:4px; top:4px; background:white; border-radius:50%; transition:transform .2s; box-shadow:0 2px 6px rgba(0,0,0,.15); }
.switch input:checked + .slider{ background:var(--color_secundario); }
.switch input:checked + .slider:before{ transform:translateX(24px); }

/* Segmented control */
.segmented{ display:inline-grid; grid-template-columns:1fr 1fr 1fr; gap:0; border:1px solid #dfe3eb; border-radius:12px; overflow:hidden; width:fit-content; }
.segmented input{ display:none; }
.segmented label{ padding:.55rem .95rem; cursor:pointer; user-select:none; font-weight:600; color:var(--color_texto); background:#fbfdff; border-right:1px solid #dfe3eb; }
.segmented label:last-of-type{ border-right:0; }
.segmented input:checked + label{ background:var(--color-primary-button); color:#fff; }

/* Previsualización chips */
.theme-preview{ display:flex; gap:8px; margin-top:.75rem; }
.theme-preview .chip{ padding:.25rem .6rem; border-radius:999px; font-size:.8rem; border:1px solid #e5e7eb; color:#334155; }
.chip--auto{ background:#f1f5f9; }
.chip--light{ background:#fff; }
.chip--dark{ background:#111827; color:#e5e7eb; border-color:#374151; }
.pref-actions{ display:flex; justify-content:flex-end; }

/* Mensajes */
.config-error{ color:#c62828; font-weight:600; text-align:center; }
.config-mensaje{ color:#1b5e20; font-weight:700; text-align:center; }

/* Modo oscuro coherente con tu tema */
body.dark-theme .pref-card{ background:#1f2937; border-color:#334155; box-shadow:none; }
body.dark-theme .pref-head h3,
body.dark-theme .pref-row-left h4,
body.dark-theme .pref-block h4 { color:#e5e7eb; }
body.dark-theme .pref-head p,
body.dark-theme .pref-row-left p,
body.dark-theme .pref-sub { color:#cbd5e1; }
body.dark-theme .pref-divider{ background:#334155; }
body.dark-theme .segmented{ border-color:#334155; }
body.dark-theme .segmented label{ background:#0b1220; color:#e5e7eb; border-color:#334155; }
body.dark-theme .segmented input:checked + label{ background:var(--color_secundario); color:#fff; }
body.dark-theme .theme-preview .chip{ border-color:#334155; color:#e5e7eb; }

/* ===== Grid responsive para tarjetas de stats ===== */
.stats-grid{
    display:grid;
    gap:16px;
    grid-template-columns: repeat(3, minmax(0,1fr));
}
@media (max-width: 1100px){
    .stats-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 720px){
    .stats-grid{ grid-template-columns: 1fr; }
}

/* Tarjetas: preparar overlay y evitar saltos */
.card{ position: relative; min-height: unset; padding: 12px; }
.card-head h3{ font-size: clamp(.95rem, 1.8vw, 1.05rem); }

/* Contenedor con relación de aspecto (16:9) adaptable */
.chart-box{
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;              /* cambia a 4/3 si lo prefieres */
    /* fallback para navegadores sin aspect-ratio */
    --ratio: 56.25%;
}
@supports not (aspect-ratio: 16 / 9){
    .chart-box{ height: 0; padding-bottom: var(--ratio); }
}

/* El canvas ocupa todo el contenedor */
.chart-box > canvas{
    position: absolute; inset: 0;
    width: 100% !important;
    height: 100% !important;           /* clave para Chart.js + contenedor */
}

/* Leyendas compactas en móviles */
@media (max-width: 720px){
    .card .legend-compact{ font-size: 12px; }
}

/* Modo oscuro coherente (por si las tarjetas cambian de tema) */
body.dark-theme .card{ background: #0b1220; border-color:#334155; box-shadow:none; }
body.dark-theme .card-head h3{ color:#e5e7eb; }
/* ===== FIX scroll horizontal en móviles (estadísticas) ===== */
html, body { max-width: 100%; overflow-x: clip; }  /* no hidden, para no crear capas */

#main-estadisticas,
.stats-wrap,
.stats-grid,
.stats-header,
.card,
.pref-card { max-width: 100%; }

/* Grid sin desbordes por contenido */
.stats-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
@media (max-width:1100px){ .stats-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width:720px){  .stats-grid{ grid-template-columns: 1fr; } }

/* El contenedor del gráfico manda; corta tooltips */
.chart-box{
    position: relative;
    width: 100%;
    aspect-ratio: 16/9;
    overflow: hidden;                /* clave */
}
@supports not (aspect-ratio:16/9){
    .chart-box{ height:0; padding-bottom:56.25%; }
}

/* Canvas 100% y en bloque */
.chart-box > canvas,
.card canvas{
    display: block;
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box;
}

/* Evita que padding + width sumen >100% */
.card{ width: 100%; overflow: hidden; }

/* Filtros: columnas que no empujen el layout */
.stats-filtros{ grid-template-columns: repeat(4, minmax(0, 1fr)); }
@media (max-width:900px){
    .stats-filtros{ grid-template-columns: 1fr; }
}

/* Si tienes contenedores globales con 100vw, neutralízalos */
[class*="wrap"], [class*="contenedor"] { max-width: 100%; }

/* (Muy probable en tu captura) Si usas outline para depurar, en móvil puede desbordar */
@media (max-width:720px){
    .card[style*="outline"], .card.debug-outline { outline-offset: 0; }
}
/* ===== PARCHE ANTI-OVERFLOW ===== */
/* 1) Documento: evitar problemas de 100vh en móvil */
html, body { min-height: 100%; height: auto; max-width: 100%; overflow-x: clip; }

/* 2) Header y contenedores que usaban 100vw */
@media (max-width: 1023px){
    header,
    header .section_header { width: 100%; }
}
/* FIN PAGINA ESTADISTICAS USUARIO */

/* ============================================
   CONFIGURACIÓN DE USUARIO - DISEÑO PROFESIONAL
   ============================================ */

/* Variables locales para esta sección */
#main_configuracionUsuario {
    --config-bg: #f8fafc;
    --config-card: #ffffff;
    --config-border: #e2e8f0;
    --config-border-hover: #cbd5e1;
    --config-text: #1e293b;
    --config-text-muted: #64748b;
    --config-text-light: #94a3b8;
    --config-primary: var(--color_primario, #0d9488);
    --config-primary-light: rgba(13, 148, 136, 0.1);
    --config-primary-dark: #0f766e;
    --config-success: #10b981;
    --config-success-light: rgba(16, 185, 129, 0.1);
    --config-error: #ef4444;
    --config-error-light: rgba(239, 68, 68, 0.1);
    --config-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --config-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    --config-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    --config-radius: 12px;
    --config-radius-lg: 16px;
    --config-transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

    padding: 2rem 1rem;
    min-height: calc(100vh - 200px);
}

/* Dark theme overrides */
.dark-theme #main_configuracionUsuario {
    --config-bg: #0f172a;
    --config-card: #1e293b;
    --config-border: #334155;
    --config-border-hover: #475569;
    --config-text: #f1f5f9;
    --config-text-muted: #94a3b8;
    --config-text-light: #64748b;
    --config-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --config-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
    --config-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -4px rgba(0, 0, 0, 0.4);
}

/* ============================================
   CONTENEDOR Y HEADER
   ============================================ */

.config-usuario-container {
    max-width: 1100px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.config-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem 2rem;
    background: linear-gradient(135deg, var(--config-primary) 0%, var(--config-primary-dark) 100%);
    border-radius: var(--config-radius-lg);
    box-shadow: var(--config-shadow-lg);
    color: white;
}

.config-header-icon {
    width: 56px;
    height: 56px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(4px);
}

.config-header-icon svg {
    width: 28px;
    height: 28px;
    stroke: white;
}

.config-header-text {
    flex: 1;
}

.config-usuario-titulo {
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0;
    color: white;
    letter-spacing: -0.025em;
}

.config-usuario-subtitulo {
    margin: 0.25rem 0 0;
    font-size: 0.9rem;
    opacity: 0.9;
    color: rgba(255, 255, 255, 0.9);
}

/* ============================================
   PANEL PRINCIPAL (MENU + CONTENIDO)
   ============================================ */

.config-usuario-panel {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 1.5rem;
    align-items: start;
}

/* ============================================
   MENÚ LATERAL
   ============================================ */

.config-usuario-menu {
    background: var(--config-card);
    border-radius: var(--config-radius-lg);
    box-shadow: var(--config-shadow);
    border: 1px solid var(--config-border);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    position: sticky;
    top: 2rem;
}

.config-nav {
    padding: 0.75rem;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.config-nav-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1rem;
    border: none;
    background: transparent;
    border-radius: 10px;
    cursor: pointer;
    transition: var(--config-transition);
    text-align: left;
    width: 100%;
    color: var(--config-text-muted);
    position: relative;
}

.config-nav-item:hover {
    background: var(--config-primary-light);
    color: var(--config-primary);
}

.config-nav-item.activo {
    background: var(--config-primary-light);
    color: var(--config-primary);
    font-weight: 600;
}

.config-nav-item.activo::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 60%;
    background: var(--config-primary);
    border-radius: 0 4px 4px 0;
}

.config-nav-icon {
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.config-nav-icon svg {
    width: 20px;
    height: 20px;
    stroke: currentColor;
}

.config-nav-label {
    flex: 1;
    font-size: 0.9rem;
}

.config-nav-badge {
    font-size: 0.65rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0.2rem 0.5rem;
    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
    color: white;
    border-radius: 6px;
}

.config-nav-arrow {
    width: 16px;
    height: 16px;
    opacity: 0;
    transition: var(--config-transition);
    transform: translateX(-4px);
}

.config-nav-arrow svg {
    width: 16px;
    height: 16px;
    stroke: currentColor;
}

.config-nav-item:hover .config-nav-arrow,
.config-nav-item.activo .config-nav-arrow {
    opacity: 1;
    transform: translateX(0);
}

/* Footer del menú con info de cuenta */
.config-menu-footer {
    padding: 1rem;
    border-top: 1px solid var(--config-border);
    margin-top: auto;
}

.config-account-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.config-avatar {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, var(--config-primary) 0%, var(--config-primary-dark) 100%);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 1rem;
}

.config-account-details {
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
}

.config-account-name {
    font-weight: 600;
    font-size: 0.875rem;
    color: var(--config-text);
}

.config-account-role {
    font-size: 0.75rem;
    color: var(--config-text-muted);
}

/* ============================================
   ÁREA DE FORMULARIO
   ============================================ */

.config-usuario-formulario {
    background: var(--config-card);
    border-radius: var(--config-radius-lg);
    box-shadow: var(--config-shadow);
    border: 1px solid var(--config-border);
    min-height: 500px;
}

.config-seccion {
    display: none;
    padding: 2rem;
    flex-direction: column;
    gap: 1.5rem;
    animation: fadeIn 0.3s ease-out;
}

.config-seccion.activa {
    display: flex;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Header de sección */
.config-section-header {
    padding-bottom: 1.25rem;
    border-bottom: 1px solid var(--config-border);
}

.config-section-header h2 {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--config-text);
    margin: 0 0 0.375rem;
    letter-spacing: -0.025em;
}

.config-section-header p {
    margin: 0;
    font-size: 0.875rem;
    color: var(--config-text-muted);
}

.config-section-header-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
}

.config-badge-beta {
    font-size: 0.65rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0.25rem 0.625rem;
    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
    color: white;
    border-radius: 6px;
    flex-shrink: 0;
}

/* ============================================
   GRID DE FORMULARIO
   ============================================ */

.config-form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
}

.config-form-stack {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.config-field {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.config-field-full {
    grid-column: 1 / -1;
}

.config-field-label {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--config-text);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Input wrapper con icono */
.config-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.config-input-icon {
    position: absolute;
    left: 1rem;
    width: 18px;
    height: 18px;
    color: var(--config-text-light);
    pointer-events: none;
    transition: var(--config-transition);
}

.config-input-icon svg {
    width: 18px;
    height: 18px;
    stroke: currentColor;
}

.config-input-wrapper input {
    width: 100%;
    padding: 0.875rem 1rem 0.875rem 2.75rem;
    border: 2px solid var(--config-border);
    border-radius: 10px;
    font-size: 0.9375rem;
    color: var(--config-text);
    background: var(--config-card);
    transition: var(--config-transition);
}

.config-input-wrapper input::placeholder {
    color: var(--config-text-light);
}

.config-input-wrapper input:hover {
    border-color: var(--config-border-hover);
}

.config-input-wrapper input:focus {
    outline: none;
    border-color: var(--config-primary);
    box-shadow: 0 0 0 4px var(--config-primary-light);
}

.config-input-wrapper input:focus + .config-input-icon,
.config-input-wrapper:has(input:focus) .config-input-icon {
    color: var(--config-primary);
}

/* Toggle password button */
.config-toggle-password {
    position: absolute;
    right: 0.75rem;
    width: 36px;
    height: 36px;
    border: none;
    background: transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--config-text-light);
    border-radius: 8px;
    transition: var(--config-transition);
}

.config-toggle-password:hover {
    background: var(--config-primary-light);
    color: var(--config-primary);
}

.config-toggle-password svg {
    width: 18px;
    height: 18px;
    stroke: currentColor;
}

/* Password strength indicator */
.config-password-strength {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.strength-bar {
    height: 6px;
    background: var(--config-border);
    border-radius: 3px;
    overflow: hidden;
}

.strength-fill {
    height: 100%;
    width: 0%;
    border-radius: 3px;
    transition: width 0.3s ease, background-color 0.3s ease;
}

.strength-text {
    font-size: 0.75rem;
    font-weight: 500;
    transition: color 0.3s ease;
}

/* Security card */
.config-security-card {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem 1.25rem;
    background: var(--config-primary-light);
    border-radius: 12px;
    border: 1px solid rgba(13, 148, 136, 0.2);
}

.config-security-icon {
    width: 40px;
    height: 40px;
    background: var(--config-primary);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.config-security-icon svg {
    width: 20px;
    height: 20px;
    stroke: white;
}

.config-security-text h4 {
    margin: 0 0 0.25rem;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--config-text);
}

.config-security-text p {
    margin: 0;
    font-size: 0.8rem;
    color: var(--config-text-muted);
    line-height: 1.5;
}

/* ============================================
   PREFERENCIAS
   ============================================ */

.config-prefs-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.config-pref-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem;
    background: var(--config-bg);
    border-radius: 12px;
    border: 1px solid var(--config-border);
    transition: var(--config-transition);
}

.config-pref-item:hover {
    border-color: var(--config-border-hover);
}

.config-pref-item-column {
    flex-direction: column;
    align-items: stretch;
}

.config-pref-item-header {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.config-pref-icon {
    width: 44px;
    height: 44px;
    background: var(--config-primary-light);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.config-pref-icon svg {
    width: 22px;
    height: 22px;
    stroke: var(--config-primary);
}

.config-pref-content {
    flex: 1;
}

.config-pref-content h4 {
    margin: 0 0 0.25rem;
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--config-text);
}

.config-pref-content p {
    margin: 0;
    font-size: 0.8125rem;
    color: var(--config-text-muted);
    line-height: 1.4;
}

/* Switch toggle */
.config-switch {
    position: relative;
    width: 52px;
    height: 28px;
    flex-shrink: 0;
}

.config-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.config-switch-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--config-border);
    transition: var(--config-transition);
    border-radius: 14px;
}

.config-switch-slider::before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: var(--config-transition);
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

.config-switch input:checked + .config-switch-slider {
    background-color: var(--config-primary);
}

.config-switch input:checked + .config-switch-slider::before {
    transform: translateX(24px);
}

.config-switch input:focus + .config-switch-slider {
    box-shadow: 0 0 0 4px var(--config-primary-light);
}

/* Theme selector */
.config-theme-selector {
    display: flex;
    gap: 0.75rem;
    margin-top: 1rem;
}

.config-theme-option {
    flex: 1;
    cursor: pointer;
}

.config-theme-option input {
    display: none;
}

.config-theme-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.625rem;
    padding: 0.875rem;
    border: 2px solid var(--config-border);
    border-radius: 12px;
    transition: var(--config-transition);
}

.config-theme-option:hover .config-theme-card {
    border-color: var(--config-border-hover);
}

.config-theme-option input:checked + .config-theme-card {
    border-color: var(--config-primary);
    background: var(--config-primary-light);
}

.config-theme-preview {
    width: 100%;
    height: 48px;
    border-radius: 8px;
    border: 1px solid var(--config-border);
    overflow: hidden;
}

.config-theme-preview-auto {
    display: flex;
}

.config-theme-preview-auto .preview-half-light {
    flex: 1;
    background: #ffffff;
}

.config-theme-preview-auto .preview-half-dark {
    flex: 1;
    background: #1e293b;
}

.config-theme-preview-light {
    background: linear-gradient(180deg, #ffffff 0%, #f1f5f9 100%);
}

.config-theme-preview-dark {
    background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
}

.config-theme-label {
    font-size: 0.8125rem;
    font-weight: 600;
    color: var(--config-text);
}

.config-theme-option input:checked + .config-theme-card .config-theme-label {
    color: var(--config-primary);
}

/* ============================================
   BOTONES DE ACCIÓN
   ============================================ */

.config-form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--config-border);
    margin-top: 0.5rem;
}

.config-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 10px;
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--config-transition);
}

.config-btn svg {
    width: 18px;
    height: 18px;
    stroke: currentColor;
}

.config-btn-primary {
    background: linear-gradient(135deg, var(--config-primary) 0%, var(--config-primary-dark) 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(13, 148, 136, 0.3);
}

.config-btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(13, 148, 136, 0.4);
}

.config-btn-primary:active {
    transform: translateY(0);
}

/* ============================================
   MENSAJES DE FEEDBACK
   ============================================ */

.config-message {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    border-radius: 10px;
    font-size: 0.875rem;
    font-weight: 500;
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.config-message svg {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
}

.config-message-success {
    background: var(--config-success-light);
    color: var(--config-success);
    border: 1px solid rgba(16, 185, 129, 0.3);
}

.config-message-success svg {
    stroke: var(--config-success);
}

.config-message-error {
    background: var(--config-error-light);
    color: var(--config-error);
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.config-message-error svg {
    stroke: var(--config-error);
}

/* ============================================
   RESPONSIVE
   ============================================ */

@media screen and (max-width: 900px) {
    .config-usuario-panel {
        grid-template-columns: 1fr;
    }

    .config-usuario-menu {
        position: static;
    }

    .config-nav {
        flex-direction: row;
        overflow-x: auto;
        padding: 0.5rem;
        gap: 0.5rem;
    }

    .config-nav-item {
        flex-direction: column;
        gap: 0.375rem;
        padding: 0.75rem 1rem;
        min-width: max-content;
        text-align: center;
    }

    .config-nav-item.activo::before {
        display: none;
    }

    .config-nav-arrow {
        display: none;
    }

    .config-nav-label {
        font-size: 0.8rem;
    }

    .config-menu-footer {
        display: none;
    }
}

@media screen and (max-width: 640px) {
    #main_configuracionUsuario {
        padding: 1rem 0.75rem;
    }

    .config-header {
        padding: 1.25rem;
        flex-direction: column;
        text-align: center;
    }

    .config-usuario-titulo {
        font-size: 1.25rem;
    }

    .config-form-grid {
        grid-template-columns: 1fr;
    }

    .config-seccion {
        padding: 1.5rem;
    }

    .config-theme-selector {
        flex-direction: column;
    }

    .config-form-actions {
        flex-direction: column;
    }

    .config-btn {
        width: 100%;
    }

    .config-pref-item {
        flex-direction: column;
        align-items: stretch;
        text-align: center;
    }

    .config-pref-item:not(.config-pref-item-column) .config-pref-icon {
        margin: 0 auto;
    }

    .config-pref-item:not(.config-pref-item-column) .config-switch {
        margin: 0.75rem auto 0;
    }
}

/* ============================================
   FIN CONFIGURACIÓN DE USUARIO
   ============================================ */


/* INICIO PAGINA HISTORIAL MEDICO */
.historial-container { padding: 2em; background-color: var(--color_blanco); border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 100%; max-width: 95%; margin: 0 auto;}
.historial-tabla { width: 100%; border-collapse: collapse; margin-top: 1.5em; font-size: 0.95rem;
    th { background-color: var(--color-primary-button); color: var(--color_blanco); padding: 12px; text-align: left;}
    td { padding: 10px; border: 1px solid #ddd;}
    tr:hover { background-color: #f0faff;}
}
.filtro { display: flex; gap: 10px; align-items: center; margin-bottom: 1em; flex-wrap: wrap;
    label { font-weight: bold; color: var(--color_primario);}
    input[type="date"] { padding: 8px 12px; border: 1px solid var(--color_secundario); border-radius: 5px;}
    button { background-color: var(--color-primary-button); color: white; border: none; padding: 8px 14px; border-radius: 5px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;}
    button:hover { background-color: var(--color-secundary-button);}
}
/* Estilo tarjetas para móviles */
.historial-movil { display: none;}
@media screen and (max-width: 768px) {
    .historial-tabla { display: none; /* Oculta la tabla en móviles */}
    .historial-movil { display: flex; flex-direction: column; gap: 1em; margin-top: 1em;}
    .registro { background-color: var(--color_blanco); padding: 1em; border-radius: 10px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        strong { color: var(--color_primario);}
        p {margin: 0.4em 0; font-size: 0.95em;}
    }
    .filtro { flex-direction: column; align-items: stretch;}
    .filtro input,.filtro button { width: 100%;}
}
/* FIN PAGINA HISTORIAL MEDICO */


/* INICIO PAGINAS USUARIO */
#main-pacientes { width: 100%; background: var(--fondo-body); padding: 20px 0; }
.pacientes-wrap { width: min(100%, 1100px); margin: 0 auto; background: var(--color_blanco); border: 1px solid #e6ebf1; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,.08); }
.pacientes-head { padding: 16px 18px; border-bottom: 1px solid #eef2f6; display: flex; align-items: center; justify-content: space-between; gap: 10px; flex-wrap: wrap; }
.pacientes-title { color: var(--color_primario); font-size: clamp(1.1rem, 2.2vw, 1.5rem); margin: 0; }
.pacientes-tools { display: grid; grid-template-columns: 1.2fr .9fr .9fr auto; gap: 8px; width: 100%; }
.pacientes-tools input, .pacientes-tools select { border: 1px solid #dfe7f0; background: var(--color_blanco); border-radius: 10px; padding: 10px 12px; outline: none; }
.pacientes-tools button { border: none; border-radius: 10px; padding: 10px 14px; cursor: pointer; background: var(--color_primario); color: #fff; }
.pacientes-body { padding: 12px 18px 6px; overflow-x: auto; }
.tabla-pacientes { width: 100%; border-collapse: collapse; }
.tabla-pacientes th, .tabla-pacientes td { text-align: left; padding: 10px 12px; border-bottom: 1px solid #eef2f6; white-space: nowrap; }
.tabla-pacientes th { font-weight: 600; color: #425466; background: var(--fondo-body); position: sticky; top: 0; z-index: 1; }
.badge { padding: 4px 8px; border-radius: 999px; font-size: .78rem; }
.badge.activo { color: #0f5132; background: #d1e7dd; border: 1px solid #badbcc; }
.badge.inactivo { color: #664d03; background: #fff3cd; border: 1px solid #ffecb5; }
.acciones { display: flex; gap: 6px; flex-wrap: wrap; }
.acciones .btn { font-size: .86rem; padding: 6px 10px; border-radius: 8px; border: 1px solid #dfe7f0; background: #fff; cursor: pointer; }
.acciones .btn.primary { background: var(--color_primario); color: #fff; border-color: var(--color_primario); }
.pacientes-foot { padding: 10px 18px 16px; display: flex; gap: 8px; align-items: center; justify-content: space-between; flex-wrap: wrap; border-top: 1px solid #eef2f6; }
.paginacion { display: flex; gap: 6px; align-items: center; }
.paginacion button { padding: 8px 10px; border-radius: 8px; border: 1px solid #dfe7f0; background: #fff; cursor: pointer; }
.paginacion button[disabled] { opacity: .5; cursor: not-allowed; }
.resumen { font-size: .92rem; color: #425466; }
@media (max-width: 768px){
    .pacientes-tools{ grid-template-columns: 1fr 1fr; }
}
/* ===== Botón Salir (mejora visual + layout) ===== */
.logout-form{ display: flex; justify-content: flex-end; align-items: center; gap: .5rem; margin: 8px auto 10px; max-width: 1200px;     /* alinea con el grid del dashboard */ padding: 0 15px; }

/* botón “píldora” con énfasis sutil (peligro/rojo corporativo) */
.btn-logout{ appearance: none; border: 1px solid transparent; background: linear-gradient(180deg, #e53935 0%, #c62828 100%); color: #fff; font-weight: 700; letter-spacing: .2px; padding: .55rem 1rem; border-radius: 999px; cursor: pointer; box-shadow: 0 6px 18px rgba(229,57,53,.22); transition: transform .15s ease, box-shadow .2s ease, filter .15s ease; display: inline-flex; align-items: center; gap: .45rem; }
.btn-logout:hover{ transform: translateY(-1px); box-shadow: 0 10px 26px rgba(198,40,40,.28); filter: brightness(1.02); }
.btn-logout:active{ transform: translateY(0); }
.btn-logout:focus-visible{ outline: 3px solid color-mix(in srgb, #e53935 60%, white); outline-offset: 2px; }

/* Modo oscuro coherente */
body.dark-theme .btn-logout{ background: linear-gradient(180deg, #ef5350 0%, #e53935 100%); box-shadow: none; border-color: rgba(255,255,255,.12); }

/* Responsive: hazlo un pelín más compacto en móviles */
@media (max-width: 480px){
    .btn-logout{ padding: .45rem .85rem; font-size: .95rem; }
}


/* INICIO PAGINAS ADMIN */
/* === ADMIN · PACIENTES (parche visual) === */
.modal {
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.5);
    display: flex; align-items: center; justify-content: center;
    z-index: 10000;
}
.modal-content {
    background: #fff; padding: 20px 25px; border-radius: 10px;
    width: 400px; max-width: 90%;
    box-shadow: 0 5px 25px rgba(0,0,0,0.3);
    animation: fadeIn .3s ease;
}
@keyframes fadeIn { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }
.modal-actions { display:flex; justify-content:flex-end; gap:10px; margin-top:1rem; }

/* Estilos específicos para el formulario de edición */
#main-editar-cliente {
    width: 100%;
    min-height: calc(100vh - var(--altura_header) - var(--altura_footer));
    background: var(--fondo-body);
    padding: 30px 20px;
}

.editar-wrap {
    width: min(100%, 900px);
    margin: 0 auto;
    background: var(--color_blanco);
    border: 1px solid #e6ebf1;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,.08);
    overflow: hidden;
}

.editar-header {
    padding: 24px 28px;
    background: linear-gradient(135deg, var(--color_primario) 0%, var(--color_secundario) 100%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 15px;
}

.editar-header h1 {
    margin: 0;
    font-size: clamp(1.3rem, 2.5vw, 1.8rem);
    font-weight: 600;
    text-align: left;
}

.editar-header .btn-volver {
    padding: 8px 16px;
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    color: white;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.editar-header .btn-volver:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateX(-2px);
}

.editar-body {
    padding: 32px 28px;
}

.form-section {
    margin-bottom: 32px;
}

.form-section-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color_primario);
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #e6ebf1;
    display: flex;
    align-items: center;
    gap: 10px;
}

.form-section-title::before {
    content: "";
    width: 4px;
    height: 20px;
    background: var(--color_primario);
    border-radius: 2px;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin-bottom: 24px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.form-group label {
    font-size: 0.92rem;
    font-weight: 600;
    color: var(--texto_secundario);
    display: flex;
    align-items: center;
    gap: 6px;
}

.form-group label .required {
    color: #ef4444;
    font-size: 1.1rem;
}

.form-group input[type="text"],
.form-group input[type="email"],
.form-group select {
    padding: 12px 14px;
    border: 1.5px solid #dfe7f0;
    border-radius: 8px;
    font-size: 0.95rem;
    background: white;
    color: var(--color_texto);
    transition: all 0.3s ease;
    outline: none;
}

.form-group input:focus,
.form-group select:focus {
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0, 179, 189, 0.1);
}

.form-group input::placeholder {
    color: #9ca3af;
}

.form-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    padding-top: 20px;
    border-top: 1px solid #e6ebf1;
    flex-wrap: wrap;
}

.btn {
    padding: 12px 24px;
    border-radius: 8px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    text-decoration: none;
}

.btn-primary {
    background: var(--color_primario);
    color: white;
}

.btn-primary:hover {
    background: var(--color_secundario);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 179, 189, 0.3);
}

.btn-secondary {
    background: #f3f4f6;
    color: var(--texto_secundario);
    border: 1px solid #e5e7eb;
}

.btn-secondary:hover {
    background: #e5e7eb;
    color: var(--color_texto);
}

.info-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    background: #e0f7f8;
    border: 1px solid #b3e5e7;
    border-radius: 6px;
    color: var(--color_secundario);
    font-size: 0.85rem;
    margin-bottom: 20px;
}

.info-badge svg {
    width: 16px;
    height: 16px;
}

/* Responsive */
@media (max-width: 768px) {
    .editar-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .form-grid {
        grid-template-columns: 1fr;
    }

    .form-actions {
        flex-direction: column-reverse;
    }

    .btn {
        width: 100%;
        justify-content: center;
    }
}

/* Dark mode support */
body.dark-theme .editar-wrap {
    background: #2c2c2c;
    border-color: #444;
}

body.dark-theme .editar-body {
    color: var(--color_blanco);
}

body.dark-theme .form-section-title {
    color: var(--color_primario);
    border-color: #444;
}

body.dark-theme .form-group label {
    color: #d1d5db;
}

body.dark-theme .form-group input,
body.dark-theme .form-group select {
    background: #1e1e1e;
    border-color: #444;
    color: var(--color_blanco);
}

body.dark-theme .form-group input:focus,
body.dark-theme .form-group select:focus {
    border-color: var(--color_primario);
    background: #2c2c2c;
}

body.dark-theme .btn-secondary {
    background: #3a3a3a;
    color: #d1d5db;
    border-color: #555;
}

body.dark-theme .btn-secondary:hover {
    background: #444;
}

body.dark-theme .info-badge {
    background: rgba(0, 179, 189, 0.1);
    border-color: rgba(0, 179, 189, 0.3);
    color: var(--color_primario);
}
/* === ADMIN · PACIENTES (parche visual) === */


/* === ADMIN · Tratamientos (parche visual) === */
#admin-tratamientos h2{ margin:12px auto 10px; color: var(--color_primario); }

#admin-tratamientos .filtros-trat{ max-width: 1100px; margin: 8px auto 14px; padding: 10px 12px; }
#admin-tratamientos .filtros-trat .input-group{ display:grid; grid-template-columns: 1.4fr .9fr 1.2fr auto; gap:.5rem; align-items:center; }
@media (max-width: 900px){
    #admin-tratamientos .filtros-trat .input-group{ grid-template-columns: 1fr; }
}

/* Autocomplete */
.usuario-autocomplete{ position:relative; }
#usuarioClear{ position:absolute; right:8px; top:50%; transform:translateY(-50%); border:0; background:#f1f5f9; color:#0f172a; width:28px; height:28px; border-radius:999px; cursor:pointer; }
#usuarioClear:hover{ background:#e2e8f0; }
#usuarioSugg{ position:absolute; left:0; right:0; top:calc(100% + 4px); z-index:10; list-style:none; margin:0; padding:0; max-height:240px; overflow:auto; display:none; background:#fff; border:1px solid #e3e7ee; border-radius:10px; box-shadow:0 10px 26px rgba(15,23,42,.12); }
#usuarioSugg li{ padding:8px 10px; cursor:pointer; border-bottom:1px solid #f2f4f7; }
#usuarioSugg li:hover{ background:#f7fafc; }

/* Tabla */
.tabla-trat-admin th:nth-child(1){ width:64px; }
.tabla-trat-admin th:nth-child(4){ width:120px; text-align:center; }
.tabla-trat-admin td:nth-child(4){ text-align:center; }
.tabla-trat-admin td:nth-child(5),
.tabla-trat-admin td:nth-child(6){ white-space:nowrap; }

/* Estado como “pill” */
.pill-estado{ display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.82rem; font-weight:700; }
.pill--activo{ background:#e8fff6; color:#1d7a50; border:1px solid #c9f3e3; }
.pill--finalizado{ background:#fff6e6; color:#8a5a00; border:1px solid #ffe4bd; }
.pill--inactivo{ background:#ffe9e9; color:#8a1f1f; border:1px solid #ffd2d2; }

/* Acciones compactas coherentes */
.tabla-trat-admin td:last-child{
    display:flex; gap:6px; justify-content:center; align-items:center; flex-wrap:wrap;
}
.tabla-trat-admin .btn-sec{ background:#f7f9fb; border:1px solid #dfe3eb; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; color: #0f172a; }
.tabla-trat-admin .btn-sec:hover{ background:#eef2ff; }
.tabla-trat-admin .btn-danger{ background:#fee2e2; border:1px solid #fecaca; color:#991b1b; }
.tabla-trat-admin .btn-danger:hover{ background:#fbd5d5; }

body.dark-theme #usuarioSugg{ background:#2c2c2c; border-color:#444; }
body.dark-theme #usuarioSugg li{ border-color:#3a3a3a; color:#fff; }
body.dark-theme #usuarioClear{ background:#333; color:#fff; border:1px solid #555; }

/* --------- Botones Acciones → Editar / Eliminar / Asignar ---------- */
.form-paciente{ display: flex; flex-direction: column; flex-wrap: nowrap; align-items: center; }
.campos-pacientes{ display: flex; flex-direction: column; flex-wrap: nowrap; align-items: flex-start; width: 80%; }
.campos-pacientes input{ width: 100%; height: 25px; margin-bottom: 5px; }
.campos-pacientes label{ margin: 5px 0; }
button.edit, button.asignar{ background-color: var(--color-secundary-button); color: var(--color_blanco); border: none; padding: 5px; border-radius: 5px; cursor: pointer; }
button.edit:hover, button.asignar:hover{ background-color: var(--color-primary-button); color: var(--color_blanco); }
button.danger { background: #c0392b; color: white; border: none; padding: 6px 10px; border-radius: 5px; cursor: pointer; transition: background 0.2s; }
button.danger:hover { background: #e74c3c; }

/* =========================================================================
   ADMIN — Módulo Usuarios (Médicos / Pacientes)
   Complemento visual no intrusivo sobre style2.css
   ======================================================================= */
/* --------- Secciones y cabeceras ---------- */
.section_head { margin: 8px 0 14px; }
.section_head h2, .section_head h3 { color: var(--color_primario); margin: 0 0 4px; font-size: clamp(1.1rem, 2.2vw, 1.4rem); }
.section_head .muted { opacity: .8; }

/* --------- Cards ---------- */
.card { background: var(--color_blanco); border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,.06); padding: 14px; }
.card--soft { background: color-mix(in srgb, var(--color_blanco), transparent 10%); }
.card__head { margin-bottom: 8px; background: var(--color_primario);}
.card__head h3 { margin: 0; color: var(--color_primario); }

/* --------- Tabs internas (Médicos / Pacientes) ---------- */
.nav_panelUser ul { gap: .5rem; }
.nav_panelUser a { display: inline-block; padding: .45rem .8rem; border-radius: 10px; background: color-mix(in srgb, var(--color_primario), transparent 90%); color: var(--texto, #222); transition: background .2s ease, color .2s ease, box-shadow .2s; }
.nav_panelUser a:hover { box-shadow: 0 2px 8px rgba(0,0,0,.08); }
.nav_panelUser a.is-active { background: var(--color_primario); color: #fff; }

/* --------- Input group + formularios inline ---------- */
.input-group { display: flex; gap: 8px; align-items: center; width: 100%; }
.input-group input[type="search"],
.input-group input[type="text"],
.input-group input[type="password"]{ flex: 1 1 auto; background: var(--color_blanco); border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 10px; padding: .55rem .7rem; outline: none; }
.input-group input:focus { border-color: var(--color_primario); box-shadow: 0 0 0 3px color-mix(in srgb, var(--color_primario), transparent 80%); }

.form-inline .input-group button,
.input-group button { border: none; border-radius: 10px; padding: .55rem .9rem; background: var(--color_primario); color: #fff; cursor: pointer; }
.form-inline .input-group button:hover { filter: brightness(1.05); }

/* --------- Tabla ---------- */
.table-wrap { width: 100%; overflow: auto; border-radius: 10px; }
.table { width: 100%; border-collapse: collapse; font-size: .95rem; background: var(--color_blanco); }
.table thead th { text-align: left; font-weight: 600; padding: .7rem .8rem; background: color-mix(in srgb, var(--color_primario), transparent 90%); color: var(--texto, #222); border-bottom: 1px solid var(--borde-suave, #e6ebf1); }
.table tbody td { padding: .65rem .8rem; border-bottom: 1px solid var(--borde-suave, #e6ebf1); }
.table tbody tr:hover { background: color-mix(in srgb, var(--color_primario), transparent 94%); }

/* Estados y textos suaves */
.muted { opacity: .7; }
.pill { display: inline-block; padding: .2rem .5rem; border-radius: 999px; font-size: .85rem; background: color-mix(in srgb, var(--color_primario), transparent 88%); }
.pill--muted { background: #edf2f7; color: #475569; }

/* --------- Botones de acción ---------- */
button.danger { background: #e5484d; color: #fff; border: none; border-radius: 10px; padding: .45rem .7rem; cursor: pointer; }
button.danger:hover { filter: brightness(1.05); }
button.muted { background: #eaeef3; color: #344; border: none; border-radius: 10px; padding: .45rem .7rem; cursor: pointer; }

/* --------- Pager ---------- */
.pager { margin-top: 10px; display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
.pager button { background: var(--color_blanco); color: var(--texto, #222); border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 10px; padding: .4rem .6rem; cursor: pointer; }
.pager button:disabled { opacity: .5; cursor: not-allowed; }
.pager select { border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 10px; padding: .35rem .5rem; background: var(--color_blanco); }

/* --------- Selector inline de asignación (Pacientes) ---------- */
.inline-assign { background: color-mix(in srgb, var(--color_primario), transparent 93%); border: 1px dashed color-mix(in srgb, var(--color_primario), transparent 60%); border-radius: 12px; padding: 8px; }
.inline-assign select { min-width: 180px; border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 10px; padding: .4rem .5rem; background: var(--color_blanco); }

/* --------- Grids rápidos ---------- */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
@media (max-width: 768px) {
    .grid-2 { grid-template-columns: 1fr; }
    .input-group { flex-wrap: wrap; }
    .input-group input { min-width: 200px; }
    .pager { justify-content: space-between; }
}

/* --------- Ajustes suaves para dark si usas data-theme ---------- */
body[data-theme="dark"] .pill--muted { background: #2a2f36; color: #cbd5e1; }
body[data-theme="dark"] .table thead th { color: #e5e7eb; }
body[data-theme="dark"] .inline-assign { background: color-mix(in srgb, var(--color_primario), black 75%); border-color: color-mix(in srgb, var(--color_primario), black 55%); }
/* FIN PANEL ADMIN */

/* Inicio Lista Usuario */
#main_listaUser{ width: 100%; min-height: 80vh; background-color: var(--fondo-body); padding: 20px 0;}
/* === Estilo para la tabla de clientes (admin) === */
.tabla-clientes { width: 100%; border-collapse: separate; border-spacing: 0; background-color: var(--color_blanco); border-radius: 10px; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); font-size: 0.95rem; table-layout: fixed;}

.tabla-clientes th, .tabla-clientes td { padding: 14px 10px; text-align: center; border-bottom: 1px solid #e6e6e6; word-wrap: break-word;}
.tabla-clientes th { background-color: var(--color-primary-button); color: var(--color_blanco); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;}
.tabla-clientes tbody tr:hover {background-color: #f9f9f9; transition: background-color 0.2s ease-in-out;}
@media screen and (max-width: 768px) {
    .tabla-clientes {font-size: 0.85rem;}
    .tabla-clientes th, .tabla-clientes td {padding: 10px 6px;}
}


.btn-accion { display: inline-flex; justify-content: center; align-items: center; width: 30px; height: 30px; border-radius: 6px; padding: 6px; background-color: transparent; transition: transform 0.2s ease; text-decoration: none;}
.btn-accion img { width: 24px; height: 24px; object-fit: contain; filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.2));}
/* Escalado al hacer hover */
.btn-accion:hover { transform: scale(1.1);}

/* Estilos de fondo para cada tipo */
.btn-accion.historial { background-color: #6c757d;}
.btn-accion.editar { background-color: #007bff;}
.btn-accion.eliminar { background-color: #dc3545;}

/* Tema oscuro: mejora visibilidad de iconos */
body.dark-theme .btn-accion img { filter: brightness(1.2) drop-shadow(0 1px 2px rgba(255,255,255,0.1));}
/* Inicio Lista Usuario */
/* FIN PAGINAS ADMIN */


/* INICIO PAGINA CITAS */
/* Estilos para la tabla Citas */
table { width: 100%; border-collapse: collapse; margin-top: 20px;}
table, th, td { border: 1px solid #cccccc;}
th, td { padding: 10px; text-align: left;}
thead { background-color: #f5f5f5;}

/* Estilos para la sección de citas */
.resumen-citas { margin-bottom: 2rem; }
.tarjeta-resumen { background: white; border-radius: 8px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.proxima-cita h3 { margin: 0 0 1rem 0; color: #2c3e50; }
.contenido-proxima-cita { display: grid; gap: 0.5rem; }
.fecha { font-size: 1.2rem; font-weight: bold; color: #3498db; }

/* Pestañas */
.tabs-citas { display: flex; gap: 1rem; margin-bottom: 1rem;}
.tab-btn { padding: 0.8rem 1.5rem; border: none; border-radius: 4px; cursor: pointer; background: #f0f0f0;}
.tab-btn.active { background: #3498db; color: white;}

/* Lista de citas */
.lista-citas { display: flex; flex-direction: column; gap: 1rem;}
.tarjeta-cita { display: flex; background: white; border-radius: 8px; padding: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); align-items: center;}
.cita-fecha { text-align: center; padding: 0.5rem; border-right: 1px solid #eee; margin-right: 1rem;}
.cita-fecha .dia { font-size: 1.5rem; font-weight: bold; display: block;}
.cita-fecha .mes { text-transform: uppercase; color: #666;}
.cita-detalles { flex-grow: 1;}
.cita-estado { padding: 0.5rem 1rem;}
.estado-pendiente { color: #f39c12;}
.estado-completada { color: #27ae60;}
.estado-cancelada { color: #e74c3c;}

/* Botones de acción */
.cita-acciones { display: flex; gap: 0.5rem;}
.btn-cancelar, .btn-detalles { padding: 0.5rem 1rem; border: none; border-radius: 4px; cursor: pointer;}
.btn-cancelar { background: #e74c3c; color: white;}
.btn-detalles { background: #3498db; color: white;}


/* Pagina sintomas */
#main_registroSintomas{ width: 100%; min-height: 80vh; background-color: var(--fondo-body); }
.filtros{ display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 5px; padding: 10px 0; }
.form-inline{ display: flex; flex-direction: row; align-items: center; justify-content: center;
    input{ height: 35px; border: 1px solid black; border-radius: 10px; margin: 0 5px }
    #btn-abrir{ height: 35px; border-radius: 10px; margin: 0 10px }
}


/* ===== Modal base ===== */
.modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.5); backdrop-filter: blur(2px); z-index: 1200; justify-content: center; align-items: center; padding: 1.25rem; }

.modal:not(.oculto) {display: flex;} /* cuando JS quita .oculto, se muestra */

.modal-contenido { background: #fff; color: #0f172a; width: 100%; max-width: 640px; border-radius: 14px; box-shadow:  0 10px 15px -3px rgba(0,0,0,.2), 0 4px 6px -2px rgba(0,0,0,.1); padding: 1.5rem 1.5rem 1.25rem; position: relative; animation: modalIn .18s ease-out; }

/* Animación sutil */
@keyframes modalIn {
    0%   { transform: translateY(6px) scale(.98); opacity: 0; }
    100% { transform: translateY(0)    scale(1);   opacity: 1; }
}

/* Cerrar (X) */
.btn-cerrar-x { position: absolute; top: .75rem; right: .75rem; border: 0; background: #f1f5f9; color: #0f172a; width: 34px; height: 34px; border-radius: 999px; display: grid; place-items: center; cursor: pointer; font-size: 18px; line-height: 1; }
.btn-cerrar-x:hover   { background: #e2e8f0; }
.btn-cerrar-x:active  { transform: scale(.96); }

/* Título */
#titulo-modal { margin: .25rem 2.25rem 1.25rem .25rem;  /* hueco para la X */ font-size: clamp(1.25rem, 2.5vw, 1.6rem); font-weight: 700; text-align: center; }

/* ===== Formato del formulario ===== */
.grid { display: grid; gap: 1rem; grid-template-columns: 1fr 1fr;         /* dos columnas en desktop */ }

@media (max-width: 640px) {   .grid { grid-template-columns: 1fr; }   /* una columna en móvil */   }

/* Cada campo como bloque */
.grid label { display: grid; gap: .5rem; font-weight: 600; color: #334155; }

/* Inputs homogéneos */
.grid select, .grid textarea, .grid input[type="datetime-local"], .grid input[type="text"] { width: 100%; border: 1px solid #cbd5e1; border-radius: 10px; padding: .6rem .75rem; font-size: .95rem; background: #fff; color: #0f172a; outline: none; transition: border-color .15s, box-shadow .15s; }
.grid textarea { min-height: 96px; resize: vertical; }

/* Focus accesible */
.grid select:focus,
.grid textarea:focus,
.grid input:focus { border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37, 99, 235, .2); }

/* Zona compacta de acciones */
.acciones { display: flex; gap: .75rem; justify-content: flex-end; margin-top: .5rem; }

/* Botones coherentes */
.btn { appearance: none; border: 1px solid #cbd5e1; background: #f8fafc; color: #0f172a; padding: .6rem .9rem; border-radius: 10px; cursor: pointer; font-weight: 600; transition: transform .05s ease, background .15s; }
.btn:hover  { background: #f1f5f9; }
.btn:active { transform: translateY(1px); }

.btn-primario {background: #2563eb;border-color: #2563eb;color: #fff; }
.btn-primario:hover  { background: #1d4ed8; }
.btn-primario:active { transform: translateY(1px); }

/* Alineación de “Tipo / Zona / Descripción / Fecha …” en dos columnas */
.grid label:nth-child(1), .grid label:nth-child(2)  { grid-column: span 1; }
.grid label:nth-child(3) { /* Descripción ocupa ancho completo */grid-column: 1 / -1; }
.grid label:nth-child(4) { /* Fecha y hora medio ancho en desktop */grid-column: span 1; }

@media (max-width: 640px) {  .grid label:nth-child(4) { grid-column: 1 / -1; }   }

/* === ADMIN · Tratamientos · filtros compactos === */
#admin-tratamientos .card.filtros-trat{ min-height: auto; padding: 10px 12px; margin: 8px auto 14px; max-width: 1100px; }

/* Densidad y alineación en una sola línea */
#admin-tratamientos .filtros-trat .input-group{ display: grid; grid-template-columns: minmax(240px,1.2fr) 140px minmax(240px,1.2fr) auto; gap: 8px; align-items: center; }

/* Campos bajitos y consistentes */
#admin-tratamientos .filtros-trat input,
#admin-tratamientos .filtros-trat select,
#admin-tratamientos .filtros-trat button{ height: 36px; padding: 0 10px; border-radius: 10px; }

/* Autocomplete: botón limpiar más pequeño y pegado al input */
#admin-tratamientos #usuarioClear{ width: 26px; height: 26px; right: 6px; top: 50%; transform: translateY(-50%); }

/* Evita que el dropdown “empuje” el layout (ya es position:absolute) */
#admin-tratamientos #usuarioSugg{ max-height: 220px; }

/* Responsive: apila en móvil, sin huecos grandes */
@media (max-width: 900px){
    #admin-tratamientos .filtros-trat .input-group{ grid-template-columns: 1fr;
    }
}
/* === MODAL GENERAL (Admin) === */
/* === MODAL ELEGANTE CENTRADO === */
.modal-gen {
    border: none;
    padding: 0;
    background: transparent;
    width: 100%;
    height: 100%;
    overflow: hidden; /* Evita que el modal cree scroll interno */
}

/* === VER DETALLES DEL TRATAMIENTO === */
.ver-modal {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    font-size: 0.95rem;
    line-height: 1.4;
}

.ver-modal p {
    margin: 0;
    color: var(--color_texto);
    display: flex;
    align-items: center;
    gap: .4rem;
}

.ver-modal .emoji {
    font-size: 1rem;
}

.ver-modal strong {
    color: var(--color_secundario);
}

/* Pastillas de estado reutilizables */
.pill-estado {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.8rem;
    font-weight: 600;
    color: #fff;
    text-transform: capitalize;
}

.pill--activo {
    background: #27ae60;
}
.pill--finalizado {
    background: #f39c12;
}
.pill--inactivo {
    background: #95a5a6;
}


/* Fondo oscuro con desenfoque */
.modal-gen::backdrop {
    background: rgba(0, 0, 0, 0.45);
    backdrop-filter: blur(6px);
}

/* Contenedor centrado */
.modal-gen .wrap-modal {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    width: 100vw;
    animation: modalFadeIn 0.25s ease;
}

/* Tarjeta principal */
.modal-gen form {
    background: var(--color_blanco);
    color: var(--color_texto);
    border-radius: 16px;
    padding: 1.8rem 2.2rem;
    box-shadow: 0 12px 35px rgba(0,0,0,0.25);
    min-width: 420px;
    max-width: 90vw;
    display: flex;
    flex-direction: column;
    gap: 0.9rem;
    transform: scale(0.9);
    opacity: 0;
    animation: modalZoomIn 0.25s ease forwards;
}

.modal-gen h3 {
    margin: 0 0 .5rem;
    font-size: 1.4rem;
    color: var(--color_primario);
    text-align: left;
    border-bottom: 1px solid #e0e6ef;
    padding-bottom: .6rem;
}

.modal-gen label {
    font-weight: 600;
    font-size: 0.95rem;
    margin-bottom: 2px;
}

.modal-gen input,
.modal-gen select {
    padding: 10px 12px;
    border: 1px solid #cfd8e3;
    border-radius: 8px;
    font-size: 0.95rem;
    width: 100%;
    outline: none;
    transition: border-color .2s, box-shadow .2s;
}
.modal-gen input:focus,
.modal-gen select:focus {
    border-color: var(--color_primario);
    box-shadow: 0 0 0 2px rgba(0,141,149,0.2);
}

.modal-gen menu {
    display: flex;
    justify-content: flex-end;
    gap: 0.7rem;
    margin-top: 1.2rem;
}

.modal-gen button {
    border: none;
    cursor: pointer;
    font-weight: 600;
    border-radius: 8px;
    padding: 9px 16px;
    font-size: 0.9rem;
    transition: all .2s ease;
}

.modal-gen button[value="cancel"] {
    background: #f3f4f6;
    color: #333;
}
.modal-gen button[value="cancel"]:hover {
    background: #e5e7eb;
}

.modal-gen .btn-primario {
    background: var(--color_primario);
    color: var(--color_blanco);
}
.modal-gen .btn-primario:hover {
    filter: brightness(1.1);
}

/* Animaciones */
@keyframes modalFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
@keyframes modalZoomIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}


/* ===========================
   ADMIN — PAGINA CITAS
   =========================== */
/* Filtros admin ultra-compactos */
#admin-citas {
    width: 100%;
    max-width: 1200px;
    margin: 25px auto;
    padding: 0 1rem 3rem;
    color: var(--color_texto);
}

/* ----- Título ----- */
#admin-citas h2 {
    font-size: clamp(1.3rem, 2.2vw, 1.7rem);
    font-weight: 700;
    color: var(--color_primario);
    text-align: center;
    margin-bottom: 18px;
    border-bottom: 3px solid var(--color_primario);
    display: inline-block;
    padding-bottom: 4px;
    width: 100%;
}

/* ----- Card de filtros ----- */
#admin-citas .card-filt.filtros {
    background: var(--color_blanco);
    border: 1px solid #e6ebf1;
    border-radius: 14px;
    padding: 20px 10px;
    box-shadow: 0 6px 18px rgba(15,23,42,.06);
    margin-bottom: 18px;
    display: flex;
    flex-direction: column;
    gap: 0.9rem;
}
#admin-citas .card-filt {
    min-height: 120px;
}
#admin-citas .filtros input,
#admin-citas .filtros select {
    height: 38px;
    padding: 0 10px;
    border: 1px solid #d9e1ea;
    border-radius: 10px;
    font-size: 0.95rem;
    background: #fff;
    color: var(--color_texto);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

#admin-citas .filtros input:focus,
#admin-citas .filtros select:focus {
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0,141,149,0.15);
    outline: none;
}

#admin-citas .filtros .row {
    display: flex;
    flex-direction: row;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 10px;
    align-items: center;
    width: 100%;
}

#admin-citas .filtros .btn_primario {
    height: 38px;
    border-radius: 10px;
    font-weight: 600;
    background: linear-gradient(180deg, var(--color_secundario) 0%, var(--color_primario) 100%);
    color: #fff;
    cursor: pointer;
    transition: transform 0.1s ease, filter 0.2s ease;
}
#admin-citas .filtros .btn_primario:hover {
    transform: translateY(-1px);
    filter: brightness(1.05);
}

/* ----- Tabla ----- */
#admin-citas .tabla-wrap {
    overflow: hidden;
    box-shadow: 0 6px 18px rgba(15,23,42,.06);
}

#admin-citas .tabla {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
}

#admin-citas .tabla thead th {
    background: linear-gradient(0deg, var(--color-primary-button), var(--color_secundario));
    color: #fff;
    text-transform: uppercase;
    font-weight: 600;
    letter-spacing: 0.3px;
    padding: 12px 10px;
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 1;
}

#admin-citas .tabla tbody td {
    text-align: center;
    padding: 10px;
    border-bottom: 1px solid #eef1f6;
    background: #fff;
    transition: background 0.2s ease, box-shadow 0.2s ease;
}

/* Hover elegante */
#admin-citas .tabla tbody tr:hover td {
    background: #f7fafc;
    box-shadow: inset 0 1px 0 rgba(0,0,0,.02), inset 0 -1px 0 rgba(0,0,0,.02);
}

/* Estados (ya definidos en badges) */
#admin-citas .badge-estado {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: capitalize;
}

/* ----- Acciones ----- */
#admin-citas td:last-child {
    white-space: nowrap;
}

#admin-citas .acciones {
    display: flex;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
}

#admin-citas button.ver, button.cancel {
    background: #f7f9fb;
    color: var(--color_texto);
    border: 1px solid #dfe3eb;
    border-radius: 8px;
    padding: 6px 10px;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.1s ease;
}
#admin-citas button.cancel{
    background: rgba(255, 33, 33, 0.2);
}
#admin-citas .acciones .btn-sec:hover {
    background: #eef2ff;
    transform: translateY(-1px);
}

#admin-citas .acciones .btn-sec.danger {
    background: #ffe9e9;
    border-color: #ffd6d6;
    color: #991b1b;
}
#admin-citas .acciones .btn-sec.danger:hover {
    background: #fbd5d5;
}

/* ----- Paginación ----- */
#admin-citas .paginacion {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    margin-top: 20px;
    flex-wrap: wrap;
}

#admin-citas .paginacion button {
    background: #fff;
    border: 1px solid #dfe3eb;
    border-radius: 8px;
    padding: 6px 10px;
    cursor: pointer;
    font-weight: 600;
    color: var(--color_texto);
    transition: background 0.2s ease;
}
#admin-citas .paginacion button:hover {
    background: #eef2ff;
}
#admin-citas .paginacion select {
    border: 1px solid #dfe3eb;
    border-radius: 8px;
    padding: 5px 8px;
    background: #fff;
}

/* ----- Responsive ----- */
@media (max-width: 900px) {
    #admin-citas .filtros .row {
        grid-template-columns: repeat(2, 1fr);
    }
    #admin-citas .tabla thead {
        display: none;
    }
    #admin-citas .tabla,
    #admin-citas .tabla tbody,
    #admin-citas .tabla tr,
    #admin-citas .tabla td {
        display: block;
        width: 100%;
    }
    #admin-citas .tabla tr {
        margin-bottom: 10px;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        padding: 8px;
    }
    #admin-citas .tabla td::before {
        content: attr(data-label);
        display: block;
        font-weight: 700;
        color: var(--color_primario);
        margin-bottom: 2px;
    }
}

/* ----- Modo oscuro ----- */
body.dark-theme #admin-citas .card.filtros,
body.dark-theme #admin-citas .tabla-wrap {
    background: #2c2c2c;
    border-color: #444;
    box-shadow: none;
}

body.dark-theme #admin-citas .tabla tbody td {
    background: #2c2c2c;
    border-color: #444;
    color: #e5e7eb;
}
body.dark-theme #admin-citas .tabla tbody tr:hover td {
    background: #3a3a3a;
}

body.dark-theme #admin-citas .acciones .btn-sec {
    background: #333;
    border-color: #555;
    color: #fff;
}
body.dark-theme #admin-citas .acciones .btn-sec:hover {
    background: #444;
}
/* ===========================
   MODAL VER CITA
   =========================== */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.25s ease, visibility 0.25s ease;
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal-cita {
    background: #fff;
    border-radius: 16px;
    width: 90%;
    max-width: 480px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
    transform: translateY(20px) scale(0.95);
    transition: transform 0.3s ease;
    overflow: hidden;
}

.modal-overlay.active .modal-cita {
    transform: translateY(0) scale(1);
}

/* Header */
.modal-header {
    background: linear-gradient(135deg, var(--color_primario), var(--color_secundario));
    padding: 20px 50px 20px 24px; /* Más padding a la derecha para el botón X */
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
}

.modal-id {
    color: #fff;
    font-size: 1.1rem;
    font-weight: 700;
    flex-shrink: 0;
}

.modal-close {
    position: absolute;
    top: 50%;
    right: 12px;
    transform: translateY(-50%);
    background: rgba(255,255,255,0.2);
    border: none;
    color: #fff;
    font-size: 1.4rem;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
}

.modal-close:hover {
    background: rgba(255,255,255,0.35);
    transform: translateY(-50%) rotate(90deg);
}

/* Body */
.modal-body {
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.modal-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
}

.modal-field {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.modal-field.full {
    grid-column: 1 / -1;
}

.field-label {
    font-size: 0.8rem;
    color: #64748b;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.field-value {
    font-size: 1rem;
    color: var(--color_texto);
    font-weight: 500;
    padding: 10px 14px;
    background: #f8fafc;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
}

.field-value.desc {
    min-height: 60px;
    white-space: pre-wrap;
}

/* Badges estado en modal */
.modal-header .badge-estado {
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
    margin-right: 10px; /* Espacio extra antes del botón X */
}

.badge-estado.PENDIENTE { background: #fef3c7; color: #92400e; }
.badge-estado.CONFIRMADA { background: #dbeafe; color: #1e40af; }
.badge-estado.ATENDIDA { background: #d1fae5; color: #065f46; }
.badge-estado.CANCELADA { background: #fee2e2; color: #991b1b; }
#admin-citas .filtros .btn_secundario {
    height: 38px;
    border-radius: 10px;
    font-weight: 600;
    background: #f1f5f9;
    color: var(--color_texto);
    border: 1px solid #d9e1ea;
    cursor: pointer;
    padding: 0 16px;
    transition: all 0.2s ease;
}

#admin-citas .filtros .btn_secundario:hover {
    background: #e2e8f0;
    border-color: #cbd5e1;
}

body.dark-theme #admin-citas .filtros .btn_secundario {
    background: #404040;
    color: #e5e7eb;
    border-color: #555;
}

body.dark-theme #admin-citas .filtros .btn_secundario:hover {
    background: #4a4a4a;
}
/* Footer */
.modal-footer {
    padding: 16px 24px;
    background: #f8fafc;
    border-top: 1px solid #e2e8f0;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

.btn-modal {
    padding: 10px 20px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
}

.btn-modal.secondary {
    background: #e2e8f0;
    color: var(--color_texto);
}

.btn-modal.secondary:hover {
    background: #cbd5e1;
}

.btn-modal.primary {
    background: linear-gradient(135deg, var(--color_primario), var(--color_secundario));
    color: #fff;
}

.btn-modal.primary:hover {
    filter: brightness(1.1);
    transform: translateY(-1px);
}

/* Dark mode */
body.dark-theme .modal-cita {
    background: #1e1e1e;
}

body.dark-theme .field-value {
    background: #2a2a2a;
    border-color: #404040;
    color: #e5e7eb;
}

body.dark-theme .modal-footer {
    background: #252525;
    border-color: #404040;
}

body.dark-theme .btn-modal.secondary {
    background: #404040;
    color: #e5e7eb;
}

/* Responsive */
@media (max-width: 500px) {
    .modal-row {
        grid-template-columns: 1fr;
    }
    .modal-cita {
        margin: 16px;
    }
}
/* ===========================
   ADMIN — PAGINA REPORTES
   =========================== */
/* ====== Admin Estadísticas UI ====== */
.section-dashboard { padding: 1rem 0 2rem; }
.dash__head { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1rem; }
.dash__filters { display:flex; flex-wrap:wrap; gap:.5rem; background:#fff; padding:.75rem; border-radius:.75rem; box-shadow:0 2px 10px rgba(0,0,0,.06); }
.dash__filters input, .dash__filters select, .dash__filters button { height:32px; padding:0 .5rem; font-size:.9rem; }

.kpis-grid { display:grid; grid-template-columns: repeat(6, minmax(130px,1fr)); gap:.75rem; margin-bottom:1rem; }
.kpi { background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:.75rem; padding:.75rem; }
.kpi h4 { font-size:.85rem; margin:0 0 .25rem; color:#556; }
.kpi strong { font-size:1.2rem; color:#111; display:block; }

.charts-grid { display:grid; grid-template-columns: 1fr; gap:1rem; }
.card { background:#fff; border:1px dashed #27b7c2; border-radius:.75rem; padding:1rem; min-height:260px; }
.card h3 { margin:0 0 .5rem; font-size:1rem; color:#223; }
.card canvas { width:100% !important; height:220px !important; }

@media (min-width: 900px){
    .charts-grid { grid-template-columns: repeat(2, 1fr); }
    .kpis-grid { grid-template-columns: repeat(6, 1fr); }
}

.reports { margin-top:1.5rem; background:#0f3a54; color:#fff; border-radius:.75rem .75rem 0 0; padding:1rem; }
.rep__head { display:flex; align-items:center; justify-content:center; gap:.5rem; }
.rep__tabs [role=tab]{ background:#fff; color:#0f3a54; border:none; border-radius:.5rem; padding:.25rem .5rem; font-size:.85rem; margin:0 .15rem; cursor:pointer; }
.rep__panel { background:#fff; color:#222; border:1px solid rgba(0,0,0,.05); border-top:none; padding:.5rem; }
.rep__panel.is-hidden { display:none; }

.table-wrap { overflow:auto; }
.table-wrap table { width:100%; border-collapse:collapse; font-size:.92rem; }
.table-wrap th, .table-wrap td { border-bottom:1px solid #eee; padding:.5rem .6rem; white-space:nowrap; }
.table-wrap thead th { position:sticky; top:0; background:#f6f8fa; z-index:1; }

.pager { display:flex; align-items:center; gap:.5rem; padding:.5rem; }
.btn--muted{ opacity:.75; }
.btn--ghost{ background:transparent; border:1px solid #ccc; }
/* ===========================
   ADMIN — PÁGINA REPORTES
   =========================== */

/* ====== CONTENEDOR GENERAL ====== */
.section-dashboard {
    padding: 2rem 1.5rem 3rem;
    background: var(--fondo-body, #f5f7fa);
    min-height: 100vh;
}

/* ====== CABECERA Y FILTROS ====== */
.dash__head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.dash__filters {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.75rem;
    background: #fff;
    padding: 0.75rem 1rem;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.dash__filters input,
.dash__filters select,
.dash__filters button {
    height: 36px;
    padding: 0 0.75rem;
    font-size: 0.9rem;
    border-radius: 6px;
    border: 1px solid #d1d5db;
    background: #fff;
    transition: all 0.2s ease;
}

.dash__filters select:focus,
.dash__filters input:focus {
    outline: none;
    border-color: var(--color_primario, #008d95);
    box-shadow: 0 0 0 2px rgba(0, 141, 149, 0.15);
}

.dash__filters button {
    background: var(--color_primario, #008d95);
    color: #fff;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: background 0.2s;
}

.dash__filters button:hover {
    background: var(--color_secundario, #006380);
}

.btn--muted {
    background: #e5e7eb;
    color: #333;
}

.btn--ghost {
    background: transparent;
    border: 1px solid var(--color_primario, #008d95);
    color: var(--color_primario, #008d95);
}

/* ====== KPIs ====== */
.kpis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.kpi {
    background: #fff;
    border-radius: 12px;
    padding: 1rem 1.25rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    text-align: center;
    transition: transform 0.2s;
}

.kpi:hover {
    transform: translateY(-3px);
}

.kpi h4 {
    font-size: 0.9rem;
    color: #6b7280;
    margin-bottom: 0.5rem;
    font-weight: 500;
}

.kpi strong {
    font-size: 1.5rem;
    color: var(--color_primario, #008d95);
    font-weight: 700;
}

/* ====== GRÁFICOS ====== */
.charts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
    gap: 1.2rem;
    margin-bottom: 2rem;
}

.card {
    background: #fff;
    border-radius: 12px;
    padding: 1rem 1.25rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-height: 320px;
    transition: transform 0.2s ease;
}

.card:hover {
    transform: translateY(-2px);
}

.card h3 {
    font-size: 1rem;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 0.5rem;
    border-left: 4px solid var(--color_primario, #008d95);
    padding-left: 0.5rem;
}

.card canvas {
    width: 100% !important;
    height: 240px !important;
}

/* ====== REPORTES ====== */
.reports {
    background: #fff;
    color: #111;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

.rep__head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    background: var(--color_primario, #008d95);
    color: #fff;
    padding: 0.75rem 1.25rem;
}

.rep__head h3 {
    font-size: 1.1rem;
    margin: 0;
    font-weight: 600;
}

.rep__tabs [role=tab] {
    background: #fff;
    color: var(--color_primario, #008d95);
    border: none;
    border-radius: 6px;
    padding: 0.4rem 0.8rem;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
}

.rep__tabs [role=tab][aria-selected="true"],
.rep__tabs [role=tab]:hover {
    background: var(--color_secundario, #006380);
    color: #fff;
}

.rep__panel {
    background: #fff;
    color: #222;
    padding: 1rem 1.25rem;
    display: block;
}

.rep__panel.is-hidden {
    display: none;
}

/* ====== TABLAS ====== */
.table-wrap {
    overflow-x: auto;
    border-radius: 6px;
    border: 1px solid #e5e7eb;
}

.table-wrap table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
}

.table-wrap thead th {
    background: var(--color_primario, #008d95);
    color: #fff;
    text-align: left;
    padding: 0.7rem 0.9rem;
    font-weight: 600;
}

.table-wrap tbody td {
    border-bottom: 1px solid #e5e7eb;
    padding: 0.6rem 0.9rem;
}

.table-wrap tbody tr:hover {
    background: #f9fafb;
}

/* ====== Paginador ====== */
.pager {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-top: 1px solid #e5e7eb;
    background: #fafafa;
}

.pager button {
    background: var(--color_primario, #008d95);
    color: #fff;
    border: none;
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s;
}

.pager button:hover:not(:disabled) {
    background: var(--color_secundario, #006380);
}

.pager button:disabled {
    opacity: 0.6;
    cursor: default;
}



/* ═══════════════════════════════════════════════════════════════════════════
   ADMIN CONFIG - Diseño Profesional VitaLink
   ═══════════════════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────────────────────────────────────────────
   VARIABLES (usar las existentes o definir fallbacks)
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config {
    --cfg-primary: var(--color_primario, #0d9488);
    --cfg-primary-light: color-mix(in srgb, var(--cfg-primary) 15%, white);
    --cfg-primary-dark: color-mix(in srgb, var(--cfg-primary) 85%, black);
    --cfg-secondary: var(--color_secundario, #00b894);
    --cfg-bg: #f8fafc;
    --cfg-card: #ffffff;
    --cfg-border: #e2e8f0;
    --cfg-border-hover: #cbd5e1;
    --cfg-text: #1e293b;
    --cfg-text-muted: #64748b;
    --cfg-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.07), 0 2px 4px -2px rgb(0 0 0 / 0.07);
    --cfg-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08);
    --cfg-radius: 12px;
    --cfg-radius-sm: 8px;
    --cfg-transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ─────────────────────────────────────────────────────────────────────────────
   CONTENEDOR PRINCIPAL
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config.section-config {
    width: min(100%, 1200px);
    margin: 24px auto;
    background: var(--cfg-card);
    border: 1px solid var(--cfg-border);
    border-radius: var(--cfg-radius);
    box-shadow: var(--cfg-shadow-lg);
    padding: 0;
    overflow: hidden;
}

/* ─────────────────────────────────────────────────────────────────────────────
   HEADER
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config .config__head {
    margin: 0;
    padding: 20px 24px;
    background: linear-gradient(135deg, var(--cfg-primary) 0%, var(--cfg-primary-dark) 100%);
    color: #fff;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 16px;
    flex-wrap: wrap;
}

#admin-config .config__head h2 {
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 10px;
}

#admin-config .config__head h2::before {
    content: "⚙️";
    font-size: 1.3rem;
}

#admin-config .config__actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    align-items: center;
}

/* ─────────────────────────────────────────────────────────────────────────────
   BOTONES
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config .btn {
    border-radius: var(--cfg-radius-sm);
    padding: 10px 18px;
    border: none;
    font-weight: 600;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all var(--cfg-transition);
    display: inline-flex;
    align-items: center;
    gap: 6px;
    text-decoration: none;
}

#admin-config .btn--primary {
    background: rgba(255, 255, 255, 0.2);
    color: #fff;
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

#admin-config .btn--primary:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
}

#admin-config .btn--muted {
    background: rgba(255, 255, 255, 0.15);
    color: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

#admin-config .btn--muted:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.25);
}

#admin-config .btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

/* Badge "Sin guardar" */
#admin-config .pill--warn {
    background: #fef3c7;
    color: #92400e;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    animation: pulse-warn 2s infinite;
}

@keyframes pulse-warn {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* ─────────────────────────────────────────────────────────────────────────────
   TABS - Diseño horizontal con scroll
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config .tabs {
    display: flex;
    gap: 4px;
    padding: 16px 24px 0;
    background: var(--cfg-bg);
    border-bottom: 1px solid var(--cfg-border);
    overflow-x: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--cfg-border) transparent;
    -webkit-overflow-scrolling: touch;
}

#admin-config .tabs::-webkit-scrollbar {
    height: 4px;
}

#admin-config .tabs::-webkit-scrollbar-track {
    background: transparent;
}

#admin-config .tabs::-webkit-scrollbar-thumb {
    background: var(--cfg-border);
    border-radius: 4px;
}

#admin-config .tabs [role="tab"] {
    flex-shrink: 0;
    border: none;
    background: transparent;
    padding: 12px 16px;
    border-radius: var(--cfg-radius-sm) var(--cfg-radius-sm) 0 0;
    font-weight: 600;
    font-size: 0.875rem;
    color: var(--cfg-text-muted);
    cursor: pointer;
    transition: all var(--cfg-transition);
    position: relative;
    white-space: nowrap;
}

#admin-config .tabs [role="tab"]:hover {
    color: var(--cfg-primary);
    background: var(--cfg-primary-light);
}

#admin-config .tabs [role="tab"][aria-selected="true"] {
    background: var(--cfg-card);
    color: var(--cfg-primary);
    box-shadow: 0 -2px 0 0 var(--cfg-primary) inset;
}

#admin-config .tabs [role="tab"][aria-selected="true"]::after {
    content: "";
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--cfg-card);
}

/* ─────────────────────────────────────────────────────────────────────────────
   PANELES DE CONTENIDO
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config .tab-panels {
    padding: 24px;
    background: var(--cfg-card);
    min-height: 400px;
}

#admin-config [role="tabpanel"] {
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ─────────────────────────────────────────────────────────────────────────────
   GRID DE FORMULARIOS
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config .form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    align-items: start;
}

/* Labels */
#admin-config .form-grid > label {
    display: flex;
    flex-direction: column;
    gap: 8px;
    font-weight: 600;
    font-size: 0.875rem;
    color: var(--cfg-text);
}

/* Inputs de texto, email, url, number, time */
#admin-config .form-grid input[type="text"],
#admin-config .form-grid input[type="email"],
#admin-config .form-grid input[type="url"],
#admin-config .form-grid input[type="password"],
#admin-config .form-grid input[type="number"],
#admin-config .form-grid input[type="time"],
#admin-config .form-grid input[type="datetime-local"],
#admin-config .form-grid textarea,
#admin-config .form-grid select {
    border: 1px solid var(--cfg-border);
    border-radius: var(--cfg-radius-sm);
    padding: 12px 14px;
    background: var(--cfg-card);
    font-size: 0.9375rem;
    font-weight: 500;
    color: var(--cfg-text);
    width: 100%;
    transition: all var(--cfg-transition);
}

#admin-config .form-grid input:focus,
#admin-config .form-grid textarea:focus,
#admin-config .form-grid select:focus {
    outline: none;
    border-color: var(--cfg-primary);
    box-shadow: 0 0 0 3px var(--cfg-primary-light);
}

#admin-config .form-grid input::placeholder,
#admin-config .form-grid textarea::placeholder {
    color: var(--cfg-text-muted);
    font-weight: 400;
}

/* Textarea */
#admin-config .form-grid textarea {
    resize: vertical;
    min-height: 80px;
}

/* Select */
#admin-config .form-grid select {
    cursor: pointer;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2364748b' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 14px center;
    padding-right: 40px;
}

/* Color picker */
#admin-config .form-grid input[type="color"] {
    width: 60px;
    height: 44px;
    padding: 4px;
    border: 2px solid var(--cfg-border);
    border-radius: var(--cfg-radius-sm);
    cursor: pointer;
    transition: all var(--cfg-transition);
}

#admin-config .form-grid input[type="color"]:hover {
    border-color: var(--cfg-primary);
    transform: scale(1.05);
}

/* Help text */
#admin-config .form-grid .help,
#admin-config .form-grid small.help {
    font-size: 0.75rem;
    color: var(--cfg-text-muted);
    font-weight: 400;
    margin-top: -2px;
}

#admin-config .form-grid small.muted {
    color: var(--cfg-text-muted);
    font-size: 0.8125rem;
    font-weight: 400;
}

/* Span de columnas */
#admin-config .col-span-2 {
    grid-column: span 2;
}

@media (max-width: 640px) {
    #admin-config .col-span-2 {
        grid-column: span 1;
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   SWITCHES - Tarjetas con toggle a la derecha
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config .switch,
#admin-config .form-grid > label.switch,
#admin-config fieldset .switch,
#admin-config fieldset > label.switch {
    display: flex;
    flex-direction: row !important;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    padding: 16px 20px;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: var(--cfg-radius);
    cursor: pointer;
    transition: all var(--cfg-transition);
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--cfg-text);
    min-width: 280px;
    min-height: 56px;
    user-select: none;
}

/* Texto del switch - a la izquierda, ocupa el espacio disponible */
#admin-config .switch span {
    flex: 1;
    line-height: 1.4;
    order: -1; /* Texto primero (izquierda) */
}

#admin-config .switch:hover {
    border-color: #cbd5e1;
    background: #f1f5f9;
}

/* Estado ACTIVO del contenedor */
#admin-config .switch:has(input:checked) {
    background: linear-gradient(135deg, rgba(13, 148, 136, 0.1) 0%, rgba(13, 148, 136, 0.04) 100%);
    border-color: var(--cfg-primary);
}

/* ══════════════════════════════════════════════════════════════════════════
   TOGGLE - Switch visual con ON/OFF dentro (a la derecha)
   ══════════════════════════════════════════════════════════════════════════ */
#admin-config .switch input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 72px;
    height: 36px;
    background: #d1d5db;
    border-radius: 18px;
    position: relative;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
    order: 1; /* Toggle al final (derecha) */
}

/* Texto OFF (visible cuando no está checked) */
#admin-config .switch input[type="checkbox"]::before {
    content: "OFF";
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 11px;
    font-weight: 700;
    color: #6b7280;
    transition: opacity 0.2s ease;
}

/* Círculo del toggle */
#admin-config .switch input[type="checkbox"]::after {
    content: "";
    position: absolute;
    top: 3px;
    left: 3px;
    width: 30px;
    height: 30px;
    background: white;
    border-radius: 50%;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* ══════════════════════════════════════════════════════════════════════════
   ESTADO CHECKED
   ══════════════════════════════════════════════════════════════════════════ */
#admin-config .switch input[type="checkbox"]:checked {
    background: var(--cfg-primary);
}

/* Texto ON (visible cuando está checked) */
#admin-config .switch input[type="checkbox"]:checked::before {
    content: "ON";
    right: auto;
    left: 12px;
    color: white;
}

/* Mover círculo a la derecha */
#admin-config .switch input[type="checkbox"]:checked::after {
    left: calc(100% - 33px);
}

/* ══════════════════════════════════════════════════════════════════════════
   HOVER EFFECTS
   ══════════════════════════════════════════════════════════════════════════ */
#admin-config .switch:hover input[type="checkbox"] {
    background: #9ca3af;
}

#admin-config .switch:hover input[type="checkbox"]:checked {
    background: var(--cfg-primary-dark, #0d7377);
}

#admin-config .switch:hover input[type="checkbox"]::after {
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2), 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* ─────────────────────────────────────────────────────────────────────────────
   FIELDSETS - Secciones agrupadas
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config fieldset {
    border: 1px solid var(--cfg-border);
    border-radius: var(--cfg-radius);
    padding: 20px;
    margin: 0;
    background: var(--cfg-bg);
}

#admin-config fieldset legend {
    font-weight: 700;
    font-size: 0.9375rem;
    color: var(--cfg-primary);
    padding: 0 12px;
    margin-left: -4px;
    background: var(--cfg-card);
    border-radius: 6px;
}

#admin-config fieldset .switch {
    background: var(--cfg-card);
    margin-bottom: 12px;
}

#admin-config fieldset .switch:last-child {
    margin-bottom: 0;
}

/* Switches en fieldsets - estado activo */
#admin-config fieldset .switch:has(input:checked) {
    background: linear-gradient(135deg, rgba(13, 148, 136, 0.1) 0%, rgba(13, 148, 136, 0.04) 100%);
}

#admin-config fieldset > label {
    display: flex;
    flex-direction: column;
    gap: 8px;
    font-weight: 600;
    font-size: 0.875rem;
    color: var(--cfg-text);
    margin-top: 16px;
}

#admin-config fieldset > label:first-of-type {
    margin-top: 12px;
}

/* ─────────────────────────────────────────────────────────────────────────────
   PREVIEW DE MARCA (Identidad)
   ───────────────────────────────────────────────────────────────────────────── */
#admin-config #tab-identidad .preview {
    grid-column: 1 / -1;
    margin-top: 8px;
}

#admin-config #tab-identidad .preview > small {
    display: block;
    font-size: 0.8125rem;
    color: var(--cfg-text-muted);
    margin-bottom: 10px;
    font-weight: 500;
}

#admin-config .brand-preview {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    padding: 16px 20px;
    border: 2px solid var(--cfg-border);
    border-radius: var(--cfg-radius);
    background: linear-gradient(135deg, var(--c1, var(--cfg-primary)) 0%, transparent 100%);
    background-size: 30% 100%;
    background-repeat: no-repeat;
}

#admin-config .brand-preview .contPreviewImg {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

#admin-config .brand-preview .brandPreviewImg {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

#admin-config .brand-preview #brandPreviewName {
    font-weight: 700;
    font-size: 1.125rem;
}

/* ─────────────────────────────────────────────────────────────────────────────
   SECCIONES ESPECÍFICAS
   ───────────────────────────────────────────────────────────────────────────── */

/* Notificaciones - 2 columnas con switches */
#admin-config #tab-notifs .form-grid {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

#admin-config #tab-notifs .form-grid > label:first-child {
    grid-column: 1 / -1;
}

/* Integraciones SMTP */
#admin-config #tab-integraciones .form-grid {
    grid-template-columns: repeat(3, 1fr);
}

#admin-config #tab-integraciones .form-grid > small.muted {
    grid-column: 1 / -1;
    padding: 12px 16px;
    background: #fef9c3;
    border: 1px solid #fde047;
    border-radius: var(--cfg-radius-sm);
    color: #854d0e;
    font-weight: 500;
}

#admin-config #tab-integraciones label:has(#cfg_webhookBase) {
    grid-column: 1 / -1;
}

/* Usuarios */
#admin-config #tab-usuarios .form-grid {
    grid-template-columns: repeat(2, 1fr);
}

/* Auditoría */
#admin-config #tab-auditoria .form-grid {
    grid-template-columns: repeat(2, 1fr);
}

#admin-config #tab-auditoria fieldset {
    grid-column: 1 / -1;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 12px;
}

#admin-config #tab-auditoria fieldset .switch {
    min-width: fit-content;
}

/* Backup */
#admin-config #tab-backup .form-grid {
    grid-template-columns: repeat(2, 1fr);
}

#admin-config #tab-backup .switch.col-span-2 {
    grid-column: 1 / -1;
}

/* Personalización UI */
#admin-config #tab-ui .form-grid {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

/* Límites */
#admin-config #tab-limites .form-grid {
    grid-template-columns: repeat(2, 1fr);
}

/* Mantenimiento */
#admin-config #tab-mantenimiento .form-grid {
    grid-template-columns: repeat(2, 1fr);
}

/* Switch de mantenimiento - PELIGRO */
#admin-config #tab-mantenimiento .switch.col-span-2 {
    grid-column: 1 / -1;
    background: #fef2f2;
    border-color: #fecaca;
}

#admin-config #tab-mantenimiento .switch.col-span-2:hover {
    background: #fee2e2;
    border-color: #f87171;
}

/* Toggle rojo para mantenimiento */
#admin-config #tab-mantenimiento .switch.col-span-2 input[type="checkbox"] {
    background: #fca5a5;
}

#admin-config #tab-mantenimiento .switch.col-span-2 input[type="checkbox"]::before {
    color: #991b1b;
}

#admin-config #tab-mantenimiento .switch.col-span-2:hover input[type="checkbox"] {
    background: #f87171;
}

/* Mantenimiento ACTIVO - muy visible */
#admin-config #tab-mantenimiento .switch.col-span-2:has(input:checked) {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
    border-color: #ef4444;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.15);
    animation: pulse-danger 2s infinite;
}

#admin-config #tab-mantenimiento .switch.col-span-2:has(input:checked) input[type="checkbox"] {
    background: #ef4444;
}

#admin-config #tab-mantenimiento .switch.col-span-2:has(input:checked) input[type="checkbox"]::before {
    color: white;
}

@keyframes pulse-danger {
    0%, 100% { box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.15); }
    50% { box-shadow: 0 0 0 6px rgba(239, 68, 68, 0.08); }
}

/* Mensaje de advertencia bajo el switch */
#admin-config #tab-mantenimiento .form-grid > small.help.col-span-2 {
    grid-column: 1 / -1;
    background: #fef3c7;
    border: 1px solid #fcd34d;
    padding: 10px 14px;
    border-radius: var(--cfg-radius-sm);
    font-weight: 500;
}

#admin-config #tab-mantenimiento label:has(#cfg_mensajeMantenimiento) {
    grid-column: 1 / -1;
}

/* API & Webhooks */
#admin-config #tab-api .form-grid {
    grid-template-columns: 1fr;
    gap: 24px;
}

#admin-config #tab-api fieldset {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
}

#admin-config #tab-api fieldset .switch {
    grid-column: 1 / -1;
}

#admin-config #tab-api fieldset label.col-span-2 {
    grid-column: 1 / -1;
}

/* ─────────────────────────────────────────────────────────────────────────────
   TOAST NOTIFICATION
   ───────────────────────────────────────────────────────────────────────────── */
.toast {
    position: fixed;
    bottom: 24px;
    right: 24px;
    padding: 14px 24px;
    border-radius: var(--cfg-radius);
    font-weight: 600;
    font-size: 0.9375rem;
    z-index: 9999;
    animation: slideIn 0.3s ease, fadeOut 0.3s ease 2.7s forwards;
    box-shadow: var(--cfg-shadow-lg);
}

.toast--success {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
}

.toast--error {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
}

@keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

@keyframes fadeOut {
    to { opacity: 0; transform: translateY(10px); }
}

/* ─────────────────────────────────────────────────────────────────────────────
   RESPONSIVE
   ───────────────────────────────────────────────────────────────────────────── */
@media (max-width: 1024px) {
    #admin-config #tab-integraciones .form-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    #admin-config .config__head {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    #admin-config .config__actions {
        width: 100%;
        justify-content: flex-end;
    }

    #admin-config .tabs {
        padding: 12px 16px 0;
    }

    #admin-config .tab-panels {
        padding: 16px;
    }

    #admin-config .form-grid {
        grid-template-columns: 1fr;
    }

    #admin-config #tab-integraciones .form-grid,
    #admin-config #tab-usuarios .form-grid,
    #admin-config #tab-auditoria .form-grid,
    #admin-config #tab-backup .form-grid,
    #admin-config #tab-limites .form-grid,
    #admin-config #tab-mantenimiento .form-grid {
        grid-template-columns: 1fr;
    }

    #admin-config .col-span-2,
    #admin-config fieldset,
    #admin-config .switch.col-span-2 {
        grid-column: 1;
    }
}

@media (max-width: 480px) {
    #admin-config.section-config {
        margin: 12px;
        border-radius: var(--cfg-radius-sm);
    }

    #admin-config .config__head {
        padding: 16px;
    }

    #admin-config .btn {
        padding: 8px 14px;
        font-size: 0.8125rem;
    }

    #admin-config .tabs [role="tab"] {
        padding: 10px 12px;
        font-size: 0.8125rem;
    }
}


/* ===========================
   RECORDATORIOS — Bloque Final v2
   =========================== */

/* Variables específicas de recordatorios */
:root {
    --rec-bg: #ffffff;
    --rec-bg-soft: #f8fafc;
    --rec-text: #1e293b;
    --rec-text-soft: #64748b;
    --rec-border: #e2e8f0;
    --rec-primary: #0ea5e9;
    --rec-primary-soft: rgba(14, 165, 233, 0.1);
    --rec-success: #10b981;
    --rec-card-shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
    --rec-card-shadow-hover: 0 10px 40px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.04);

    /* Colores por tipo */
    --rec-type-med: #3b82f6;
    --rec-type-med-bg: linear-gradient(135deg, rgba(59, 130, 246, 0.06) 0%, rgba(59, 130, 246, 0.01) 100%);
    --rec-type-cita: #f59e0b;
    --rec-type-cita-bg: linear-gradient(135deg, rgba(245, 158, 11, 0.06) 0%, rgba(245, 158, 11, 0.01) 100%);
    --rec-type-trat: #10b981;
    --rec-type-trat-bg: linear-gradient(135deg, rgba(16, 185, 129, 0.06) 0%, rgba(16, 185, 129, 0.01) 100%);
    --rec-type-otro: #8b5cf6;
}

/* Dark mode support */
[data-theme="dark"] {
    --rec-bg: #1e293b;
    --rec-bg-soft: #334155;
    --rec-text: #f1f5f9;
    --rec-text-soft: #94a3b8;
    --rec-border: #475569;
    --rec-card-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
    --rec-card-shadow-hover: 0 10px 40px rgba(0, 0, 0, 0.4), 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* ====== TÍTULO Y LAYOUT ====== */
#main_panelUser .rec-title {
    margin-top: .25rem;
    text-align: center;
    font-weight: 800;
    letter-spacing: .2px;
    color: var(--rec-text);
}

#main_panelUser .rec-wrap {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.25rem;
    padding: 0 20px;
}

/* ====== FORMULARIO (diseño original) ====== */
#main_panelUser .rec-form {
    background: var(--rec-bg);
    border: 1px solid var(--rec-border);
    border-radius: 16px;
    padding: 16px;
    box-shadow: var(--rec-card-shadow);
    display: grid;
    gap: 12px;
}

#main_panelUser .rec-grid-2 {
    display: grid;
    gap: 12px;
    grid-template-columns: 1fr 1fr;
}

@media (max-width: 900px) {
    #main_panelUser .rec-grid-2 {
        grid-template-columns: 1fr;
    }
}

#main_panelUser .rec-form input,
#main_panelUser .rec-form select,
#main_panelUser .rec-form textarea {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid var(--rec-border);
    border-radius: 10px;
    background: var(--rec-bg-soft);
    color: var(--rec-text);
    outline: none;
}

#main_panelUser .rec-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 6px;
}

#main_panelUser .rec-actions button {
    border: 0;
    border-radius: 10px;
    padding: 10px 14px;
    cursor: pointer;
    background: var(--rec-primary);
    color: #fff;
    font-weight: 600;
    box-shadow: var(--rec-card-shadow);
    transition: transform .15s, box-shadow .15s, filter .2s;
}

#main_panelUser .rec-actions button:hover {
    transform: translateY(-1px);
    box-shadow: var(--rec-card-shadow-hover);
}

#main_panelUser #btn-limpiar { background: #64748b; }
#main_panelUser #btn-demo   { background: #0ea5e9; }

/* ====== PANEL RECORDATORIOS ACTIVOS ====== */
#main_panelUser #rec-activos {
    width: 100%;
    margin: 0 auto;
    padding: 2rem 2.5rem 2.5rem;
    background: var(--rec-bg);
    border-radius: 1.75rem;
    border: 1px solid var(--rec-border);
    box-shadow: var(--rec-card-shadow);
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 1rem;
}

#main_panelUser #rec-activos h2 {
    font-size: 1.5rem;
    font-weight: 800;
    text-align: center;
    letter-spacing: -0.01em;
    color: var(--rec-text);
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

#main_panelUser #rec-activos h2::before {
    content: '🔔';
    font-size: 1.3rem;
}

/* ====== CHIPS FILTRO ====== */
#main_panelUser .rec-chips {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.5rem 0.6rem;
    margin: 0 auto 0.75rem;
    list-style: none;
    border-radius: 1rem;
    background: var(--rec-bg-soft);
    border: 1px solid var(--rec-border);
    max-width: fit-content;
}

#main_panelUser .rec-chip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.55rem 1.15rem;
    border-radius: 0.75rem;
    border: none;
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--rec-text-soft);
    background: transparent;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

#main_panelUser .rec-chip:hover {
    color: var(--rec-text);
    background: rgba(14, 165, 233, 0.08);
}

#main_panelUser .rec-chip.active {
    color: #fff;
    background: linear-gradient(135deg, var(--rec-primary) 0%, #0284c7 100%);
    box-shadow: 0 4px 15px rgba(14, 165, 233, 0.35);
    transform: scale(1.02);
}

#main_panelUser .rec-chip.active:hover {
    box-shadow: 0 6px 20px rgba(14, 165, 233, 0.45);
}

#main_panelUser .rec-chip:active {
    transform: scale(0.97);
}

/* ====== RESUMEN CONTADOR ====== */
#main_panelUser .rec-resumen {
    text-align: center;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--rec-text-soft);
    margin: 0.25rem 0 1rem;
    padding: 0.5rem 1rem;
    background: var(--rec-bg-soft);
    border-radius: 2rem;
    display: inline-block;
    align-self: center;
    border: 1px solid var(--rec-border);
}

/* ====== LISTA DE RECORDATORIOS ====== */
#main_panelUser .rec-list {
    list-style: none;
    padding: 0;
    margin: 0.5rem 0 0;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 320px));
    gap: 1.25rem;
    justify-content: center;
    width: 100%;
}

/* ====== CARD RECORDATORIO - DISEÑO COMPACTO ====== */
#main_panelUser .rec-card {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
    padding: 1.1rem 1.25rem;
    background: var(--rec-bg);
    border: 1px solid var(--rec-border);
    border-radius: 1rem;
    box-shadow: var(--rec-card-shadow);
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    animation: slideIn 0.3s ease-out;
}

/* Borde lateral con gradiente */
#main_panelUser .rec-card::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(180deg, var(--rec-primary) 0%, #06b6d4 100%);
}

#main_panelUser .rec-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--rec-card-shadow-hover);
    border-color: rgba(14, 165, 233, 0.25);
}

/* Variantes por tipo */
#main_panelUser .rec-card:has(.rec-chip--med)::before {
    background: linear-gradient(180deg, var(--rec-type-med) 0%, #60a5fa 100%);
}
#main_panelUser .rec-card:has(.rec-chip--med) {
    background: var(--rec-type-med-bg);
}

#main_panelUser .rec-card:has(.rec-chip--cita)::before {
    background: linear-gradient(180deg, var(--rec-type-cita) 0%, #fbbf24 100%);
}
#main_panelUser .rec-card:has(.rec-chip--cita) {
    background: var(--rec-type-cita-bg);
}

#main_panelUser .rec-card:has(.rec-chip--trat)::before {
    background: linear-gradient(180deg, var(--rec-type-trat) 0%, #34d399 100%);
}
#main_panelUser .rec-card:has(.rec-chip--trat) {
    background: var(--rec-type-trat-bg);
}

#main_panelUser .rec-card:has(.rec-chip--otro)::before {
    background: linear-gradient(180deg, var(--rec-type-otro) 0%, #a78bfa 100%);
}

/* ====== CONTENIDO CARD ====== */
#main_panelUser .rec-card__left {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    flex: 1;
}

/* Header: checkbox + título */
#main_panelUser .rec-card__title {
    display: flex;
    align-items: flex-start;
    gap: 0.6rem;
    font-size: 1rem;
    font-weight: 700;
    color: var(--rec-text);
    line-height: 1.35;
}

/* Checkbox personalizado */
#main_panelUser .rec-card__title input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    min-width: 20px;
    margin-top: 2px;
    border: 2px solid var(--rec-border);
    border-radius: 5px;
    cursor: pointer;
    position: relative;
    transition: all 0.2s ease;
    background: var(--rec-bg);
}

#main_panelUser .rec-card__title input[type="checkbox"]:hover {
    border-color: var(--rec-primary);
    background: var(--rec-primary-soft);
}

#main_panelUser .rec-card__title input[type="checkbox"]:checked {
    background: linear-gradient(135deg, var(--rec-success) 0%, #059669 100%);
    border-color: var(--rec-success);
}

#main_panelUser .rec-card__title input[type="checkbox"]:checked::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 12px;
    font-weight: 700;
}

#main_panelUser .rec-card__title--done {
    color: var(--rec-success);
    text-decoration: line-through;
    opacity: 0.7;
}

/* Fecha */
#main_panelUser .rec-date {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    color: var(--rec-text-soft);
    font-size: 0.85rem;
    font-weight: 500;
    padding-left: 1.75rem;
}

#main_panelUser .rec-date::before {
    content: '📅';
    font-size: 0.8rem;
}

/* ====== TAGS DE TIPO ====== */
#main_panelUser .rec-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
    padding-left: 1.75rem;
}

#main_panelUser .rec-tags .rec-chip {
    padding: 0.3rem 0.7rem;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    border-radius: 1.5rem;
    cursor: default;
}

#main_panelUser .rec-chip--med {
    background: rgba(59, 130, 246, 0.12);
    color: #2563eb;
    border: 1px solid rgba(59, 130, 246, 0.2);
}
#main_panelUser .rec-chip--med::before {
    content: '💊 ';
}

#main_panelUser .rec-chip--cita {
    background: rgba(245, 158, 11, 0.12);
    color: #b45309;
    border: 1px solid rgba(245, 158, 11, 0.2);
}
#main_panelUser .rec-chip--cita::before {
    content: '📋 ';
}

#main_panelUser .rec-chip--trat {
    background: rgba(16, 185, 129, 0.12);
    color: #059669;
    border: 1px solid rgba(16, 185, 129, 0.2);
}
#main_panelUser .rec-chip--trat::before {
    content: '🩺 ';
}

#main_panelUser .rec-chip--otro {
    background: rgba(139, 92, 246, 0.12);
    color: #7c3aed;
    border: 1px solid rgba(139, 92, 246, 0.2);
}
#main_panelUser .rec-chip--otro::before {
    content: '📌 ';
}

/* Descripción */
#main_panelUser .rec-desc {
    color: var(--rec-text-soft);
    font-size: 0.875rem;
    line-height: 1.45;
    padding-left: 1.75rem;
}

/* ====== ACCIONES CARD ====== */
#main_panelUser .rec-card__right {
    display: flex;
    flex-direction: row;
    gap: 0.5rem;
    justify-content: flex-end;
    padding-top: 0.5rem;
    border-top: 1px solid var(--rec-border);
    margin-top: auto;
}

#main_panelUser .rec-btn {
    border: none;
    border-radius: 0.5rem;
    padding: 0.45rem 0.85rem;
    background: var(--rec-bg);
    color: var(--rec-text);
    font-weight: 600;
    font-size: 0.8rem;
    cursor: pointer;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.06);
    border: 1px solid var(--rec-border);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.3rem;
    transition: all 0.2s ease;
}

#main_panelUser .rec-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
}

#main_panelUser .rec-btn--edit {
    background: #f8fafc;
    color: var(--rec-primary);
    border-color: rgba(14, 165, 233, 0.25);
}

#main_panelUser .rec-btn--edit:hover {
    background: var(--rec-primary);
    color: white;
    border-color: var(--rec-primary);
}

#main_panelUser .rec-btn--danger {
    background: #fef2f2;
    color: #dc2626;
    border-color: rgba(220, 38, 38, 0.2);
}

#main_panelUser .rec-btn--danger:hover {
    background: #dc2626;
    color: white;
    border-color: #dc2626;
}

/* ====== ESTADO VACÍO ====== */
#main_panelUser .rec-list li:only-child:not(.rec-card) {
    text-align: center;
    padding: 3rem 2rem;
    color: var(--rec-text-soft);
    font-size: 1rem;
    background: var(--rec-bg-soft);
    border-radius: 1rem;
    border: 2px dashed var(--rec-border);
    grid-column: 1 / -1;
}

/* ====== ANIMACIÓN ====== */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ====== RESPONSIVE ====== */
@media (max-width: 768px) {
    #main_panelUser #rec-activos {
        padding: 1.5rem 1rem;
        border-radius: 1.25rem;
    }

    #main_panelUser .rec-chips {
        width: 100%;
        max-width: 100%;
        justify-content: flex-start;
        overflow-x: auto;
        flex-wrap: nowrap;
        padding: 0.5rem;
        gap: 0.35rem;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
    }

    #main_panelUser .rec-chips::-webkit-scrollbar {
        display: none;
    }

    #main_panelUser .rec-chip {
        flex-shrink: 0;
        padding: 0.5rem 0.9rem;
        font-size: 0.8rem;
    }

    #main_panelUser .rec-list {
        grid-template-columns: 1fr;
        gap: 1rem;
    }

    #main_panelUser .rec-card {
        padding: 1rem;
    }
}

/* ====== DESKTOP GRANDE ====== */
@media (min-width: 1200px) {
    #main_panelUser .rec-list {
        grid-template-columns: repeat(auto-fill, minmax(300px, 340px));
    }
}
/* ===========================
   TRATAMIENTOS — Diseño moderno y compacto
   =========================== */
/* Layout principal */
#main-tratamientos{
    max-width: 1600px;
    margin: 0 auto;
    padding: 2rem 1rem;
    display: grid;
    gap: 2rem;
}

@media (min-width: 1920px) {
    #main-tratamientos {
        max-width: 1800px;
    }
}

@media (max-width: 768px) {
    #main-tratamientos {
        padding: 1.5rem 0.75rem;
        gap: 1.5rem;
    }
}

/* Secciones */
.trat-section {
    background: var(--rec-bg);
    border: 1px solid var(--rec-border);
    border-radius: 16px;
    padding: 1.5rem;
    box-shadow: var(--rec-card-shadow);
    transition: box-shadow 0.3s ease;
}

.trat-section:hover {
    box-shadow: var(--rec-card-shadow-hover);
}

@media (max-width: 768px) {
    .trat-section {
        padding: 1.25rem 1rem;
        border-radius: 12px;
    }
}

/* Headers */
.trat-header {
    text-align: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1.25rem;
    border-bottom: 2px solid var(--rec-border);
}

.trat-header h2 {
    font-size: 1.75rem;
    font-weight: 800;
    color: var(--rec-text);
    margin: 0 0 0.5rem 0;
    letter-spacing: -0.025em;
}

.trat-subtitle {
    color: var(--rec-text-soft);
    font-size: 0.9rem;
    margin: 0;
}

@media (max-width: 768px) {
    .trat-header h2 {
        font-size: 1.5rem;
    }
    .trat-header {
        margin-bottom: 1.25rem;
        padding-bottom: 1rem;
    }
}

/* Formulario */
.trat-form {
    display: grid;
    gap: 1rem;
    max-width: 1200px;
    margin: 0 auto;
}

@media (min-width: 1400px) {
    .trat-form {
        max-width: 1400px;
    }
}

.trat-form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.trat-form-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    color: var(--rec-text);
    font-size: 0.95rem;
}

.label-icon {
    font-size: 1.1rem;
}

/* Inputs y selects */
.trat-form input[type="text"],
.trat-form input[type="number"],
.trat-form input[type="date"],
.trat-form select,
.trat-form textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 2px solid var(--rec-border);
    border-radius: 10px;
    background: var(--rec-bg-soft);
    color: var(--rec-text);
    font-size: 0.95rem;
    transition: all 0.2s ease;
    font-family: inherit;
}

.trat-form input:focus,
.trat-form select:focus,
.trat-form textarea:focus {
    outline: none;
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0, 179, 189, 0.1);
}

.trat-form textarea {
    resize: vertical;
    min-height: 80px;
}

/* Grid de 2 y 3 columnas */
.trat-form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.trat-form-row--triple {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 1rem;
}

@media (max-width: 900px) {
    .trat-form-row--triple {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 768px) {
    .trat-form-row,
    .trat-form-row--triple {
        grid-template-columns: 1fr;
    }
}

/* Checkbox personalizado */
.trat-checkbox {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    padding: 0.75rem 1rem;
    background: var(--rec-bg-soft);
    border: 2px solid var(--rec-border);
    border-radius: 10px;
    transition: all 0.2s ease;
}

.trat-checkbox:hover {
    border-color: var(--color_primario);
    background: var(--rec-bg);
}

.trat-checkbox input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--color_primario);
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    color: var(--rec-text);
    font-size: 0.95rem;
}

/* Botones del formulario */
.trat-form-actions {
    display: flex;
    gap: 1rem;
    margin-top: 0.5rem;
}

.trat-btn-primary,
.trat-btn-secondary {
    flex: 1;
    padding: 0.875rem 1.5rem;
    border: none;
    border-radius: 10px;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: var(--rec-card-shadow);
}

.trat-btn-primary {
    background: var(--color_primario);
    color: white;
}

.trat-btn-primary:hover {
    background: var(--color_secundario);
    transform: translateY(-2px);
    box-shadow: var(--rec-card-shadow-hover);
}

.trat-btn-secondary {
    background: var(--rec-bg-soft);
    color: var(--rec-text);
    border: 2px solid var(--rec-border);
}

.trat-btn-secondary:hover {
    background: var(--rec-bg);
    border-color: var(--color_primario);
    transform: translateY(-2px);
}

@media (max-width: 640px) {
    .trat-form-actions {
        flex-direction: column;
    }
}

/* Contenedor de cards */
.trat-cards-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(480px, 1fr));
    gap: 1.5rem;
}

@media (max-width: 768px) {
    .trat-cards-container {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
}

/* Card de tratamiento */
.trat-card {
    background: var(--rec-bg);
    border: 2px solid var(--rec-border);
    border-radius: 16px;
    padding: 1.25rem;
    box-shadow: var(--rec-card-shadow);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.trat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 5px;
    height: 100%;
    background: var(--color-secundary-button);
    transition: background 0.3s ease;
}

.trat-card--activo::before {
    background: var(--rec-success);
}

.trat-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--rec-card-shadow-hover);
    border-color: var(--color_primario);
}

/* Header del card */
.trat-card__header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.25rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid var(--rec-border);
}

.trat-card__title-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    flex: 1;
}

.trat-card__title {
    font-size: 1.25rem;
    font-weight: 800;
    color: var(--rec-text);
    margin: 0;
    line-height: 1.2;
}

/* Body del card */
.trat-card__body {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

/* Grid de información */
.trat-card__info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: 0.75rem;
}

.trat-info-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    padding: 0.75rem;
    background: var(--rec-bg-soft);
    border-radius: 8px;
    border: 1px solid var(--rec-border);
}

.trat-info-label {
    font-size: 0.8rem;
    color: var(--rec-text-soft);
    font-weight: 600;
}

.trat-info-value {
    font-size: 0.95rem;
    color: var(--rec-text);
    font-weight: 700;
}

/* Fechas */
.trat-card__dates {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem;
    background: rgba(0, 179, 189, 0.1);
    border-radius: 10px;
    border: 1px solid var(--color_primario);
}

.trat-date-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    flex: 1;
}

.trat-date-label {
    font-size: 0.8rem;
    color: var(--rec-text-soft);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.trat-date-value {
    font-size: 0.95rem;
    color: var(--rec-text);
    font-weight: 700;
}

.trat-date-arrow {
    font-size: 1.25rem;
    color: var(--color_primario);
    font-weight: 700;
}

/* Detalles adicionales */
.trat-card__details {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.trat-detail-row {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    padding: 0.5rem;
    background: var(--rec-bg-soft);
    border-radius: 6px;
    font-size: 0.9rem;
    line-height: 1.5;
}

.trat-detail-icon {
    font-size: 1rem;
    flex-shrink: 0;
}

.trat-detail-text {
    color: var(--rec-text);
    flex: 1;
}

.trat-detail-text strong {
    font-weight: 700;
    color: var(--rec-text-soft);
}

/* Footer del card */
.trat-card__footer {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--rec-border);
}

.trat-card__id {
    font-size: 0.8rem;
    color: var(--rec-text-soft);
    font-weight: 600;
}

.trat-card__id span {
    color: var(--rec-text);
    font-weight: 700;
}

/* Badges */
.trat-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.375rem 0.75rem;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border: 2px solid transparent;
}

.trat-badge--formula {
    background: var(--rec-bg-soft);
    color: var(--rec-text-soft);
    border-color: var(--rec-border);
}

.trat-badge--activo {
    background: #eaf8ec;
    color: #1f7a2e;
    border-color: var(--rec-success);
}

.trat-badge--finalizado {
    background: var(--rec-bg-soft);
    color: var(--rec-text-soft);
    border-color: var(--rec-border);
}

/* Estado vacío */
.trat-empty {
    grid-column: 1 / -1;
    text-align: center;
    padding: 4rem 2rem;
    background: var(--rec-bg-soft);
    border: 2px dashed var(--rec-border);
    border-radius: 16px;
}

.trat-empty__icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    opacity: 0.5;
}

.trat-empty__text {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--rec-text);
    margin: 0 0 0.5rem 0;
}

.trat-empty__subtext {
    font-size: 0.95rem;
    color: var(--rec-text-soft);
    margin: 0;
}

/* Responsive adicional */
@media (max-width: 480px) {
    .trat-card__info-grid {
        grid-template-columns: 1fr;
    }

    .trat-card__dates {
        flex-direction: column;
        text-align: center;
    }

    .trat-date-arrow {
        transform: rotate(90deg);
    }

    .trat-card__header {
        flex-direction: column;
        align-items: stretch;
    }
}

/* Animaciones */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.trat-card {
    animation: fadeIn 0.3s ease-out;
}

/* Mejoras de accesibilidad */
.trat-form input:focus,
.trat-form select:focus,
.trat-form textarea:focus,
.trat-checkbox:focus-within {
    outline: 2px solid var(--color_primario);
    outline-offset: 2px;
}

button:focus-visible {
    outline: 2px solid var(--color_primario);
    outline-offset: 2px;
}

/* Modo oscuro - Tratamientos */
body.dark-theme .trat-section,
body.dark-theme .trat-card {
    background: #2c2c2c;
    border-color: #444;
}

body.dark-theme .trat-card::before {
    background: var(--color-secundary-button);
}

body.dark-theme .trat-card--activo::before {
    background: var(--rec-success);
}

body.dark-theme .trat-form input,
body.dark-theme .trat-form select,
body.dark-theme .trat-form textarea,
body.dark-theme .trat-info-item,
body.dark-theme .trat-detail-row {
    background: #333;
    border-color: #555;
    color: var(--color_blanco);
}

body.dark-theme .trat-checkbox {
    background: #333;
    border-color: #555;
}

body.dark-theme .trat-card__dates {
    background: rgba(0, 179, 189, 0.2);
    border-color: var(--color_primario);
}

body.dark-theme .trat-empty {
    background: #333;
    border-color: #555;
}

body.dark-theme .trat-badge--activo {
    background: rgba(42, 157, 143, 0.3);
    color: #7ae7c7;
}

body.dark-theme .trat-badge--finalizado {
    background: #3a3a3a;
    color: #9ca3af;
}

/* Modo impresión */
@media print {
    .trat-form,
    .trat-btn-primary,
    .trat-btn-secondary {
        display: none;
    }

    .trat-card {
        break-inside: avoid;
        box-shadow: none;
        border: 1px solid #000;
    }

    .trat-cards-container {
        grid-template-columns: 1fr;
    }
}
/* ===== HISTORIAL PACIENTE – estilos que casan con tu HTML ===== */

/* Contenedor general */
#main_panelUser .hist-wrap{display:grid;gap:1rem;padding:1rem;}
#main_panelUser .hist-header{ background:var(--color_fondo); color:#fff; border-radius:10px; padding:16px; display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
#main_panelUser .hist-header .hist-title{margin:0; font-size:1.25rem;}
#main_panelUser .hist-header .hist-actions{display:flex; gap:.5rem; flex-wrap:wrap;}
#main_panelUser .hist-header .btn{background:#fff; color:var(--color_fondo); border:0;}
#main_panelUser .hist-header .btn:hover{filter:brightness(.95);}

/* Tarjeta de filtros */
#main_panelUser .hist-filtros.card{ background:#fff; border-radius:12px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.05); }
#main_panelUser .hist-form{display:grid; gap:.75rem;}
#main_panelUser .hist-grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.75rem;}
#main_panelUser .hist-adv-toggle{display:flex; justify-content:flex-end;}
#main_panelUser .hist-avanzados{margin-top:.5rem;}
#main_panelUser .hist-filtros label{display:block; font-weight:600; color:var(--color_texto);}
#main_panelUser .hist-filtros input,
#main_panelUser .hist-filtros select{ width:100%; padding:.55rem .7rem; border:1px solid #d9d9d9; border-radius:8px; background:#fff; }
#main_panelUser .hist-actions{display:flex; gap:.5rem; align-items:center;}
#main_panelUser .btn_primario{background:var(--color-primary-button); color:#fff; border:0;}
#main_panelUser .btn_linea{background:#fff; border:1px solid #d3d7dc; color:var(--color_texto);}

/* Timeline */
#main_panelUser .hist-timeline.card{ background:#fff; border-radius:12px; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,.05); }

/* Lista y tarjetas (coinciden con tu HTML) */
#main_panelUser .hist-lista{display:grid; gap:.75rem; list-style:none; padding:0; margin:0;}
#main_panelUser .hist-item{ display:grid; grid-template-columns: 160px 120px 1fr; gap:.75rem; align-items:start; border:1px solid #e6e8ec; background:#fff; border-radius:10px; padding:12px; }
#main_panelUser .hist-fecha{font-weight:700; color:var(--color_texto);}
#main_panelUser .hist-tipo{display:flex; align-items:center; gap:.35rem;}
#main_panelUser .hist-contenido h4{margin:.15rem 0; font-size:1rem; color:var(--color_texto);}
#main_panelUser .hist-contenido p{margin:.25rem 0; color:var(--texto_secundario);}
#main_panelUser .hist-meta{margin-top:.2rem; font-size:.9rem; color:var(--texto_secundario);}
#main_panelUser .hist-item-actions{margin-top:.35rem; display:flex; gap:.35rem; align-items:center;}
#main_panelUser .hist-item-actions .link{color:var(--color_primario);}

/* Evita que <strong> salga rojo en este bloque */
#main_panelUser .hist-contenido strong{color:var(--color_texto);}

/* Chips por tipo */
#main_panelUser .chip{ display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.8rem; font-weight:700; border:1px solid transparent; line-height:1; }
#main_panelUser .chip-sintoma{background:#e8f4ff; color:#0b5ed7; border-color:#cfe6ff;}
#main_panelUser .chip-tratamiento{background:#e8fff6; color:#1d7a50; border-color:#c9f3e3;}
#main_panelUser .chip-cita{background:#fff5e6; color:#8a5a00; border-color:#ffe4bd;}

/* Mensaje vacío */
#main_panelUser .hist-timeline .text_center{opacity:.8; padding:10px;}

/* Paginación */
#main_panelUser .hist-paginacion{display:flex; justify-content:center; margin-top:.5rem;}
#main_panelUser .hist-paginacion form span{color:var(--texto_secundario);}

/* Responsive */
@media (max-width: 900px){
    #main_panelUser .hist-grid-3{grid-template-columns:1fr;}
    #main_panelUser .hist-item{grid-template-columns:1fr; gap:.5rem;}
    #main_panelUser .hist-fecha{order:1;}
    #main_panelUser .hist-tipo{order:2;}
    #main_panelUser .hist-contenido{order:3;}
}
/* ===== HISTORIAL PACIENTE – estilos que casan con tu HTML ===== */

/* Contenedor general */
#main_panelUser .hist-wrap{display:grid;gap:1rem;padding:1rem;}
#main_panelUser .hist-header{ background:var(--color_fondo); color:#fff; border-radius:10px; padding:16px; display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
#main_panelUser .hist-header .hist-title{margin:0; font-size:1.25rem;}
#main_panelUser .hist-header .hist-actions{display:flex; gap:.5rem; flex-wrap:wrap;}
#main_panelUser .hist-header .btn{background:#fff; color:var(--color_fondo); border:0;}
#main_panelUser .hist-header .btn:hover{filter:brightness(.95);}

/* Tarjeta de filtros */
#main_panelUser .hist-filtros.card{ background:#fff; border-radius:12px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.05); }
#main_panelUser .hist-form{display:grid; gap:.75rem;}
#main_panelUser .hist-grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.75rem;}
#main_panelUser .hist-adv-toggle{display:flex; justify-content:flex-end;}
#main_panelUser .hist-avanzados{margin-top:.5rem;}
#main_panelUser .hist-filtros label{display:block; font-weight:600; color:var(--color_texto);}
#main_panelUser .hist-filtros input,
#main_panelUser .hist-filtros select{ width:100%; padding:.55rem .7rem; border:1px solid #d9d9d9; border-radius:8px; background:#fff; }
#main_panelUser .hist-actions{display:flex; gap:.5rem; align-items:center;}
#main_panelUser .btn_primario{background:var(--color-primary-button); color:#fff; border:0;}
#main_panelUser .btn_linea{background:#fff; border:1px solid #d3d7dc; color:var(--color_texto);}

/* Timeline */
#main_panelUser .hist-timeline.card{ background:#fff; border-radius:12px; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,.05); }

/* Lista y tarjetas (coinciden con tu HTML) */
#main_panelUser .hist-lista{display:grid; gap:.75rem; list-style:none; padding:0; margin:0;}
#main_panelUser .hist-item{ display:grid; grid-template-columns: 160px 120px 1fr; gap:.75rem; align-items:start; border:1px solid #e6e8ec; background:#fff; border-radius:10px; padding:12px; }
#main_panelUser .hist-fecha{font-weight:700; color:var(--color_texto);}
#main_panelUser .hist-tipo{display:flex; align-items:center; gap:.35rem;}
#main_panelUser .hist-contenido h4{margin:.15rem 0; font-size:1rem; color:var(--color_texto);}
#main_panelUser .hist-contenido p{margin:.25rem 0; color:var(--texto_secundario);}
#main_panelUser .hist-meta{margin-top:.2rem; font-size:.9rem; color:var(--texto_secundario);}
#main_panelUser .hist-item-actions{margin-top:.35rem; display:flex; gap:.35rem; align-items:center;}
#main_panelUser .hist-item-actions .link{color:var(--color_primario);}

/* Evita que <strong> salga rojo en este bloque */
#main_panelUser .hist-contenido strong{color:var(--color_texto);}

/* Chips por tipo */
#main_panelUser .chip{ display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.8rem; font-weight:700; border:1px solid transparent; line-height:1; }
#main_panelUser .chip-sintoma{background:#e8f4ff; color:#0b5ed7; border-color:#cfe6ff;}
#main_panelUser .chip-tratamiento{background:#e8fff6; color:#1d7a50; border-color:#c9f3e3;}
#main_panelUser .chip-cita{background:#fff5e6; color:#8a5a00; border-color:#ffe4bd;}

/* Mensaje vacío */
#main_panelUser .hist-timeline .text_center{opacity:.8; padding:10px;}

/* Paginación */
#main_panelUser .hist-paginacion{display:flex; justify-content:center; margin-top:.5rem;}
#main_panelUser .hist-paginacion form span{color:var(--texto_secundario);}

/* Responsive */
@media (max-width: 900px){
    #main_panelUser .hist-grid-3{grid-template-columns:1fr;}
    #main_panelUser .hist-item{grid-template-columns:1fr; gap:.5rem;}
    #main_panelUser .hist-fecha{order:1;}
    #main_panelUser .hist-tipo{order:2;}
    #main_panelUser .hist-contenido{order:3;}
}

/* === FIX: Chips de estado y layout mejorado === */

/* Aumentar ancho de columna tipo para que quepan 2 chips */
#main_panelUser .hist-item {
    grid-template-columns: 140px minmax(140px, auto) 1fr;
}

/* Chips en columna cuando hay estado */
#main_panelUser .hist-tipo {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.35rem;
}

/* Chip de estado (ATENDIDA, FINALIZADO, etc.) */
#main_panelUser .chip-estado {
    background: #f3f4f6;
    color: #374151;
    font-size: 0.7rem;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-weight: 600;
    border: 1px solid #d1d5db;
}

/* Estados específicos con colores */
#main_panelUser .chip-estado[class*="ATENDIDA"],
#main_panelUser .hist-tipo .chip-estado {
    background: #d1fae5;
    color: #065f46;
    border-color: #a7f3d0;
}

/* Responsive: en móvil, chips en fila */
@media (max-width: 900px) {
    #main_panelUser .hist-tipo {
        flex-direction: row;
        flex-wrap: wrap;
    }
}
/* ===== HISTORIAL PACIENTE – estilos que casan con tu HTML ===== */

/* Contenedor general */
#main_panelUser .hist-wrap{display:grid;gap:1rem;padding:1rem;}
#main_panelUser .hist-header{ background:var(--color_fondo); color:#fff; border-radius:10px; padding:16px; display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
#main_panelUser .hist-header .hist-title{margin:0; font-size:1.25rem;}
#main_panelUser .hist-header .hist-actions{display:flex; gap:.5rem; flex-wrap:wrap;}
#main_panelUser .hist-header .btn{background:#fff; color:var(--color_fondo); border:0;}
#main_panelUser .hist-header .btn:hover{filter:brightness(.95);}

/* Tarjeta de filtros */
#main_panelUser .hist-filtros.card{ background:#fff; border-radius:12px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.05); }
#main_panelUser .hist-form{display:grid; gap:.75rem;}
#main_panelUser .hist-grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.75rem;}
#main_panelUser .hist-adv-toggle{display:flex; justify-content:flex-end;}
#main_panelUser .hist-avanzados{margin-top:.5rem;}
#main_panelUser .hist-filtros label{display:block; font-weight:600; color:var(--color_texto);}
#main_panelUser .hist-filtros input,
#main_panelUser .hist-filtros select{ width:100%; padding:.55rem .7rem; border:1px solid #d9d9d9; border-radius:8px; background:#fff; }
#main_panelUser .hist-actions{display:flex; gap:.5rem; align-items:center;}
#main_panelUser .btn_primario{background:var(--color-primary-button); color:#fff; border:0;}
#main_panelUser .btn_linea{background:#fff; border:1px solid #d3d7dc; color:var(--color_texto);}

/* Timeline */
#main_panelUser .hist-timeline.card{ background:#fff; border-radius:12px; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,.05); }

/* Lista y tarjetas (coinciden con tu HTML) */
#main_panelUser .hist-lista{display:grid; gap:.75rem; list-style:none; padding:0; margin:0;}
#main_panelUser .hist-item{ display:grid; grid-template-columns: 160px 120px 1fr; gap:.75rem; align-items:start; border:1px solid #e6e8ec; background:#fff; border-radius:10px; padding:12px; }
#main_panelUser .hist-fecha{font-weight:700; color:var(--color_texto);}
#main_panelUser .hist-tipo{display:flex; align-items:center; gap:.35rem;}
#main_panelUser .hist-contenido h4{margin:.15rem 0; font-size:1rem; color:var(--color_texto);}
#main_panelUser .hist-contenido p{margin:.25rem 0; color:var(--texto_secundario);}
#main_panelUser .hist-meta{margin-top:.2rem; font-size:.9rem; color:var(--texto_secundario);}
#main_panelUser .hist-item-actions{margin-top:.35rem; display:flex; gap:.35rem; align-items:center;}
#main_panelUser .hist-item-actions .link{color:var(--color_primario);}

/* Evita que <strong> salga rojo en este bloque */
#main_panelUser .hist-contenido strong{color:var(--color_texto);}

/* Chips por tipo */
#main_panelUser .chip{ display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.8rem; font-weight:700; border:1px solid transparent; line-height:1; }
#main_panelUser .chip-sintoma{background:#e8f4ff; color:#0b5ed7; border-color:#cfe6ff;}
#main_panelUser .chip-tratamiento{background:#e8fff6; color:#1d7a50; border-color:#c9f3e3;}
#main_panelUser .chip-cita{background:#fff5e6; color:#8a5a00; border-color:#ffe4bd;}

/* Mensaje vacío */
#main_panelUser .hist-timeline .text_center{opacity:.8; padding:10px;}

/* Paginación */
#main_panelUser .hist-paginacion{display:flex; justify-content:center; margin-top:.5rem;}
#main_panelUser .hist-paginacion form span{color:var(--texto_secundario);}

/* Responsive */
@media (max-width: 900px){
    #main_panelUser .hist-grid-3{grid-template-columns:1fr;}
    #main_panelUser .hist-item{grid-template-columns:1fr; gap:.5rem;}
    #main_panelUser .hist-fecha{order:1;}
    #main_panelUser .hist-tipo{order:2;}
    #main_panelUser .hist-contenido{order:3;}
}


/* ===== MEDICO — INICIO CITAS ===== */
/* Estilos específicos para la agenda */
.agenda-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem 1.5rem;
}

.agenda-header {
    display: flex;
    background: linear-gradient(135deg, var(--color_fondo) 0%, var(--color_secundario) 100%);
    color: white;
    padding: 2rem;
    border-radius: 16px;
    margin-bottom: 2rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    justify-content: center;
    align-items: center;
    gap: 20px;
    flex-direction: row;
}

.agenda-header h2 {
    margin: 0;
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
}

/* Filtros modernos */
.filtro-citas {
    background: white;
    padding: 1.25rem;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    margin-bottom: 1.5rem;
}

.filtro-citas form {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.filtro-citas label {
    font-weight: 600;
    color: var(--color_texto);
    font-size: 0.95rem;
}

.filtro-citas select {
    padding: 0.6rem 1rem;
    border: 1px solid #d9e1ea;
    border-radius: 8px;
    background: #f7f9fb;
    color: var(--color_texto);
    font-size: 0.9rem;
    min-width: 180px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.filtro-citas select:focus {
    outline: none;
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0,141,149,0.1);
}

.filtro-citas button {
    padding: 0.6rem 1.5rem;
    background: var(--color_primario);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 12px rgba(0,141,149,0.2);
}

.filtro-citas button:hover {
    background: var(--color_secundario);
    transform: translateY(-1px);
    box-shadow: 0 6px 16px rgba(0,141,149,0.3);
}

/* Calendario mejorado */
.calendar-wrapper {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
}

#calendar {
    color: var(--color_secundario);
}

/* Personalización FullCalendar */
.fc {
    font-family: inherit;
}
.fc .fc-toolbar {
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: linear-gradient(135deg, #f7f9fb 0%, #ffffff 100%);
    border-radius: 10px;
    gap: 1rem;
}
.fc .fc-toolbar-chunk {
    display: flex;
    gap: 0.75rem;
    align-items: center;
}
.fc .fc-toolbar-title {
    font-size: 1.4rem !important;
    font-weight: 700;
    color: var(--color_primario);
    padding: 0 0.5rem;
}
.fc .fc-button {
    background: var(--color_primario) !important;
    border: none !important;
    padding: 0.6rem 1.2rem !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
    text-transform: capitalize !important;
    box-shadow: 0 2px 8px rgba(0,141,149,0.2) !important;
    transition: all 0.2s ease !important;
    margin: 0 !important;
    min-width: 80px;
}
.fc .fc-button-group {
    display: flex;
    gap: 0.5rem;
}
.fc .fc-button-group .fc-button {
    border-radius: 8px !important;
}
.fc .fc-button:hover {
    background: var(--color_secundario) !important;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0,141,149,0.3) !important;
}
.fc .fc-button:active,
.fc .fc-button:focus {
    box-shadow: 0 2px 6px rgba(0,141,149,0.3) !important;
}
.fc .fc-button-active {
    background: var(--color_secundario) !important;
    box-shadow: 0 4px 14px rgba(0,99,128,0.4) !important;
}
/* Botones de navegación (prev, next, today) */
.fc .fc-prev-button,
.fc .fc-next-button {
    min-width: 45px !important;
    padding: 0.6rem 0.8rem !important;
}
.fc .fc-today-button {
    min-width: 90px !important;
}
.fc-theme-standard td,
.fc-theme-standard th {
    border-color: #e6ebf1 !important;
}
.fc-theme-standard .fc-scrollgrid {
    border-color: #e6ebf1 !important;
    border-radius: 8px;
    overflow: hidden;
}
.fc .fc-col-header-cell {
    background: linear-gradient(180deg, #f7f9fb 0%, #ffffff 100%);
    font-weight: 600;
    color: var(--color_texto);
    padding: 0.75rem 0;
}
.fc .fc-daygrid-day-number,
.fc .fc-timegrid-slot-label {
    color: var(--color_texto);
    font-weight: 500;
}
.fc .fc-day-today {
    background: rgb(8, 170, 182);
}
.fc-event {
    border-radius: 6px;
    padding: 4px 8px;
    font-weight: 500;
    border: none;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: transform 0.1s ease, box-shadow 0.1s ease;
}
.fc-event:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

/* Modales mejorados */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    animation: fadeIn 0.3s ease;
}
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
.modal-content {
    background: white;
    margin: 5% auto;
    padding: 2rem;
    border-radius: 16px;
    max-width: 500px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.2);
    animation: slideDown 0.3s ease;
}
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.modal-content h3 {
    margin: 0 0 1.5rem 0;
    color: var(--color_primario);
    font-size: 1.5rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}
.modal-content p {
    margin: 0.75rem 0;
    color: var(--color_texto);
    font-size: 0.95rem;
}
.modal-content strong {
    color: var(--color_primario);
    font-weight: 600;
}
.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.2s ease;
    line-height: 1;
    margin-top: -10px;
}
.close:hover,
.close:focus {
    color: #000;
}

/* Botones de estado */
.botones-estado {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 1.5rem;
}
.botones-estado button {
    padding: 0.75rem 1.25rem;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}
.botones-estado button[data-estado="CONFIRMADA"] {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(16,185,129,0.3);
}
.botones-estado button[data-estado="CANCELADA"] {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(239,68,68,0.3);
}
.botones-estado button[data-estado="ATENDIDA"],
#btnAtender {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(59,130,246,0.3);
}
#btnEditar {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(245,158,11,0.3);
}
#btnEliminar,
#btnConfirmarEliminar {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(239,68,68,0.3);
}
.botones-estado button:hover,
#btnEditar:hover,
#btnAtender:hover,
#btnEliminar:hover,
#btnConfirmarEliminar:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.25);
}
.btn-secundario {
    background: #e5e7eb !important;
    color: #374151 !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
}
.btn-secundario:hover {
    background: #d1d5db !important;
}

/* Formulario de edición */
#formEditarCita {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}
#formEditarCita label {
    font-weight: 600;
    color: var(--color_texto);
    font-size: 0.9rem;
}
#formEditarCita input,
#formEditarCita textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #d9e1ea;
    border-radius: 8px;
    font-size: 0.9rem;
    margin-top: 0.25rem;
    transition: all 0.2s ease;
}
#formEditarCita input:focus,
#formEditarCita textarea:focus {
    outline: none;
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0,141,149,0.1);
}
#formEditarCita textarea {
    min-height: 100px;
    resize: vertical;
    font-family: inherit;
}
#formEditarCita button[type="submit"] {
    margin-top: 0.5rem;
    padding: 0.75rem;
    background: var(--color_primario);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}
#formEditarCita button[type="submit"]:hover {
    background: var(--color_secundario);
    transform: translateY(-1px);
}
.fc-icon-chevron-right span:hover{
    color: var(--color_blanco);
}

/* Responsive */
@media (max-width: 768px) {
    .agenda-container {
        padding: 1rem;
    }
    .agenda-header {
        padding: 1.5rem;
    }
    .filtro-citas form {
        flex-direction: column;
        align-items: stretch;
    }
    .filtro-citas select,
    .filtro-citas button {
        width: 100%;
    }
    .modal-content {
        margin: 10% 1rem;
        padding: 1.5rem;
    }
    .botones-estado {
        gap: 0.5rem;
    }
    .fc .fc-toolbar {
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
    }
    .fc .fc-toolbar-chunk {
        width: 100%;
        justify-content: center;
    }
    .fc .fc-button-group {
        flex-wrap: wrap;
        justify-content: center;
    }
    .fc .fc-toolbar-title {
        font-size: 1.2rem !important;
        text-align: center;
    }
    .fc .fc-button {
        min-width: 70px;
        font-size: 0.9rem !important;
    }
}

/* Modo oscuro */
body.dark-theme .agenda-header,
body.dark-theme .filtro-citas,
body.dark-theme .calendar-wrapper,
body.dark-theme .modal-content {
    background: #2c2c2c;
    color: var(--color_blanco);
}
body.dark-theme .filtro-citas select {
    background: #333;
    color: #fff;
    border-color: #555;
}
body.dark-theme .fc .fc-toolbar {
    background: linear-gradient(135deg, #1f1f1f 0%, #2c2c2c 100%);
}
body.dark-theme .fc .fc-col-header-cell {
    background: linear-gradient(180deg, #333 0%, #2c2c2c 100%);
    color: #e5e7eb;
}
body.dark-theme .fc .fc-day-today {
    background: rgba(0,141,149,0.2) !important;
}
body.dark-theme .fc-theme-standard td,
body.dark-theme .fc-theme-standard th {
    border-color: #444 !important;
}
/* ===== MEDICO — FIN CITAS ===== */


/* ===================================================================
   TRATAMIENTOS MÉDICOS - CARD LAYOUT
   Diseño moderno con cards para mejor aprovechamiento del espacio
   =================================================================== */

/* Page Container */
.tratamientos-page {
    min-height: calc(100vh - var(--altura_header) - var(--altura_footer));
    background: var(--fondo-body);
    padding: 2rem clamp(1.5rem, 5vw, 3rem);
    max-width: 1600px;
    margin: 0 auto;
}

/* ===== HEADER SECTION ===== */
.tratamientos-header {
    background: linear-gradient(135deg, var(--color_fondo) 0%, var(--color_secundario) 100%);
    border-radius: 20px;
    padding: 2rem 2.5rem;
    margin-bottom: 2rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
}

.tratamientos-header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1.5rem;
}

.tratamientos-title-section {
    flex: 1;
    min-width: 280px;
}

.tratamientos-title {
    color: var(--color_blanco);
    font-size: clamp(1.75rem, 3vw, 2.25rem);
    font-weight: 700;
    margin: 0 0 0.5rem 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.tratamientos-icon {
    font-size: 2rem;
    display: inline-block;
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.tratamientos-subtitle {
    color: rgba(255, 255, 255, 0.85);
    font-size: 1rem;
    margin: 0;
    font-weight: 400;
}

/* Patient Selector */
.tratamientos-patient-selector {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    padding: 0.75rem 1.5rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.tratamientos-patient-selector label {
    color: var(--color_blanco);
    font-weight: 600;
    font-size: 0.95rem;
    white-space: nowrap;
}

.patient-select-input {
    background: rgba(255, 255, 255, 0.95);
    border: none;
    padding: 0.6rem 1.2rem;
    border-radius: 8px;
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--color_texto);
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 180px;
}

.patient-select-input:hover {
    background: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.patient-select-input:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
}

/* ===== ACTION BAR ===== */
.tratamientos-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}

.btn-action {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 12px;
    font-weight: 600;
    font-size: 0.95rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
}

.btn-action .btn-icon {
    font-size: 1.2rem;
    display: inline-block;
}

.btn-secondary {
    background: white;
    color: var(--color_texto);
    border: 2px solid #e5e7eb;
}

.btn-secondary:hover {
    background: #f9fafb;
    border-color: var(--color_secundario);
    color: var(--color_secundario);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.btn-primary {
    background: linear-gradient(135deg, var(--color_primario) 0%, var(--color_secundario) 100%);
    color: white;
    border: none;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0, 179, 189, 0.3);
}

/* Stats */
.tratamientos-stats {
    display: flex;
    gap: 2rem;
    flex: 1;
    justify-content: center;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
}

.stat-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color_secundario);
    line-height: 1;
}

.stat-label {
    font-size: 0.85rem;
    color: var(--texto_secundario);
    font-weight: 500;
}

/* ===== ALERT ===== */
.alert {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.5rem;
    border-radius: 12px;
    margin-bottom: 1.5rem;
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.alert-success {
    background: #d1fae5;
    border: 1px solid #6ee7b7;
    color: #065f46;
}

.alert-icon {
    font-size: 1.2rem;
    font-weight: 700;
}

/* ===== FILTERS ===== */
.tratamientos-filters {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}

.filter-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.7rem 1.5rem;
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--texto_secundario);
    cursor: pointer;
    transition: all 0.3s ease;
}

.filter-btn:hover {
    border-color: var(--color_primario);
    color: var(--color_primario);
    transform: translateY(-2px);
}

.filter-btn.active {
    background: linear-gradient(135deg, var(--color_primario) 0%, var(--color_secundario) 100%);
    color: white;
    border-color: transparent;
}

.filter-count {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    padding: 0 6px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 700;
}

.filter-btn.active .filter-count {
    background: rgba(255, 255, 255, 0.25);
}

/* ===== CARDS GRID ===== */
.tratamientos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

/* Individual Card */
.tratamiento-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    transition: all 0.3s ease;
    border: 1px solid #f3f4f6;
    display: flex;
    flex-direction: column;
}

.tratamiento-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.15);
    border-color: var(--color_primario);
}

/* Card Header */
.card-header {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    padding: 1.25rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #e5e7eb;
}

.card-title-section {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex: 1;
}

.card-medicamento {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--color_texto);
    margin: 0;
}

.card-id {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--texto_secundario);
    background: white;
    padding: 0.4rem 0.8rem;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
}

/* Badges */
.badge {
    display: inline-flex;
    align-items: center;
    padding: 0.4rem 0.9rem;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.badge-activo {
    background: #d1fae5;
    color: #065f46;
    border: 1px solid #6ee7b7;
}

.badge-finalizado {
    background: #dbeafe;
    color: #1e40af;
    border: 1px solid #93c5fd;
}

.badge-mini {
    display: inline-flex;
    padding: 0.25rem 0.6rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
}

.badge-yes {
    background: #d1fae5;
    color: #065f46;
}

.badge-no {
    background: #fee2e2;
    color: #991b1b;
}

/* Card Body */
.card-body {
    padding: 1.5rem;
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

/* Info Grid */
.card-info-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.info-label {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--texto_secundario);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.info-value {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--color_texto);
}

.info-highlight {
    color: var(--color_secundario);
    font-size: 1.1rem;
}

/* Dates Section */
.card-dates {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: #f8fafc;
    border-radius: 10px;
    border: 1px solid #e5e7eb;
}

.date-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    flex: 1;
}

.date-label {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--texto_secundario);
    text-transform: uppercase;
}

.date-value {
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--color_texto);
}

.date-separator {
    font-size: 1.5rem;
    color: var(--color_primario);
    font-weight: 300;
}

/* Card Sections */
.card-section {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.section-label {
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--texto_secundario);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.section-value {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color_texto);
}

.section-highlight {
    color: var(--color_secundario);
    background: #ecfeff;
    padding: 0.35rem 0.7rem;
    border-radius: 6px;
    border: 1px solid #67e8f9;
    display: inline-block;
    width: fit-content;
}

.section-text {
    font-size: 0.9rem;
    color: var(--texto_secundario);
    margin: 0;
    line-height: 1.5;
}

/* Card Actions */
.card-actions {
    display: flex;
    gap: 0.75rem;
    padding: 1rem 1.5rem;
    background: #f8fafc;
    border-top: 1px solid #e5e7eb;
}

.card-btn {
    flex: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.7rem 1rem;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
}

.card-btn span {
    font-size: 1rem;
}

.btn-edit {
    background: white;
    color: var(--color_secundario);
    border: 2px solid var(--color_secundario);
}

.btn-edit:hover {
    background: var(--color_secundario);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 99, 128, 0.2);
}

.btn-complete {
    background: white;
    color: #059669;
    border: 2px solid #059669;
}

.btn-complete:hover {
    background: #059669;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(5, 150, 105, 0.2);
}

.btn-delete {
    background: white;
    color: #dc2626;
    border: 2px solid #dc2626;
}

.btn-delete:hover {
    background: #dc2626;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.2);
}

/* ===== DARK MODE ===== */
body.dark-theme .tratamientos-page {
    background: var(--fondo-body);
}

body.dark-theme .tratamiento-card {
    background: #2c2c2c;
    border-color: #444;
}

body.dark-theme .card-header {
    background: linear-gradient(135deg, #1e1e1e 0%, #2a2a2a 100%);
    border-bottom-color: #444;
}

body.dark-theme .card-medicamento,
body.dark-theme .info-value,
body.dark-theme .date-value {
    color: var(--color_blanco);
}

body.dark-theme .card-id {
    background: #1e1e1e;
    color: var(--color_blanco);
    border-color: #444;
}

body.dark-theme .card-dates {
    background: #1e1e1e;
    border-color: #444;
}

body.dark-theme .card-actions {
    background: #1e1e1e;
    border-top-color: #444;
}

body.dark-theme .btn-secondary {
    background: #2c2c2c;
    color: var(--color_blanco);
    border-color: #444;
}

body.dark-theme .filter-btn {
    background: #2c2c2c;
    color: var(--color_blanco);
    border-color: #444;
}

body.dark-theme .patient-select-input {
    background: #2c2c2c;
    color: var(--color_blanco);
}

/* ===== RESPONSIVE ===== */
@media screen and (max-width: 1400px) {
    .tratamientos-grid {
        grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    }
}

@media screen and (max-width: 1024px) {
    .tratamientos-grid {
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    }

    .tratamientos-header {
        padding: 1.5rem 2rem;
    }
}

@media screen and (max-width: 768px) {
    .tratamientos-page {
        padding: 1.5rem 1rem;
    }

    .tratamientos-grid {
        grid-template-columns: 1fr;
    }

    .tratamientos-header-content {
        flex-direction: column;
        align-items: stretch;
    }

    .tratamientos-actions {
        flex-direction: column;
        align-items: stretch;
    }

    .tratamientos-stats {
        order: -1;
    }

    .card-info-grid {
        grid-template-columns: 1fr;
    }

    .card-actions {
        flex-wrap: wrap;
    }

    .card-btn {
        flex: 1 1 calc(50% - 0.375rem);
        min-width: 120px;
    }
}

@media screen and (max-width: 480px) {
    .tratamientos-header {
        padding: 1.25rem 1.5rem;
    }

    .tratamientos-title {
        font-size: 1.5rem;
    }

    .tratamientos-filters {
        gap: 0.5rem;
    }

    .filter-btn {
        flex: 1 1 auto;
        padding: 0.6rem 1rem;
        font-size: 0.85rem;
    }
}
/* ===== MEDICO — Fin Tratamientos ===== */


/* ===== MEDICO — Inicio Nuevo Tratamiento ===== */
/* Header Section */
.header-section {
    background: linear-gradient(135deg, var(--color_fondo) 0%, var(--color_secundario) 100%);
    color: white;
    padding: 2rem;
    border-radius: 16px;
    margin-bottom: 2rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}
.header-section h1 {
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}
.header-section .subtitle {
    margin-top: 0.5rem;
    opacity: 0.9;
    font-size: 0.95rem;
}

/* Form Container */
.form-container {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    padding: 2rem;
}
.form-section-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color_primario);
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--borde-suave);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* Form Grid */
.form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}
.form-field {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}
.form-field.full-width {
    grid-column: 1 / -1;
}
.form-field label {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--color_texto);
    display: flex;
    align-items: center;
    gap: 0.35rem;
}
.form-field label .required {
    color: #e53935;
    font-size: 1.1rem;
}
.form-field input,
.form-field select,
.form-field textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 2px solid var(--borde-suave);
    border-radius: 10px;
    font-size: 0.95rem;
    font-family: inherit;
    transition: all 0.3s ease;
    background: #fafbfc;
}
.form-field input:focus,
.form-field select:focus,
.form-field textarea:focus {
    outline: none;
    border-color: var(--color_primario);
    background: white;
    box-shadow: 0 0 0 3px rgba(0, 141, 149, 0.1);
}
.form-field textarea {
    resize: vertical;
    min-height: 100px;
    line-height: 1.5;
}
.form-field input::placeholder,
.form-field textarea::placeholder {
    color: #9ca3af;
}

/* Info Boxes */
.info-box {
    background: #e8f4ff;
    border-left: 4px solid #2196f3;
    padding: 1rem 1.25rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: start;
    gap: 0.75rem;
}
.info-box .icon {
    font-size: 1.25rem;
    flex-shrink: 0;
}
.info-box p {
    margin: 0;
    font-size: 0.9rem;
    color: #1565c0;
}

/* Action Buttons */
.form-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    padding-top: 1.5rem;
    border-top: 2px solid var(--borde-suave);
}
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.85rem 2rem;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.95rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    font-family: inherit;
}
.btn-primary {
    background: linear-gradient(135deg, var(--color_primario) 0%, var(--color_secundario) 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(0, 141, 149, 0.3);
}
.btn-primary:hover {
    transform: translateY(-2px);
    background: linear-gradient(135deg, var(--color_secundario) 0%, var(--color_primario) 100%);
    box-shadow: 0 6px 20px rgba(0, 141, 149, 0.4);
}
.btn-primary:active {
    transform: translateY(0);
}
.btn-secondary {
    background: white;
    color: var(--color_texto);
    border: 2px solid var(--borde-suave);
}
.btn-secondary:hover {
    background: #f7fafc;
    border-color: var(--color_primario);
    color: var(--color_primario);
}
/* Field Groups */
.field-group {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid var(--borde-suave);
}
.field-group-title {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--color_primario);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* Help Text */
.help-text {
    font-size: 0.85rem;
    color: var(--texto_secundario);
    margin-top: 0.25rem;
}
/* Validation Messages */
.error-message {
    color: #e53935;
    font-size: 0.85rem;
    margin-top: 0.25rem;
    display: none;
}
.form-field.error input,
.form-field.error select,
.form-field.error textarea {
    border-color: #e53935;
}
.form-field.error .error-message {
    display: block;
}

/* Success Message */
.success-message {
    background: #e8f8ef;
    border-left: 4px solid #1b7a49;
    padding: 1rem 1.25rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: #1b7a49;
}

/* Responsive */
@media (max-width: 768px) {
    .page-container {
        padding: 1rem;
    }
    .header-section {
        padding: 1.5rem;
    }
    .form-container {
        padding: 1.5rem;
    }
    .form-grid {
        grid-template-columns: 1fr;
        gap: 1.25rem;
    }
    .form-actions {
        flex-direction: column;
    }
    .btn {
        width: 100%;
    }
    .field-group {
        padding: 1rem;
    }
}

/* Loading State */
.btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}
.btn-primary.loading::after {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid white;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 0.6s linear infinite;
    margin-left: 0.5rem;
}
@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Select Styling */
select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%23374151' d='M8 11L3 6h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    padding-right: 2.5rem;
}

/* Date Input Styling */
input[type="date"] {
    position: relative;
}
input[type="date"]::-webkit-calendar-picker-indicator {
    cursor: pointer;
    opacity: 0.6;
}
input[type="date"]:hover::-webkit-calendar-picker-indicator {
    opacity: 1;
}
/* ===== MEDICO — Fin Nuevo Tratamiento ===== */


/* ===== MEDICO — Inicio Configuracion ===== */
/* Layout general */
.section_config { width: min(100%, 1100px); height: max-content; margin: 0 auto; background: var(--color_blanco, #fff); border-radius: 12px; box-shadow: 0 4px 14px rgba(0, 0, 0, 0.08); border: 1px solid #e6ebf1; padding: 20px 24px; }
.config-header { display: flex; justify-content: space-between; align-items: center; background: var(--color_primario, #003366); color: #fff; padding: 16px 20px; border-radius: 10px 10px 0 0; }
.config-header h2 { margin: 0; font-size: 1.3rem; color: var(--color_blanco); }

/* Botón guardar */
#btnVolver { background: var(--color_primario); color: #fff; border: none; padding: 8px 14px; border-radius: 8px; cursor: pointer; transition: all 0.25s ease; font-size: 13px; }
#btnVolver:hover { background: var(--color_secundario); }
#btnGuardar { background: var(--color_secundario, #008c8c); color: #fff; border: none; padding: 8px 14px; border-radius: 8px; cursor: pointer; transition: all 0.25s ease; }
#btnGuardar:hover:not(:disabled) { background: var(--color_secundario, #00a2a2); transform: translateY(-1px); }
#btnGuardar:disabled { opacity: 0.6; cursor: not-allowed; }

/* Tabs */
.tabs { display: flex; flex-wrap: wrap; gap: 0.4rem; margin-top: 16px; }
.tabs [role="tab"] { border: 1px solid #d7dde3; background: #fff; border-radius: 8px; padding: 6px 12px; font-size: 0.9rem; cursor: pointer; transition: all 0.2s ease; }
.tabs [role="tab"][aria-selected="true"] { background: var(--color_secundario, #00a2a2); color: #fff; border-color: var(--color_secundario); font-weight: 600; }

/* Contenedor principal */
.tab-panels { margin-top: 18px; padding: 12px; }

/* Grillas */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 14px 20px; }
.col-span-2 { grid-column: 1 / span 2; }

/* Campos y formularios */
.form-group { display: flex; flex-direction: column; gap: 6px; }
.form-group label { font-weight: 600; font-size: 0.9rem; color: var(--color_texto, #1a2b3c); }
.form-group input,
.form-group select,
.form-group textarea {
    font-size: 0.9rem;
    border: 1px solid #d5dce0;
    border-radius: 6px;
    padding: 7px 9px;
    background: #fafafa;
    transition: border-color 0.2s ease;
}
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color_secundario, #00b5ad);
    background: #fff;
}
.form-group textarea { font-family: monospace; resize: vertical; }
.form-group small.help { color: #708090; font-size: 0.8rem; }

/* Fieldset */
fieldset.form-group { border: 1px solid #d5dce0; border-radius: 8px; padding: 10px 12px; background: #fafafa; }
fieldset legend { font-weight: 600; color: var(--color_primario, #003366); margin-bottom: 4px; font-size: 0.9rem; }

/* Placeholder para secciones vacías */
.empty { text-align: center; padding: 40px 0; color: #62727a; }
.empty h3 { color: var(--color_primario, #003366); margin-bottom: 8px; font-size: 1.1rem; }
.empty p.muted { color: #808b98; font-size: 0.9rem; }

/* Estado guardado */
.config-footer { margin-top: 12px; background: var(--color_primario, #003366); border-radius: 0 0 10px 10px; padding: 8px 12px; color: #fff; font-size: 0.85rem; text-align: right; }

/* Responsivo */
@media (max-width: 768px) {
    .grid-2 { grid-template-columns: 1fr;
    }
    .config-header { flex-direction: column; align-items: flex-start; gap: 10px;
    }
    #btnGuardar { align-self: flex-end;
    }
    .tabs { justify-content: flex-start;
    }
}
/* ===== MEDICO — Fin Configuracion ===== */

/* ====== CHAT MÉDICO / ADMIN — VitaLink ====== */
body.body-msg { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; background: #f5f7fa; overflow: hidden; }

/* ===== CONTENEDOR PRINCIPAL (funciona para ambos) ===== */
#chat-wrap,
#admin-mensajeria { display: flex; height: calc(100vh - 80px); width: 100vw; max-width: 100%; margin: 0; background: white; position: relative; }
#chat-list { width: 360px; background: #fff; border-right: 1px solid #e5e7eb; display: flex; flex-direction: column; flex-shrink: 0; overflow: hidden; }
.chatv2__sidehead {
    padding: 20px;
    background: linear-gradient(135deg, var(--color_primario) 10%, var(--color_secundario) 90%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.chatv2__sidehead h3 {
    font-size: 20px;
    font-weight: 600;
    margin: 0;
}
.pill--danger {
    background: #ef4444;
    color: white;
    font-weight: 700;
    min-width: 24px;
    height: 24px;
    padding: 0 8px;
    border-radius: 12px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    animation: pulse 2s ease-in-out infinite;
}
@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
}
.crear-conv {
    padding: 16px;
    background: #f9fafb;
    border-bottom: 1px solid #e5e7eb;
    flex-shrink: 0;
}
.crear-conv__form {
    display: flex;
    gap: 8px;
}
.crear-conv__form input {
    flex: 1;
    padding: 10px 14px;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    font-size: 14px;
    transition: border-color 0.2s;
}
.crear-conv__form input:focus {
    outline: none;
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0, 179, 189, 0.1);
}
.crear-conv__form button {
    padding: 10px 20px;
    background: var(--color_primario);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
}
.crear-conv__form button:hover {
    background: var(--color_secundario);
}
.crear-conv__help {
    display: block;
    margin-top: 8px;
    font-size: 12px;
    color: #6b7280;
}

/* ===== PAGINADOR (solo para admin) ===== */
.pager {
    padding: 12px 16px;
    background: #f9fafb;
    border-top: 1px solid #e5e7eb;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    flex-shrink: 0;
}
.pager button {
    padding: 6px 12px;
    background: white;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
}
.pager button:hover:not(:disabled) {
    background: #f3f4f6;
    border-color: var(--color_primario);
}
.pager button:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}
#pageInfo {
    font-size: 13px;
    color: #6b7280;
}
.pager select {
    padding: 6px 10px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
}

/* ===== LISTA DE CONVERSACIONES ===== */
.chat-list {
    flex: 1;
    overflow-y: auto;
    list-style: none;
    padding: 0;
    margin: 0;
}
.chat-list li {
    border-bottom: 1px solid #f3f4f6;
    cursor: pointer;
    transition: background 0.2s;
}
.chat-list li:hover {
    background: #f9fafb;
}
.chat-list li.is-active {
    background: #ede9fe;
    border-left: 4px solid var(--color_secundario);
}
.conv-item {
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.conv-item.has-unread .conv-title {
    font-weight: 700;
    color: var(--color_secundario);
}
.conv-item .info {
    flex: 1;
    min-width: 0;
}
.conv-item .name {
    font-size: 15px;
    font-weight: 500;
    margin-bottom: 4px;
    color: #111827;
    display: block;
}
.conv-title {
    font-size: 15px;
    font-weight: 500;
    margin-bottom: 4px;
    color: #111827;
}
.last-msg {
    font-size: 13px;
    color: #9ca3af;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 200px;
    display: block;
}
.meta {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 6px;
}
.time {
    font-size: 12px;
    color: #9ca3af;
}
.badge {
    background: #e5e7eb;
    color: #6b7280;
    font-size: 11px;
    font-weight: 600;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.unread-badge {
    background: #ef4444;
    color: white;
    font-size: 11px;
    font-weight: 700;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.delete-btn {
    opacity: 0;
    background: none;
    border: none;
    font-size: 18px;
    cursor: pointer;
    padding: 4px;
    transition: opacity 0.2s;
}
.conv-item:hover .delete-btn {
    opacity: 0.5;
}
.delete-btn:hover {
    opacity: 1 !important;
}
.empty-state {
    padding: 40px 20px;
    text-align: center;
    color: #9ca3af;
    font-size: 14px;
}

/* ===== PANEL DE CHAT ===== */
#chat-panel { flex: 1; display: flex; flex-direction: column; background: #f9fafb; overflow: hidden; }
.chatv2__head { padding: 16px 24px; background: white; border-bottom: 1px solid #e5e7eb; display: flex; align-items: center; gap: 16px; position: sticky; top: 0; z-index: 10; flex-shrink: 0; }
.back-btn { display: none; background: none; border: none; font-size: 24px; cursor: pointer; color: #667eea; padding: 8px; }
.title { flex: 1; }
#convTitle { font-size: 18px; font-weight: 600; color: #111827; display: block; margin-bottom: 2px; }
.status { display: flex; align-items: center; gap: 6px; font-size: 13px; color: #10b981; }
.dot { width: 8px; height: 8px; background: #10b981; border-radius: 50%; animation: blink 2s ease-in-out infinite; }
@keyframes blink {  0%, 100% { opacity: 1; }  50% { opacity: 0.3; }  }
.actions { display: flex; gap: 8px; position: relative; }
.ghost { background: none; border: none; font-size: 20px; cursor: pointer; padding: 8px; color: #6b7280; border-radius: 6px; transition: background 0.2s; position: relative; }
.ghost:hover { background: #f3f4f6; }

/* ===== BARRA DE BÚSQUEDA ===== */
#search-bar { padding: 12px 24px; background: white; border-bottom: 1px solid #e5e7eb; display: none; align-items: center; gap: 12px; animation: slideDown 0.3s ease-out; }
#search-bar.active { display: flex; }
@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}
#search-input { flex: 1; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; }
#search-input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
#search-results { font-size: 13px; color: #6b7280; white-space: nowrap; }
.search-nav-btn { background: none; border: 1px solid #d1d5db; border-radius: 6px; padding: 6px 10px; cursor: pointer; color: #6b7280; transition: background 0.2s; }
.search-nav-btn:hover:not(:disabled) { background: #f3f4f6; }
.search-nav-btn:disabled { opacity: 0.3; cursor: not-allowed; }
#close-search { background: none; border: none; font-size: 20px; cursor: pointer; color: #6b7280; padding: 4px; }

/* ===== MENÚ DE OPCIONES ===== */
#options-menu { position: absolute; top: 100%; right: 0; margin-top: 8px; background: white; border: 1px solid #e5e7eb; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 200px; display: none; z-index: 1000; animation: fadeIn 0.2s ease-out; }
#options-menu.active { display: block; }
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}
.menu-item { padding: 12px 16px; cursor: pointer; transition: background 0.2s; display: flex; align-items: center; gap: 10px; font-size: 14px; color: #374151; border-bottom: 1px solid #f3f4f6; }
.menu-item:last-child { border-bottom: none; }
.menu-item:hover { background: #f9fafb; }
.menu-item.danger { color: #ef4444; }
.menu-item.danger:hover { background: #fef2f2; }
.menu-icon { font-size: 18px; }

/* ===== RESALTADO DE BÚSQUEDA ===== */
.highlight { background: #fef08a; padding: 2px 4px; border-radius: 3px; font-weight: 500; }
.highlight.active { background: #fbbf24; }

/* ===== MENSAJES ===== */
.chatv2__messages { flex: 1; overflow-y: auto; overflow-x: hidden; padding: 24px; display: flex; flex-direction: column; gap: 12px; }
.msg { max-width: 60%; padding: 12px 16px; border-radius: 16px; word-wrap: break-word; animation: fadeInUp 0.3s ease-out; position: relative; }
@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
.msg:not(.me) { background: white; color: #111827; align-self: flex-start; border-bottom-left-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
.msg.me { background: var(--fondo-body); color: #161616; align-self: flex-end; border-bottom-right-radius: 4px; }
.msg strong { display: block; font-size: 12px; margin-bottom: 4px; opacity: 0.8; }
.msg-time { display: block; font-size: 11px; margin-top: 4px; opacity: 0.6; }
.read-indicator { font-size: 10px; margin-left: 4px; opacity: 0.7; }

/* ===== COMPOSITOR DE MENSAJES ===== */
.chatv2__composer { padding: 16px 24px; background: white; border-top: 1px solid #e5e7eb; display: flex; gap: 12px; align-items: flex-end; flex-shrink: 0; }
.chatv2__composer textarea { flex: 1; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 20px; font-family: inherit; font-size: 15px; resize: none; max-height: 120px; transition: border-color 0.2s; }
.chatv2__composer textarea:focus { outline: none; border-color: var(--color_secundario); box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
.chatv2__composer .send { padding: 12px 24px; background: linear-gradient(135deg, var(--color_primario) 10%, var(--color_secundario) 90%); color: white; border: none; border-radius: 20px; font-weight: 600; cursor: pointer; transition: transform 0.2s; }
.chatv2__composer .send:hover { transform: scale(1.05); }
.chatv2__composer .send:disabled { opacity: 0.5; cursor: not-allowed; transform: scale(1); }

/* ===== SCROLLBAR ===== */
.chat-list::-webkit-scrollbar,
.chatv2__messages::-webkit-scrollbar { width: 6px; }
.chat-list::-webkit-scrollbar-track,
.chatv2__messages::-webkit-scrollbar-track { background: #f3f4f6; }
.chat-list::-webkit-scrollbar-thumb,
.chatv2__messages::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; }
.chat-list::-webkit-scrollbar-thumb:hover,
.chatv2__messages::-webkit-scrollbar-thumb:hover { background: #9ca3af; }

/* ===== RESPONSIVE ===== */
@media (max-width: 900px) {
    #chat-wrap, #admin-mensajeria { position: relative; }   #chat-list { position: absolute; left: 0; top: 0; width: 100%; height: 100%; z-index: 1; transition: transform 0.3s ease; }
    #chat-panel { position: absolute; right: 0; top: 0; width: 100%; height: 100%; z-index: 2; transform: translateX(100%); transition: transform 0.3s ease; }
    body.chat-open #chat-list { transform: translateX(-100%); }
    body.chat-open #chat-panel { transform: translateX(0); }
    .back-btn { display: flex !important; }
    .msg { max-width: 80%; }
}
/* ===== MEDICO — Fin Chat Medico/Admin ===== */


/* ===== MEDICO — Inicio Sintomas ===== */
.sintomas_medicos { padding-block: 2rem; }
.sm-wrap { max-width: 1100px; margin-inline: auto; display: grid; gap: 1.25rem; }
.sm-card { background: var(--color_blanco, #fff); border: 1px solid var(--color-primary-button, #e6ebf1); border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,.06); padding: 1rem 1.25rem; }
.sm-card__head { margin-bottom: .5rem; }
.sm-title { font-size: 1.125rem; font-weight: 700; margin: 0; }
.sm-subtitle { font-size: .9rem; opacity: .75; }
.sm-form { display: block; }
.sm-grid { display: grid; gap: .75rem; }
.sm-grid--4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
.sm-grid--3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.sm-field { display: grid; gap: .35rem; }
.sm-field--full { grid-column: 1 / -1; }
.sm-field--inline { align-items: end; }
.sm-label { font-size: .9rem; font-weight: 600; }
.sm-input, .sm-select, .sm-textarea { width: 100%; padding: .55rem .7rem; border-radius: 10px; border: 1px solid var(--color-primary-button, #d8dde6); background: var(--fondo-body, #fff); }
.sm-select--small { max-width: 110px; }
.sm-actions { display: flex; gap: .5rem; flex-wrap: wrap; margin-top: .25rem; }
.sm-actions--right { justify-content: end; align-items: end; }
.sm-actions--left { justify-content: start; align-items: center; }
.sm-msg { margin: 0 .5rem; font-size: .9rem; opacity: .8; }

/* Tabla */
.sm-table-wrap { overflow: auto; border-radius: 10px; border: 1px solid var(--color-primary-button, #e6ebf1); }
.sm-table { width: 100%; border-collapse: collapse; font-size: .95rem; }
.sm-table thead th { position: sticky; top: 0; background: var(--color_blanco, #fff); z-index: 1; }
.sm-table th, .sm-table td { padding: .65rem .75rem; border-bottom: 1px solid var(--color-primary-button, #eef1f6); text-align: left; }
.sm-table--hover tbody tr:hover { background: rgba(0,0,0,.025); }
.sm-col--date { width: 11rem; white-space: nowrap; }
.sm-col--desc { width: 45%; }
.sm-col--actions { width: 8rem; text-align: center; }
.sm-empty { text-align: center; padding: 1rem; color: #666; }

/* Paginación */
.sm-pagination { display: flex; justify-content: space-between; align-items: center; padding-top: .75rem; }
.sm-pagination__controls { display: flex; gap: .5rem; }
.sm-pagination__info { font-size: .9rem; opacity: .8; }

/* Responsive */
@media (max-width: 1024px) {
    .sm-grid--4 { grid-template-columns: repeat(2, 1fr); }
    .sm-grid--3 { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
    .sm-grid--4, .sm-grid--3 { grid-template-columns: 1fr; }
    .sm-col--actions { width: auto; }
}
/* ===== MEDICO — Fin Sintomas ===== */


/* ===================================================================
   FOOTER MINIMALISTA - Diseño compacto y moderno
   =================================================================== */
footer { background: linear-gradient(135deg, var(--color_fondo) 0%, #0d2940 100%); color: rgba(255, 255, 255, 0.9); margin-top: auto; font-size: 0.875rem; border-top: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1); padding-bottom: max(12px, env(safe-area-inset-bottom, 0px)); }
footer .section_footer { width: 100%; max-width: 1400px; margin: 0 auto; padding: 16px clamp(20px, 4vw, 40px); display: flex; justify-content: space-between; align-items: center; gap: 20px; flex-wrap: wrap; }

/* Logo Footer */
footer picture { display: flex; align-items: center; }
footer picture img { width: 40px; height: auto; opacity: 0.9; filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3)); transition: opacity 0.3s ease; }
footer picture img:hover { opacity: 1; }

/* Navegación Footer */
footer .section_nav_footer { display: flex; gap: 20px; align-items: center; flex-wrap: wrap; }
footer .section_nav_footer a { color: rgba(255, 255, 255, 0.85); text-decoration: none; font-weight: 500; transition: all 0.3s ease; position: relative; }
footer .section_nav_footer a::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 0; height: 1px; background: var(--color_primario); transition: width 0.3s ease; }
footer .section_nav_footer a:hover { color: var(--color_primario); }
footer .section_nav_footer a:hover::after { width: 100%; }

/* Copyright / Legal */
footer .footer-legal { display: flex; gap: 12px; align-items: center; font-size: 0.8rem; color: rgba(255, 255, 255, 0.7); flex-wrap: wrap; }
footer .footer-legal span { white-space: nowrap; }
footer .footer-legal a { color: rgba(255, 255, 255, 0.75); text-decoration: none; transition: color 0.3s ease; }
footer .footer-legal a:hover { color: var(--color_primario); }

/* Responsive Footer */
@media screen and (max-width: 768px) {
    footer .section_footer { flex-direction: column; text-align: center; gap: 12px; padding: 14px 20px; }
    footer .section_nav_footer { flex-direction: column; gap: 10px; }   footer .footer-legal { flex-direction: column; gap: 6px; }
}
@media screen and (max-width: 480px) {
    footer picture img { width: 32px; }
    footer .section_nav_footer a { font-size: 0.85rem; }
}

/* Modo Oscuro Footer */
body.dark-theme footer { background: linear-gradient(135deg, #0a0d12 0%, #151921 100%); border-top-color: rgba(255, 255, 255, 0.05); }
body.dark-theme footer .section_nav_footer a,
body.dark-theme footer .footer-legal,
body.dark-theme footer .footer-legal a { color: rgba(255, 255, 255, 0.8); }
body.dark-theme footer .section_nav_footer a:hover,
body.dark-theme footer .footer-legal a:hover { color: var(--color_primario); }