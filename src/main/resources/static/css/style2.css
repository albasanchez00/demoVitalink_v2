/* INICIO AJUSTES GENERALES */
*{ margin: 0; padding: 0; box-sizing: border-box; text-decoration: none; }

a{ list-style: none; color: var(--color_blanco); }
a:hover{ color: var(--fondo-body); }

.text_center,h2,h1{ text-align: center; }
strong{ color: rgb(233, 22, 22); }
.chat-box strong{ color: var(--color_primario); }

ul{ list-style: none; }
.icon{ color:var(--color-primary-button); }

:root{
    --color_fondo: #1B3A57;
    --color_primario: #00b3bd;
    --color_secundario: #006380;
    --fondo-body: #f9f9f9;
    --altura_header:10vh;
    --color_blanco: white;
    --altura_footer:10vh;
    --color-primary-button:#006380;
    --color-secundary-button:#008d95;
    --color_texto:#161616;
    --texto_secundario: #434343;
    --texto: #434343;
    --borde-suave: #00b3bd;
    --rec-bg: #fff;
    --rec-bg-soft:#f7f9fb;
    --rec-text:#253146;
    --rec-text-soft:#6b778c;
    --rec-border:#e6ebf1;
    --rec-primary:#0ea5e9;
    --rec-danger:#ef4444;
    --rec-success: #26547e;
    --rec-type-med:#3b82f6;
    --rec-type-cita:#f59e0b;
    --rec-type-trat: #163149;
    --rec-card-shadow:0 6px 18px rgba(15,23,42,.08);
    --rec-card-shadow-hover:0 10px 26px rgba(15,23,42,.14);
}


/* Asegura que `html` y `body` ocupen toda la altura */
html, body { height: 100vh; margin: 0; padding: 0; font-family: Arial, Helvetica, sans-serif; }

/* Modo oscuro web */
body.dark-theme {
    --color_fondo: #121212;
    --color_primario: #90caf9;
    --color_secundario: #42a5f5;
    --color_blanco: #e0e0e0;
    --fondo-body: #1e1e1e;
    background-color: var(--fondo-body);
    color: var(--color_blanco);
}

/* Ajusta fondo y texto en contenedores principales */
body.dark-theme #main_panelUser,
body.dark-theme #main_listaUser,
body.dark-theme #main-calendar,
body.dark-theme #main-asistente,
body.dark-theme #main-tratamientos,
body.dark-theme #main_configuracionUsuario,
body.dark-theme #main-panelEvolucion,
body.dark-theme #panel-historialMedico {
    background-color: var(--fondo-body);
    color: var(--color_blanco);
}

/* Fondos oscuros para formularios, tarjetas y paneles */
body.dark-theme .card,
body.dark-theme .card-evolucion,
body.dark-theme .config-usuario-formulario,
body.dark-theme .config-usuario-menu,
body.dark-theme .section_tabla_tratamientos,
body.dark-theme .tarjeta-cita,
body.dark-theme .tarjeta-resumen,
body.dark-theme #formulario,
body.dark-theme #formulario-tratamientos,
body.dark-theme #form-sintomas,
body.dark-theme #registros,
body.dark-theme #graficos,
body.dark-theme #filtros,
body.dark-theme .modal-contenido,
body.dark-theme .registro,
body.dark-theme .historial-container,
body.dark-theme #chat-box,
body.dark-theme #chat-box2 {
    background-color: #2c2c2c;
    color: var(--color_blanco);
}

/* Tablas, bordes y celdas */
body.dark-theme table, body.dark-theme th, body.dark-theme td, body.dark-theme .tabla-tratamientos, body.dark-theme .tabla-tratamientos th, body.dark-theme .tabla-tratamientos td { background-color: #2c2c2c; color: var(--color_blanco); border-color: #444; }

/* Hover en filas de tablas */
body.dark-theme .tabla-tratamientos tbody tr:hover { background-color: #3a3a3a; }

/* Botones secundarios */
body.dark-theme .btn-config, body.dark-theme .btn-ver-mas, body.dark-theme .btn-guardar-config, body.dark-theme .btn-cancelar,
body.dark-theme .btn-detalles { background-color: var(--color_secundario); color: var(--color_blanco); }
body.dark-theme .btn-config:hover, body.dark-theme .btn-ver-mas:hover, body.dark-theme .btn-guardar-config:hover { background-color: var(--color_primario); }

/* Colores en enlaces */
body.dark-theme a { color: var(--color_blanco); }
body.dark-theme a:hover { color: var(--color_secundario); }

/* Footer oscuro */
body.dark-theme footer { background-color: #0d0d0d; color: var(--color_blanco); }
body.dark-theme label, body.dark-theme input::placeholder{ color: var(--color_blanco); }
body.dark-theme input, body.dark-theme select, body.dark-theme textarea { background-color: #333; color: #fff; border: 1px solid #555; }

/* Oculta la barra de scroll en Chrome, Safari y Edge */
html::-webkit-scrollbar{ display: none; }

/* `main` crece para ocupar todo el espacio restante */
#main_panelUser, #main-calendar, #main-asistente, #main-tratamientos, #main_configuracionUsuario, #panel-historialMedico, #main_listaUser { flex: 1; padding: 20px; overflow: auto; /* Evita el desbordamiento */ }
#main-panelEvolucion{ flex: 1; padding: 20px; overflow: auto; /* Evita el desbordamiento */ }

/* Contenedor principal usando `flexbox` */
.contenedor { display: flex; flex-direction: column; min-height: 100vh; /* Mínimo 100% del alto de la pantalla */ }
/* FIN AJUSTES GENERALES */


/* INICIO HEADER MEJORADO */
@media screen and (min-width:1023px) {
    header{
        height: var(--altura_header);
        background: linear-gradient(135deg, var(--color_fondo) 0%, #153050 100%);
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        box-shadow: 0 2px 12px rgba(0,0,0,0.15);
        position: sticky;
        top: 0;
        z-index: 1000;
        backdrop-filter: blur(10px);

        .section_header{
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1400px;
            padding: 0 40px;
            picture{
                width: 55px;
                height: auto;
                display: flex;
                justify-content: center;
                align-items: center;
                img{
                    width: 50px;
                    height: auto;
                }
                &:hover{
                    transform: scale(1.05);
                }
            }
        }

        .section_nav{
            flex: 1;
            display: flex;
            justify-content: center;

            ul{
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-items: center;
                gap: 2rem;

                li{
                    position: relative;

                    a{
                        font-weight: 500;
                        font-size: 15px;
                        letter-spacing: 0.3px;
                        padding: 8px 16px;
                        border-radius: 8px;
                        transition: all 0.3s ease;

                        &:hover{
                            background: rgba(255,255,255,0.1);
                            color: var(--color_blanco);
                        }

                        &::after{
                            content: '';
                            position: absolute;
                            bottom: -5px;
                            left: 50%;
                            transform: translateX(-50%) scaleX(0);
                            width: 80%;
                            height: 2px;
                            background: var(--color_primario);
                            transition: transform 0.3s ease;
                        }

                        &:hover::after{
                            transform: translateX(-50%) scaleX(1);
                        }
                    }
                }
            }
        }

        .section_user{
            display: flex;
            flex-direction: row;
            justify-content: flex-end;
            align-items: center;
            gap: 1rem;

            a{
                display: flex;
                flex-direction: row;
                align-items: center;
                gap: 5px;
                justify-content: center;
                background: linear-gradient(135deg, var(--color-primary-button), var(--color-secundary-button));
                padding: 10px 24px;
                border-radius: 50px;
                font-weight: 600;
                font-size: 14px;
                box-shadow: 0 4px 12px rgba(0,163,181,0.3);
                transition: all 0.3s ease;

                &:hover{
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(0,163,181,0.4);
                    color: var(--color_blanco);
                }
            }
            .header_img{
                width: 20px;
                height: auto;
            }
        }
    }
}

/* Menu Responsive Mejorado */
.menu-toggle {
    display: none;
    flex-direction: column;
    justify-content: space-between;
    width: 30px;
    height: 25px;
    cursor: pointer;
}

.menu-toggle span {
    background: var(--color_blanco);
    height: 3px;
    width: 100%;
    border-radius: 5px;
    transition: all 0.3s ease;
}

@media screen and (max-width: 1023px) {
    .menu-toggle {
        display: flex;
    }

    header{
        height: var(--altura_header);
        background: linear-gradient(135deg, var(--color_fondo) 0%, #153050 100%);
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        width: 100%;
        max-width: 100vw;
        color: white;
        box-shadow: 0 2px 12px rgba(0,0,0,0.15);
        overflow-x: hidden;

        .section_header{
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 100%;
            padding: 0 20px;
        }

        .section_user{
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            font-size: 14px;

            a{
                padding: 8px 16px;
                font-size: 13px;
            }
            a .header_img{
                width: 50px;
                height: auto;
            }
        }
    }

    .nav-links {
        position: absolute;
        top: var(--altura_header);
        left: 0;
        width: 100%;
        height: 0;
        background: linear-gradient(180deg, var(--color_fondo) 0%, #0f2d45 100%);
        backdrop-filter: blur(10px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        transition: height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }

    .nav-links.show {
        height: 250px;
    }

    .menu-toggle.active span:nth-child(1) {
        transform: rotate(45deg) translate(8px, 8px);
    }

    .menu-toggle.active span:nth-child(2) {
        opacity: 0;
    }

    .menu-toggle.active span:nth-child(3) {
        transform: rotate(-45deg) translate(8px, -8px);
    }
}
/* Modo Oscuro */
body.dark-theme header {
    background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
}
/* FIN HEADER */

/* INICIO PAGINAS USUARIO */
/* Contenedor principal *//* ESTILO BASE (MÓVIL) */
/* ============================================================
   DISEÑO UNIFICADO DE PANELES (USER, ADMIN, MÉDICO)
   ============================================================ */

#main_panelUser {
    width: 100%;
    background-color: var(--fondo-body);
    padding: 20px 0;
}

/* Estructura general */
.section_panelUser {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 100%;
    min-height: 100%;
    padding: 20px;
}

/* NAV superior */
.nav_panelUser {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: nowrap;
    width: 100%;
}

.section_panelUser .nav_panelUser ul {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem;
    justify-content: center;
    background: var(--color_primario);
    padding: .6rem;
    width: 100%;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,.1);
}

.section_panelUser .nav_panelUser ul li a {
    display: inline-flex;
    align-items: center;
    gap: .3rem;
    padding: .5rem 1rem;
    color: #fff;
    font-weight: 600;
    border-radius: 999px;
    transition: all .2s ease;
}
.section_panelUser .nav_panelUser ul li a:hover {
    background: rgba(255,255,255,.15);
}
.section_panelUser .nav_panelUser ul li a.is-active {
    background: #fff;
    color: var(--color_primario);
}

/* Dashboard */
.dashboard-overview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 16px;
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 15px;
}

/* Cards */
.dashboard-overview .card {
    background: #fff;
    border: 1px solid #e6ebf1;
    border-radius: 12px;
    padding: 16px 18px 12px;
    color: var(--color_texto);
    box-shadow: 0 4px 10px rgba(0,0,0,.06);
    transition: all .2s ease;
    min-height: 140px;
    font-size: 0.95rem;
}
.dashboard-overview .card:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 18px rgba(0,0,0,.12);
}

/* Card texto */
.card h3 {
    margin: 0 0 8px 0;
    font-size: 1.05rem;
    color: var(--color_primario);
}
.card p {
    margin: 6px 0;
    line-height: 1.35;
    color: var(--color_texto, #222);
}

/* Pills */
.pill {
    display:inline-block;
    font-size:.75rem;
    line-height:1;
    padding:.22rem .5rem;
    border-radius:999px;
    vertical-align:baseline;
}
.pill--info  { background:#e6f0ff; color:#1e40af; }
.pill--warn  { background:#fff1e6; color:#b45309; }
.pill--muted { background:#eef1f4; color:#475569; }

/* Mini textos */
.mini { opacity:.75; }

/* Enlaces discretos */
.p-as-link { cursor: pointer; border-radius: 8px; padding: 2px 4px; }
.p-as-link:hover { background: rgba(0,0,0,.04); }

/* Chat flotante */
#chat-toggle, #chat-toggle2, #chat-toggle3 {
    position: fixed;
    bottom: 165px;
    right: 30px;
    width: 58px;
    height: 58px;
    background-color: var(--color-primary-button);
    color: white;
    font-size: 26px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 1000;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
    transition: transform 0.2s ease, box-shadow 0.3s ease;
}
#chat-toggle:hover, #chat-toggle2:hover, #chat-toggle3:hover {
    transform: scale(1.1);
    background-color: var(--color-secundary-button);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}
#chat-box, #chat-box2, #chat-box3 {
    position: fixed;
    bottom: 230px;
    right: 30px;
    width: 340px;
    height: 440px;
    background-color: white;
    border-radius: 12px;
    display: none;
    flex-direction: column;
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.25);
    overflow: hidden;
    z-index: 1001;
    animation: fadeInUp 0.3s ease forwards;
}
#chat-box.open, #chat-box2.open, #chat-box3.open { display: flex; }

@keyframes fadeInUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* Chat header/body */
#chat-header, #chat-header2, #chat-header3 {
    background-color: var(--color-primary-button);
    color: white;
    font-weight: bold;
    padding: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
#chat-header span, #chat-header2 span, #chat-header3 span {
    font-size: 1.3rem;
    cursor: pointer;
}
#chat-body, #chat-body2, #chat-body3 {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 10px;
    overflow: hidden;
}
#chat-messages, #chat-messages2, #chat-messages3 {
    flex: 1;
    overflow-y: auto;
    margin-bottom: 10px;
}
#chat-input, #chat-input2, #chat-input3 {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
}

/* Responsive */
@media (max-width: 768px) {
    #main_panelUser { padding: 16px 0; }
    .section_panelUser { padding: 16px 12px; }

    /* ============================================================
   FIX: NAV_PANELUSER — Scroll horizontal en móviles
   ============================================================ */

    /* En pantallas <= 768px el menú se comporta como carrusel */
    @media (max-width: 768px) {
        .section_panelUser .nav_panelUser {
            overflow: hidden;
            width: 100%;
            padding: 0 .5rem;
        }

        .section_panelUser .nav_panelUser ul {
            display: flex;
            flex-wrap: wrap;              /* no romper filas */
            justify-content: center;
            overflow-x: auto;               /* permite desplazamiento horizontal */
            overflow-y: hidden;
            white-space: nowrap;
            gap: .5rem;
            scroll-snap-type: x mandatory;  /* snapping suave */
            scrollbar-width: none;          /* oculta scrollbar (Firefox) */
            background: var(--color_primario);
            border-radius: 14px;
            padding: .6rem .8rem;
            margin: 0;
        }

        .section_panelUser .nav_panelUser ul::-webkit-scrollbar {
            display: none; /* oculta scrollbar (Chrome/Safari) */
        }

        .section_panelUser .nav_panelUser ul li {
            flex: 0 0 auto;                 /* evita que se encojan */
            scroll-snap-align: start;
        }

        .section_panelUser .nav_panelUser ul li a {
            display: inline-block;
            white-space: nowrap;
            font-size: 0.95rem;
            padding: .48rem 1rem;
            border-radius: 999px;
        }
    }


    .dashboard-overview {
        grid-template-columns: repeat(6, minmax(0, 1fr));
        gap: .75rem;
        padding: 0 10px;
        margin: 16px auto;
    }
    .dashboard-overview .card {
        grid-column: span 3;
        min-height: 120px;
        padding: 10px 12px;
        font-size: 0.9rem;
    }
    .dashboard-overview .wide-card { grid-column: 1 / -1; }
}

@media (max-width: 600px) {
    .dashboard-overview { grid-template-columns: repeat(6, 1fr); }
    .dashboard-overview .card, .dashboard-overview .wide-card { grid-column: 1 / -1; }
}
@media (max-width: 480px) {
    #chat-toggle, #chat-toggle2, #chat-toggle3 {
        bottom: 20px; right: 15px; width: 52px; height: 52px;
    }
    #chat-box, #chat-box2, #chat-box3 { bottom: 80px; right: 5vw; width: 90vw; }
}


/* INICIO PÁGINA GESTION DE CITAS */
#main-calendar { display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; padding: 20px; background: var(--fondo-body);}
#formulario { background: var(--color_blanco); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); min-width: 60%; margin: 20px;}
#formulario h2 { text-align: center; color: var(--color_primario);}
#formulario label { font-weight: bold; margin-top: 10px; display: block;}
#formulario input, #formulario select, #formulario button { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid var(--color_secundario); border-radius: 5px;}
#formulario button { background: var(--color-primary-button); color: var(--color_blanco); font-weight: bold; cursor: pointer;}
#formulario button:hover { background: var(--color-secundary-button);}
#calendario { display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 20px; background: var(--color_blanco); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); min-width: 60%;
    h2{ color: #006380;}
}
#calendar { color: var(--color_secundario); width: 100%; max-width: 100%;
    .fc-view-container { width: 100%;}
    .fc-dayGridMonth-view { width: 100%;}
}
.fc *{ color: var(--color_blanco); font-size: 16px;
    a{ color: #1B3A57;}
}
/* Botón agregar cita a Google Calendar */
.gcal-btn { display: inline-block; padding: 8px 16px; background-color: var(--color-primary-button); color: white; border-radius: 6px; text-decoration: none; font-weight: 500; transition: background-color 0.3s ease; width: 100%; text-align: center; margin: 10px 0;}
.gcal-btn:hover { background-color: var(--color-secundary-button); text-decoration: none;}
/* FIN PÁGINA GESTION DE CITAS */


/* INICIO PAGINA REGISTRO SINTOMAS */
.main_panelUser{ display: flex; flex-direction: column; justify-content: center; align-items: center; min-width: 100%; min-height: 100%;}
.section_Sintomas{ display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: center; align-items: center;
    h1{ margin: 15px; font-size: 24px;} }
#form-sintomas { width:  70%; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd;
    textarea { resize: vertical; width: 100%; font-size: 0.95rem;} }
#form-sintomas input, #form-sintomas select { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid var(--color_secundario); border-radius: 5px;}
#form-sintomas button { grid-column: span 2; background-color: var(--color-primary-button); color: var(--color_blanco); border: none; padding: 10px; font-weight: bold; border-radius: 5px; cursor: pointer;}
#form-sintomas button:hover { background-color: var(--color-secundary-button);}
.filtro-Registro{ display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: center; width: 100%; height: auto; gap: 100px;}
/* Contenedor de filtros */
#filtros { width:  20%; margin-top: 20px; background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd; display: flex; flex-wrap: wrap; gap: 10px; align-items: center;}
#filtros label { flex: 1; min-width: 200px;}

/* Historial de síntomas */
#registros { width:  40%; margin-top: 20px; background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd;}
.tabla_Registros { width: 100%; border-collapse: collapse;}
.tabla_Registros th, .tabla_Registros td { border: 1px solid #ccc; padding: 8px; text-align: center;}
/* Gráfico de evolución */
#graficos { width:  70%; margin-top: 30px; background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd;}
.modal-contenido .grid select{
    -webkit-appearance:none;
    -moz-appearance:none;
    appearance:none;
    background-image:none;
    line-height:1.2;
    display:block;
}
.modal-contenido .grid select:focus{
    outline:none;
    text-decoration:none;
}
/* === PÁGINA REGISTRO DE SÍNTOMAS (versión mejorada) === */
#main_registroSintomas {
    width: 100%;
    background: var(--fondo-body);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px 20px 60px;
}

/* Encabezado */
.section_header {
    text-align: center;
}
.section_header h1 {
    color: var(--color_primario);
    font-size: clamp(1.5rem, 2.5vw, 2rem);
    letter-spacing: 0.5px;
    border-bottom: 3px solid var(--color_primario);
    display: inline-block;
    padding-bottom: 5px;
}

/* Filtros superiores */
.filtros {
    display: flex;
    justify-content: center;
    margin-bottom: 25px;
}
.filtros .form-inline {
    display: flex;
    gap: 10px;
    align-items: center;
    background: var(--color_blanco);
    padding: 10px 20px;
    border-radius: 12px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.08);
}
.filtros input {
    padding: 8px 10px;
    border-radius: 6px;
    border: 1px solid var(--color_secundario);
    font-size: 0.95rem;
    width: 180px;
}
.filtros .btn {
    padding: 8px 14px;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.3s ease;
}
.filtros .btn-primario {
    background: var(--color-primary-button);
    color: var(--color_blanco);
    font-weight: 500;
}
.filtros .btn-primario:hover {
    background: var(--color-secundary-button);
}

/* Tabla de síntomas */
.tabla-responsive {
    width: 90%;
    max-width: 1000px;
    background: var(--color_blanco);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    overflow: hidden;
}
.tabla-tratamientos {
    width: 100%;
    border-collapse: collapse;
}
.tabla-tratamientos th {
    background: var(--color_primario);
    color: var(--color_blanco);
    text-transform: uppercase;
    font-size: 0.9rem;
    letter-spacing: 0.5px;
    padding: 12px;
}
.tabla-tratamientos td {
    padding: 12px;
    text-align: center;
    border-bottom: 1px solid #e6ebf1;
    color: var(--color_secundario);
    background: #fff;
}
.tabla-tratamientos tr:hover td {
    background: #f9f9f9;
}
.tabla-tratamientos td:last-child {
    white-space: nowrap;
}

/* Botones de acciones */
.acciones .btn {
    margin: 0 4px;
    padding: 6px 10px;
    font-size: 0.85rem;
    border-radius: 6px;
}
.btn-sec {
    background-color: var(--color_secundario);
    color: var(--color_blanco);
    border: none;
}
.btn-sec:hover {
    background-color: var(--color_primario);
}
.btn-sec.danger {
    background-color: #e74c3c;
}
.btn-sec.danger:hover {
    background-color: #c0392b;
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.5);
    justify-content: center;
    align-items: center;
    z-index: 1000;
}
.modal-contenido {
    background: #fff;
    border-radius: 12px;
    padding: 25px 30px;
    width: min(90%, 520px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.25);
    animation: fadeIn 0.25s ease;
}
.modal-contenido h2 {
    color: var(--color_primario);
    text-align: center;
    margin-bottom: 20px;
}
.modal-contenido .grid {
    display: grid;
    gap: 12px;
}
.modal-contenido label {
    display: flex;
    flex-direction: column;
    font-weight: 600;
    color: var(--color_secundario);
}
.modal-contenido select,
.modal-contenido textarea,
.modal-contenido input {
    margin-top: 4px;
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 8px 10px;
    font-size: 0.95rem;
    transition: border-color 0.2s ease;
}
.modal-contenido select:focus,
.modal-contenido textarea:focus,
.modal-contenido input:focus {
    border-color: var(--color_primario);
    outline: none;
}
.modal-contenido .acciones {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 20px;
}
.modal-contenido .acciones .btn {
    border-radius: 6px;
    padding: 8px 16px;
    font-weight: 600;
}
.btn-cerrar-x {
    position: absolute;
    top: 10px;
    right: 15px;
    background: transparent;
    border: none;
    font-size: 1.2rem;
    color: #555;
    cursor: pointer;
    transition: color 0.3s ease;
}
.btn-cerrar-x:hover { color: var(--color_primario); }

@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}

/* Responsive */
@media (max-width: 768px) {
    .filtros .form-inline { flex-direction: column; gap: 8px; }
    .tabla-responsive { width: 100%; }
    .modal-contenido { width: 95%; padding: 20px; }
}

/* FIN PAGINA REGISTRO SINTOMAS */


/* INICIO PÁGINA REGISTRO DE TRATAMIENTOS */
#formulario-tratamientos { background: var(--color_blanco); padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); max-width: 800px; margin: 20px auto;
    h2 { text-align: center; color: var(--color_primario);}
    label { font-weight: bold; margin-top: 10px; display: block;}
    input, select, textarea, button { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid var(--color_secundario); border-radius: 5px; font-size: 0.95rem;}
    textarea { resize: vertical; min-height: 80px;}
    button { background: var(--color-primary-button); color: var(--color_blanco); font-weight: bold; cursor: pointer; margin-top: 15px;}
    button:hover { background: var(--color-secundary-button);}
    .lb-checkbox{ display: flex; flex-direction: row; width: 100%; margin: 30px 0;
        input{ width: 50px; height: 100%;}
    }
}
.section_tabla_tratamientos{max-width:95%;margin:auto;padding:2rem}
.section_tabla_tratamientos h2{ text-align:center;margin-bottom:1.25rem;font-size:clamp(1.2rem,2.2vw,1.6rem);color:var(--color_blanco)}

.tabla-tratamientos{
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    background:#fff;
    border-radius:12px;
    overflow:hidden;
    box-shadow:0 6px 18px rgba(0,0,0,.08);
    font-size:.95rem;
    table-layout:fixed;
}

.tabla-tratamientos thead th{
    position:sticky; top:0; z-index:1;
    background:linear-gradient(0deg,var(--color-primary-button),var(--color_secundario));
    color:var(--color_blanco);
    text-transform:uppercase;
    letter-spacing:.4px;
    font-weight:600;
    padding:14px 10px;
    border-bottom:1px solid rgba(255,255,255,.2);
}

.tabla-tratamientos td{
    padding:12px 10px;
    border-bottom:1px solid #eef1f4;
    text-align:center;
    word-wrap:break-word;
}

/* Zebra + hover */
.tabla-tratamientos tbody tr:nth-child(odd){ background:#fbfcfe}
.tabla-tratamientos tbody tr:hover{ background:#f2f6ff; transition:.15s ease}

/* Cols mínimas para evitar saltos feos */
.tabla-tratamientos td:nth-child(1){ width:64px }   /* ID */
.tabla-tratamientos td:nth-child(2){ min-width:150px} /* Medicamento */
.tabla-tratamientos td:nth-child(8){ min-width:220px} /* Observaciones */

/* Truncado elegante para textos largos */
.td-ellipsis{
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* Pills (estado y booleanos) */
.pill{
    display:inline-block; padding:.35rem .6rem; border-radius:999px;
    font-size:.82rem; font-weight:600; line-height:1; border:1px solid transparent;
}
.pill--ok{ background:#e8f8ef; color:#1b7a49; border-color:#c6eedb}
.pill--warn{ background:#fff6e0; color:#8a6a00; border-color:#f3e3b0}
.pill--danger{ background:#fde8ea; color:#8f2d3a; border-color:#f6c3cb}
.pill--muted{ background:#eef2f7; color:#415269; border-color:#dde3ec}

/* Estado específico */
.estado--activo{ background:#e8f8ef; color:#1b7a49; border-color:#c6eedb}
.estado--finalizado{ background:#fff6e0; color:#8a6a00; border-color:#f3e3b0}
.estado--cancelado{ background:#fde8ea; color:#8f2d3a; border-color:#f6c3cb}

/* Responsive móvil tipo "cards" */
@media (max-width: 768px){
    .tabla-tratamientos thead{ display:none }
    .tabla-tratamientos, .tabla-tratamientos tbody, .tabla-tratamientos tr, .tabla-tratamientos td{ display:block; width:100%}
    .tabla-tratamientos tr{
        margin:0 0 1rem; background:#fff; border:1px solid #e9edf3; border-radius:10px;
        box-shadow:0 2px 8px rgba(0,0,0,.05); padding:.5rem .9rem;
    }
    .tabla-tratamientos td{
        text-align:left; padding:.55rem 0; border:none;
    }
    .tabla-tratamientos td::before{
        content:attr(data-label);
        display:block; font-weight:700; color:var(--color_primario);
        margin-bottom:2px; font-size:.85rem;
    }
}

/* Dark mode friendly (si tienes body[data-theme="dark"]) */
body[data-theme="dark"] .tabla-tratamientos{ background:var(--color_fondo,#16222f); box-shadow:none; border:1px solid rgba(255,255,255,.06)}
body[data-theme="dark"] .tabla-tratamientos td{ border-bottom:1px solid rgba(255,255,255,.06)}
body[data-theme="dark"] .tabla-tratamientos tbody tr:nth-child(odd){ background:rgba(255,255,255,.02)}
body[data-theme="dark"] .tabla-tratamientos tbody tr:hover{ background:rgba(255,255,255,.06)}

/* FIN PÁGINA REGISTRO DE TRATAMIENTOS */


/* INICIO PAGINA ESTADISTICAS USUARIO */
/* ====== ESTADÍSTICAS (look & feel) ====== */
.stats-wrap { display: grid; gap: 16px; }

.stats-header{ background: linear-gradient(135deg, var(--color_fondo) 0%, var(--color_secundario) 100%); color: #fff; border-radius: 14px; padding: 18px 20px; box-shadow: 0 6px 18px rgba(0,0,0,.12); }
.stats-title{ display:flex; align-items:center; gap:10px; }
.stats-title h1{ margin:0; font-size: clamp(20px, 2.4vw, 28px); }
.stats-emoji{ font-size: 28px; line-height: 1; }
.stats-sub{ margin:.25rem 0 0; opacity:.9; }
.stats-filtros{ background:#fff; border:1px solid #e6ebf1; border-radius: 12px; padding: 10px; display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; box-shadow: 0 4px 14px rgba(15,23,42,.06); }
.stats-filtros label{ display: grid; gap:6px; font-weight: 600; color: var(--color_texto);}
.stats-filtros input, .stats-filtros select{
    width:100%; padding:9px 10px; border:1px solid #d9e1ea; border-radius:10px; background:#f7f9fb;
}
.stats-filtros .btn_primario{ align-self:end; height:40px; border-radius:10px; }

@media (max-width: 900px){
    .stats-filtros{ grid-template-columns: 1fr; }
}

.card{ background:#fff; color: var(--color_texto); border-radius: 14px; padding: 12px; border:1px solid #e6ebf1; box-shadow: 0 6px 18px rgba(15,23,42,.06); min-height: 340px; }
.card-head{ display:flex; align-items:center; justify-content:space-between; margin: 2px 4px 8px; }
.card-head h3{ margin:0; font-size: 1rem; color: var(--color_texto); }
.card canvas{ width:100% !important; height: 280px !important; }

/* Mensaje “Sin datos” sobre la tarjeta */
.card .empty{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:14px; color:#6b7280; pointer-events:none; }
/* ===== Preferencias – tarjeta moderna ===== */
.pref-card{ background:#fff; border:1px solid #e6ebf1; border-radius:16px; box-shadow:0 8px 24px rgba(15,23,42,.06); padding:18px; display:grid; gap:16px; }
.pref-head{ display:flex; align-items:flex-start; justify-content:space-between; gap:10px; }
.pref-head h3{ margin:0; color:var(--color_texto); font-size:1.15rem; }
.pref-head p{ margin:.25rem 0 0; color:var(--texto_secundario); font-size:.95rem; }
.pref-badge{ background:#eef6ff; color:#1f5fbf; border:1px solid #d3e6ff; padding:.2rem .5rem; border-radius:999px; font-size:.75rem; }

.pref-row{ display:flex; align-items:center; justify-content:space-between; gap:16px; }
.pref-row-left h4{ margin:0 0 .25rem; color:var(--color_texto); font-size:1rem; }
.pref-row-left p{ margin:0; color:var(--texto_secundario); font-size:.95rem; }
.pref-divider{ border:0; height:1px; background:#eef1f6; }

.pref-block h4{ margin:0 0 .25rem; color:var(--color_texto); }
.pref-sub{ margin:0 0 .5rem; color:var(--texto_secundario); }

/* Switch (toggle) */
.switch{ position:relative; display:inline-block; width:54px; height:30px; }
.switch input{ opacity:0; width:0; height:0; }
.slider{ position:absolute; cursor:pointer; inset:0; background:#e5e7eb; border-radius:999px; transition:background .2s; }
.slider:before{ content:""; position:absolute; height:22px; width:22px; left:4px; top:4px; background:white; border-radius:50%; transition:transform .2s; box-shadow:0 2px 6px rgba(0,0,0,.15); }
.switch input:checked + .slider{ background:var(--color_secundario); }
.switch input:checked + .slider:before{ transform:translateX(24px); }

/* Segmented control */
.segmented{ display:inline-grid; grid-template-columns:1fr 1fr 1fr; gap:0; border:1px solid #dfe3eb; border-radius:12px; overflow:hidden; width:fit-content; }
.segmented input{ display:none; }
.segmented label{ padding:.55rem .95rem; cursor:pointer; user-select:none; font-weight:600; color:var(--color_texto); background:#fbfdff; border-right:1px solid #dfe3eb; }
.segmented label:last-of-type{ border-right:0; }
.segmented input:checked + label{ background:var(--color-primary-button); color:#fff; }

/* Previsualización chips */
.theme-preview{ display:flex; gap:8px; margin-top:.75rem; }
.theme-preview .chip{ padding:.25rem .6rem; border-radius:999px; font-size:.8rem; border:1px solid #e5e7eb; color:#334155; }
.chip--auto{ background:#f1f5f9; }
.chip--light{ background:#fff; }
.chip--dark{ background:#111827; color:#e5e7eb; border-color:#374151; }
.pref-actions{ display:flex; justify-content:flex-end; }

/* Mensajes */
.config-error{ color:#c62828; font-weight:600; text-align:center; }
.config-mensaje{ color:#1b5e20; font-weight:700; text-align:center; }

/* Modo oscuro coherente con tu tema */
body.dark-theme .pref-card{ background:#1f2937; border-color:#334155; box-shadow:none; }
body.dark-theme .pref-head h3,
body.dark-theme .pref-row-left h4,
body.dark-theme .pref-block h4 { color:#e5e7eb; }
body.dark-theme .pref-head p,
body.dark-theme .pref-row-left p,
body.dark-theme .pref-sub { color:#cbd5e1; }
body.dark-theme .pref-divider{ background:#334155; }
body.dark-theme .segmented{ border-color:#334155; }
body.dark-theme .segmented label{ background:#0b1220; color:#e5e7eb; border-color:#334155; }
body.dark-theme .segmented input:checked + label{ background:var(--color_secundario); color:#fff; }
body.dark-theme .theme-preview .chip{ border-color:#334155; color:#e5e7eb; }

/* ===== Grid responsive para tarjetas de stats ===== */
.stats-grid{
    display:grid;
    gap:16px;
    grid-template-columns: repeat(3, minmax(0,1fr));
}
@media (max-width: 1100px){
    .stats-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 720px){
    .stats-grid{ grid-template-columns: 1fr; }
}

/* Tarjetas: preparar overlay y evitar saltos */
.card{ position: relative; min-height: unset; padding: 12px; }
.card-head h3{ font-size: clamp(.95rem, 1.8vw, 1.05rem); }

/* Contenedor con relación de aspecto (16:9) adaptable */
.chart-box{
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;              /* cambia a 4/3 si lo prefieres */
    /* fallback para navegadores sin aspect-ratio */
    --ratio: 56.25%;
}
@supports not (aspect-ratio: 16 / 9){
    .chart-box{ height: 0; padding-bottom: var(--ratio); }
}

/* El canvas ocupa todo el contenedor */
.chart-box > canvas{
    position: absolute; inset: 0;
    width: 100% !important;
    height: 100% !important;           /* clave para Chart.js + contenedor */
}

/* Leyendas compactas en móviles */
@media (max-width: 720px){
    .card .legend-compact{ font-size: 12px; }
}

/* Modo oscuro coherente (por si las tarjetas cambian de tema) */
body.dark-theme .card{ background: #0b1220; border-color:#334155; box-shadow:none; }
body.dark-theme .card-head h3{ color:#e5e7eb; }
/* ===== FIX scroll horizontal en móviles (estadísticas) ===== */
html, body { max-width: 100%; overflow-x: clip; }  /* no hidden, para no crear capas */

#main-estadisticas,
.stats-wrap,
.stats-grid,
.stats-header,
.card,
.pref-card { max-width: 100%; }

/* Grid sin desbordes por contenido */
.stats-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
@media (max-width:1100px){ .stats-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width:720px){  .stats-grid{ grid-template-columns: 1fr; } }

/* El contenedor del gráfico manda; corta tooltips */
.chart-box{
    position: relative;
    width: 100%;
    aspect-ratio: 16/9;
    overflow: hidden;                /* clave */
}
@supports not (aspect-ratio:16/9){
    .chart-box{ height:0; padding-bottom:56.25%; }
}

/* Canvas 100% y en bloque */
.chart-box > canvas,
.card canvas{
    display: block;
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box;
}

/* Evita que padding + width sumen >100% */
.card{ width: 100%; overflow: hidden; }

/* Filtros: columnas que no empujen el layout */
.stats-filtros{ grid-template-columns: repeat(4, minmax(0, 1fr)); }
@media (max-width:900px){
    .stats-filtros{ grid-template-columns: 1fr; }
}

/* Si tienes contenedores globales con 100vw, neutralízalos */
[class*="wrap"], [class*="contenedor"] { max-width: 100%; }

/* (Muy probable en tu captura) Si usas outline para depurar, en móvil puede desbordar */
@media (max-width:720px){
    .card[style*="outline"], .card.debug-outline { outline-offset: 0; }
}
/* ===== PARCHE ANTI-OVERFLOW ===== */
/* 1) Documento: evitar problemas de 100vh en móvil */
html, body { min-height: 100%; height: auto; max-width: 100%; overflow-x: clip; }

/* 2) Header y contenedores que usaban 100vw */
@media (max-width: 1023px){
    header,
    header .section_header { width: 100%; }
}
/* FIN PAGINA ESTADISTICAS USUARIO */

/* INICIO PAGINA CONFIGURACIÓN USUARIO */
/* CONTENEDOR PRINCIPAL */
.config-usuario-container { display: flex; flex-direction: column; align-items: center; gap: 20px;}
.config-usuario-titulo { font-size: 24px; font-weight: bold; margin-bottom: 10px; color: var(--color_primario);}

/* PANEL DE CONFIGURACIÓN */
.config-usuario-panel { display: flex; gap: 30px; align-items: flex-start; justify-content: center; width: 100%; flex-wrap: wrap;
}
/* MENÚ LATERAL */
.config-usuario-menu { background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd; display: flex; flex-direction: column; gap: 15px; min-width: 180px;}
.btn-config { background-color: var(--color-primary-button); color: var(--color_blanco); border: none; padding: 10px; font-weight: bold; border-radius: 5px; cursor: pointer;}
.btn-config:hover, .btn-config.activo { background-color: var(--color-secundary-button);}
/* FORMULARIO */
.config-usuario-formulario { background: var(--color_blanco); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ddd; flex: 1; min-width: 280px; max-width: 600px; display: flex; flex-direction: column; gap: 20px;}
.config-seccion { display: none; flex-direction: column; gap: 15px;}
.config-seccion.activa { display: flex;}
.config-usuario-formulario label { display: flex; flex-direction: column; font-weight: bold; color: #333;}
.config-usuario-formulario input, .config-usuario-formulario select { padding: 10px; border: 1px solid var(--color_secundario); border-radius: 5px; font-size: 14px; margin-top: 5px;}
/* BOTÓN GUARDAR */
.btn-guardar-config { background-color: var(--color-primary-button); color: var(--color_blanco); border: none; padding: 12px; border-radius: 5px; cursor: pointer; font-weight: bold;}
.btn-guardar-config:hover { background-color: var(--color-secundary-button);}
/* MENSAJE CONFIRMACIÓN */
.config-mensaje { color: green; font-weight: bold; text-align: center;}
/* RESPONSIVE */
@media screen and (max-width: 768px) {
    .config-usuario-panel { flex-direction: column; align-items: center;}
    .config-usuario-menu { width: 100%; flex-direction: row; justify-content: space-around; flex-wrap: wrap;}
    .btn-config { width: 45%; margin-bottom: 10px;}
    .config-usuario-formulario { width: 100%;}
}
/* FIN PAGINA CONFIGURACIÓN USUARIO */


/* INICIO PAGINA HISTORIAL MEDICO */
.historial-container { padding: 2em; background-color: var(--color_blanco); border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 100%; max-width: 95%; margin: 0 auto;}
.historial-tabla { width: 100%; border-collapse: collapse; margin-top: 1.5em; font-size: 0.95rem;
    th { background-color: var(--color-primary-button); color: var(--color_blanco); padding: 12px; text-align: left;}
    td { padding: 10px; border: 1px solid #ddd;}
    tr:hover { background-color: #f0faff;}
}
.filtro { display: flex; gap: 10px; align-items: center; margin-bottom: 1em; flex-wrap: wrap;
    label { font-weight: bold; color: var(--color_primario);}
    input[type="date"] { padding: 8px 12px; border: 1px solid var(--color_secundario); border-radius: 5px;}
    button { background-color: var(--color-primary-button); color: white; border: none; padding: 8px 14px; border-radius: 5px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;}
    button:hover { background-color: var(--color-secundary-button);}
}
/* Estilo tarjetas para móviles */
.historial-movil { display: none;}
@media screen and (max-width: 768px) {
    .historial-tabla { display: none; /* Oculta la tabla en móviles */}
    .historial-movil { display: flex; flex-direction: column; gap: 1em; margin-top: 1em;}
    .registro { background-color: var(--color_blanco); padding: 1em; border-radius: 10px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        strong { color: var(--color_primario);}
        p {margin: 0.4em 0; font-size: 0.95em;}
    }
    .filtro { flex-direction: column; align-items: stretch;}
    .filtro input,.filtro button { width: 100%;}
}
/* FIN PAGINA HISTORIAL MEDICO */


/* INICIO PAGINAS USUARIO */
/* ===== Botón Salir (mejora visual + layout) ===== */
.logout-form{ display: flex; justify-content: flex-end; align-items: center; gap: .5rem; margin: 8px auto 10px; max-width: 1200px;     /* alinea con el grid del dashboard */ padding: 0 15px; }

/* botón “píldora” con énfasis sutil (peligro/rojo corporativo) */
.btn-logout{ appearance: none; border: 1px solid transparent; background: linear-gradient(180deg, #e53935 0%, #c62828 100%); color: #fff; font-weight: 700; letter-spacing: .2px; padding: .55rem 1rem; border-radius: 999px; cursor: pointer; box-shadow: 0 6px 18px rgba(229,57,53,.22); transition: transform .15s ease, box-shadow .2s ease, filter .15s ease; display: inline-flex; align-items: center; gap: .45rem; }
.btn-logout:hover{ transform: translateY(-1px); box-shadow: 0 10px 26px rgba(198,40,40,.28); filter: brightness(1.02); }
.btn-logout:active{ transform: translateY(0); }
.btn-logout:focus-visible{ outline: 3px solid color-mix(in srgb, #e53935 60%, white); outline-offset: 2px; }

/* Modo oscuro coherente */
body.dark-theme .btn-logout{ background: linear-gradient(180deg, #ef5350 0%, #e53935 100%); box-shadow: none; border-color: rgba(255,255,255,.12); }

/* Responsive: hazlo un pelín más compacto en móviles */
@media (max-width: 480px){
    .btn-logout{ padding: .45rem .85rem; font-size: .95rem; }
}


/* INICIO PAGINAS ADMIN */
/* === ADMIN · PACIENTES (parche visual) === */
.modal {
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.5);
    display: flex; align-items: center; justify-content: center;
    z-index: 10000;
}
.modal-content {
    background: #fff; padding: 20px 25px; border-radius: 10px;
    width: 400px; max-width: 90%;
    box-shadow: 0 5px 25px rgba(0,0,0,0.3);
    animation: fadeIn .3s ease;
}
@keyframes fadeIn { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }
.modal-actions { display:flex; justify-content:flex-end; gap:10px; margin-top:1rem; }

/* === ADMIN · PACIENTES (parche visual) === */


/* === ADMIN · Tratamientos (parche visual) === */
#admin-tratamientos h2{ margin:12px auto 10px; color: var(--color_primario); }

#admin-tratamientos .filtros-trat{ max-width: 1100px; margin: 8px auto 14px; padding: 10px 12px; }
#admin-tratamientos .filtros-trat .input-group{ display:grid; grid-template-columns: 1.4fr .9fr 1.2fr auto; gap:.5rem; align-items:center; }
@media (max-width: 900px){
    #admin-tratamientos .filtros-trat .input-group{ grid-template-columns: 1fr; }
}

/* Autocomplete */
.usuario-autocomplete{ position:relative; }
#usuarioClear{ position:absolute; right:8px; top:50%; transform:translateY(-50%); border:0; background:#f1f5f9; color:#0f172a; width:28px; height:28px; border-radius:999px; cursor:pointer; }
#usuarioClear:hover{ background:#e2e8f0; }
#usuarioSugg{ position:absolute; left:0; right:0; top:calc(100% + 4px); z-index:10; list-style:none; margin:0; padding:0; max-height:240px; overflow:auto; display:none; background:#fff; border:1px solid #e3e7ee; border-radius:10px; box-shadow:0 10px 26px rgba(15,23,42,.12); }
#usuarioSugg li{ padding:8px 10px; cursor:pointer; border-bottom:1px solid #f2f4f7; }
#usuarioSugg li:hover{ background:#f7fafc; }

/* Tabla */
.tabla-trat-admin th:nth-child(1){ width:64px; }
.tabla-trat-admin th:nth-child(4){ width:120px; text-align:center; }
.tabla-trat-admin td:nth-child(4){ text-align:center; }
.tabla-trat-admin td:nth-child(5),
.tabla-trat-admin td:nth-child(6){ white-space:nowrap; }

/* Estado como “pill” */
.pill-estado{ display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.82rem; font-weight:700; }
.pill--activo{ background:#e8fff6; color:#1d7a50; border:1px solid #c9f3e3; }
.pill--finalizado{ background:#fff6e6; color:#8a5a00; border:1px solid #ffe4bd; }
.pill--inactivo{ background:#ffe9e9; color:#8a1f1f; border:1px solid #ffd2d2; }

/* Acciones compactas coherentes */
.tabla-trat-admin td:last-child{
    display:flex; gap:6px; justify-content:center; align-items:center; flex-wrap:wrap;
}
.tabla-trat-admin .btn-sec{ background:#f7f9fb; border:1px solid #dfe3eb; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; color: #0f172a; }
.tabla-trat-admin .btn-sec:hover{ background:#eef2ff; }
.tabla-trat-admin .btn-danger{ background:#fee2e2; border:1px solid #fecaca; color:#991b1b; }
.tabla-trat-admin .btn-danger:hover{ background:#fbd5d5; }

body.dark-theme #usuarioSugg{ background:#2c2c2c; border-color:#444; }
body.dark-theme #usuarioSugg li{ border-color:#3a3a3a; color:#fff; }
body.dark-theme #usuarioClear{ background:#333; color:#fff; border:1px solid #555; }

/* --------- Botones Acciones → Editar / Eliminar / Asignar ---------- */
.form-paciente{ display: flex; flex-direction: column; flex-wrap: nowrap; align-items: center; }
.campos-pacientes{ display: flex; flex-direction: column; flex-wrap: nowrap; align-items: flex-start; width: 80%; }
.campos-pacientes input{ width: 100%; height: 25px; margin-bottom: 5px; }
.campos-pacientes label{ margin: 5px 0; }
button.edit, button.asignar{ background-color: var(--color-secundary-button); color: var(--color_blanco); border: none; padding: 5px; border-radius: 5px; cursor: pointer; }
button.edit:hover, button.asignar:hover{ background-color: var(--color-primary-button); color: var(--color_blanco); }
button.danger { background: #c0392b; color: white; border: none; padding: 6px 10px; border-radius: 5px; cursor: pointer; transition: background 0.2s; }
button.danger:hover { background: #e74c3c; }

/* =========================================================================
   ADMIN — Módulo Usuarios (Médicos / Pacientes)
   Complemento visual no intrusivo sobre style2.css
   ======================================================================= */
/* --------- Secciones y cabeceras ---------- */
.section_head { margin: 8px 0 14px; }
.section_head h2, .section_head h3 { color: var(--color_primario); margin: 0 0 4px; font-size: clamp(1.1rem, 2.2vw, 1.4rem); }
.section_head .muted { opacity: .8; }

/* --------- Cards ---------- */
.card { background: var(--color_blanco); border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,.06); padding: 14px; }
.card--soft { background: color-mix(in srgb, var(--color_blanco), transparent 10%); }
.card__head { margin-bottom: 8px; background: var(--color_primario);}
.card__head h3 { margin: 0; color: var(--color_primario); }

/* --------- Tabs internas (Médicos / Pacientes) ---------- */
.nav_panelUser ul { gap: .5rem; }
.nav_panelUser a { display: inline-block; padding: .45rem .8rem; border-radius: 10px; background: color-mix(in srgb, var(--color_primario), transparent 90%); color: var(--texto, #222); transition: background .2s ease, color .2s ease, box-shadow .2s; }
.nav_panelUser a:hover { box-shadow: 0 2px 8px rgba(0,0,0,.08); }
.nav_panelUser a.is-active { background: var(--color_primario); color: #fff; }

/* --------- Input group + formularios inline ---------- */
.input-group { display: flex; gap: 8px; align-items: center; width: 100%; }
.input-group input[type="search"],
.input-group input[type="text"],
.input-group input[type="password"]{ flex: 1 1 auto; background: var(--color_blanco); border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 10px; padding: .55rem .7rem; outline: none; }
.input-group input:focus { border-color: var(--color_primario); box-shadow: 0 0 0 3px color-mix(in srgb, var(--color_primario), transparent 80%); }

.form-inline .input-group button,
.input-group button { border: none; border-radius: 10px; padding: .55rem .9rem; background: var(--color_primario); color: #fff; cursor: pointer; }
.form-inline .input-group button:hover { filter: brightness(1.05); }

/* --------- Tabla ---------- */
.table-wrap { width: 100%; overflow: auto; border-radius: 10px; }
.table { width: 100%; border-collapse: collapse; font-size: .95rem; background: var(--color_blanco); }
.table thead th { text-align: left; font-weight: 600; padding: .7rem .8rem; background: color-mix(in srgb, var(--color_primario), transparent 90%); color: var(--texto, #222); border-bottom: 1px solid var(--borde-suave, #e6ebf1); }
.table tbody td { padding: .65rem .8rem; border-bottom: 1px solid var(--borde-suave, #e6ebf1); }
.table tbody tr:hover { background: color-mix(in srgb, var(--color_primario), transparent 94%); }

/* Estados y textos suaves */
.muted { opacity: .7; }
.pill { display: inline-block; padding: .2rem .5rem; border-radius: 999px; font-size: .85rem; background: color-mix(in srgb, var(--color_primario), transparent 88%); }
.pill--muted { background: #edf2f7; color: #475569; }

/* --------- Botones de acción ---------- */
button.danger { background: #e5484d; color: #fff; border: none; border-radius: 10px; padding: .45rem .7rem; cursor: pointer; }
button.danger:hover { filter: brightness(1.05); }
button.muted { background: #eaeef3; color: #344; border: none; border-radius: 10px; padding: .45rem .7rem; cursor: pointer; }

/* --------- Pager ---------- */
.pager { margin-top: 10px; display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
.pager button { background: var(--color_blanco); color: var(--texto, #222); border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 10px; padding: .4rem .6rem; cursor: pointer; }
.pager button:disabled { opacity: .5; cursor: not-allowed; }
.pager select { border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 10px; padding: .35rem .5rem; background: var(--color_blanco); }

/* --------- Selector inline de asignación (Pacientes) ---------- */
.inline-assign { background: color-mix(in srgb, var(--color_primario), transparent 93%); border: 1px dashed color-mix(in srgb, var(--color_primario), transparent 60%); border-radius: 12px; padding: 8px; }
.inline-assign select { min-width: 180px; border: 1px solid var(--borde-suave, #e6ebf1); border-radius: 10px; padding: .4rem .5rem; background: var(--color_blanco); }

/* --------- Grids rápidos ---------- */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
@media (max-width: 768px) {
    .grid-2 { grid-template-columns: 1fr; }
    .input-group { flex-wrap: wrap; }
    .input-group input { min-width: 200px; }
    .pager { justify-content: space-between; }
}

/* --------- Ajustes suaves para dark si usas data-theme ---------- */
body[data-theme="dark"] .pill--muted { background: #2a2f36; color: #cbd5e1; }
body[data-theme="dark"] .table thead th { color: #e5e7eb; }
body[data-theme="dark"] .inline-assign { background: color-mix(in srgb, var(--color_primario), black 75%); border-color: color-mix(in srgb, var(--color_primario), black 55%); }
/* FIN PANEL ADMIN */

/* Inicio Lista Usuario */
#main_listaUser{ width: 100%; min-height: 80vh; background-color: var(--fondo-body); padding: 20px 0;}
/* === Estilo para la tabla de clientes (admin) === */
.tabla-clientes { width: 100%; border-collapse: separate; border-spacing: 0; background-color: var(--color_blanco); border-radius: 10px; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); font-size: 0.95rem; table-layout: fixed;}

.tabla-clientes th, .tabla-clientes td { padding: 14px 10px; text-align: center; border-bottom: 1px solid #e6e6e6; word-wrap: break-word;}
.tabla-clientes th { background-color: var(--color-primary-button); color: var(--color_blanco); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;}
.tabla-clientes tbody tr:hover {background-color: #f9f9f9; transition: background-color 0.2s ease-in-out;}
@media screen and (max-width: 768px) {
    .tabla-clientes {font-size: 0.85rem;}
    .tabla-clientes th, .tabla-clientes td {padding: 10px 6px;}
}


.btn-accion { display: inline-flex; justify-content: center; align-items: center; width: 30px; height: 30px; border-radius: 6px; padding: 6px; background-color: transparent; transition: transform 0.2s ease; text-decoration: none;}
.btn-accion img { width: 24px; height: 24px; object-fit: contain; filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.2));}
/* Escalado al hacer hover */
.btn-accion:hover { transform: scale(1.1);}

/* Estilos de fondo para cada tipo */
.btn-accion.historial { background-color: #6c757d;}
.btn-accion.editar { background-color: #007bff;}
.btn-accion.eliminar { background-color: #dc3545;}

/* Tema oscuro: mejora visibilidad de iconos */
body.dark-theme .btn-accion img { filter: brightness(1.2) drop-shadow(0 1px 2px rgba(255,255,255,0.1));}
/* Inicio Lista Usuario */
/* FIN PAGINAS ADMIN */


/* INICIO PAGINA CITAS */
/* Estilos para la tabla Citas */
table { width: 100%; border-collapse: collapse; margin-top: 20px;}
table, th, td { border: 1px solid #cccccc;}
th, td { padding: 10px; text-align: left;}
thead { background-color: #f5f5f5;}

/* Estilos para la sección de citas */
.resumen-citas { margin-bottom: 2rem; }
.tarjeta-resumen { background: white; border-radius: 8px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.proxima-cita h3 { margin: 0 0 1rem 0; color: #2c3e50; }
.contenido-proxima-cita { display: grid; gap: 0.5rem; }
.fecha { font-size: 1.2rem; font-weight: bold; color: #3498db; }

/* Pestañas */
.tabs-citas { display: flex; gap: 1rem; margin-bottom: 1rem;}
.tab-btn { padding: 0.8rem 1.5rem; border: none; border-radius: 4px; cursor: pointer; background: #f0f0f0;}
.tab-btn.active { background: #3498db; color: white;}

/* Lista de citas */
.lista-citas { display: flex; flex-direction: column; gap: 1rem;}
.tarjeta-cita { display: flex; background: white; border-radius: 8px; padding: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1); align-items: center;}
.cita-fecha { text-align: center; padding: 0.5rem; border-right: 1px solid #eee; margin-right: 1rem;}
.cita-fecha .dia { font-size: 1.5rem; font-weight: bold; display: block;}
.cita-fecha .mes { text-transform: uppercase; color: #666;}
.cita-detalles { flex-grow: 1;}
.cita-estado { padding: 0.5rem 1rem;}
.estado-pendiente { color: #f39c12;}
.estado-completada { color: #27ae60;}
.estado-cancelada { color: #e74c3c;}

/* Botones de acción */
.cita-acciones { display: flex; gap: 0.5rem;}
.btn-cancelar, .btn-detalles { padding: 0.5rem 1rem; border: none; border-radius: 4px; cursor: pointer;}
.btn-cancelar { background: #e74c3c; color: white;}
.btn-detalles { background: #3498db; color: white;}


/* Pagina sintomas */
#main_registroSintomas{ width: 100%; min-height: 80vh; background-color: var(--fondo-body); }
.filtros{ display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 5px; padding: 10px 0; }
.form-inline{ display: flex; flex-direction: row; align-items: center; justify-content: center;
    input{ height: 35px; border: 1px solid black; border-radius: 10px; margin: 0 5px }
    #btn-abrir{ height: 35px; border-radius: 10px; margin: 0 10px }
}


/* ===== Modal base ===== */
.modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.5); backdrop-filter: blur(2px); z-index: 1200; justify-content: center; align-items: center; padding: 1.25rem; }

.modal:not(.oculto) {display: flex;} /* cuando JS quita .oculto, se muestra */

.modal-contenido { background: #fff; color: #0f172a; width: 100%; max-width: 640px; border-radius: 14px; box-shadow:  0 10px 15px -3px rgba(0,0,0,.2), 0 4px 6px -2px rgba(0,0,0,.1); padding: 1.5rem 1.5rem 1.25rem; position: relative; animation: modalIn .18s ease-out; }

/* Animación sutil */
@keyframes modalIn {
    0%   { transform: translateY(6px) scale(.98); opacity: 0; }
    100% { transform: translateY(0)    scale(1);   opacity: 1; }
}

/* Cerrar (X) */
.btn-cerrar-x { position: absolute; top: .75rem; right: .75rem; border: 0; background: #f1f5f9; color: #0f172a; width: 34px; height: 34px; border-radius: 999px; display: grid; place-items: center; cursor: pointer; font-size: 18px; line-height: 1; }
.btn-cerrar-x:hover   { background: #e2e8f0; }
.btn-cerrar-x:active  { transform: scale(.96); }

/* Título */
#titulo-modal { margin: .25rem 2.25rem 1.25rem .25rem;  /* hueco para la X */ font-size: clamp(1.25rem, 2.5vw, 1.6rem); font-weight: 700; text-align: center; }

/* ===== Formato del formulario ===== */
.grid { display: grid; gap: 1rem; grid-template-columns: 1fr 1fr;         /* dos columnas en desktop */ }

@media (max-width: 640px) {   .grid { grid-template-columns: 1fr; }   /* una columna en móvil */   }

/* Cada campo como bloque */
.grid label { display: grid; gap: .5rem; font-weight: 600; color: #334155; }

/* Inputs homogéneos */
.grid select, .grid textarea, .grid input[type="datetime-local"], .grid input[type="text"] { width: 100%; border: 1px solid #cbd5e1; border-radius: 10px; padding: .6rem .75rem; font-size: .95rem; background: #fff; color: #0f172a; outline: none; transition: border-color .15s, box-shadow .15s; }
.grid textarea { min-height: 96px; resize: vertical; }

/* Focus accesible */
.grid select:focus,
.grid textarea:focus,
.grid input:focus { border-color: #2563eb; box-shadow: 0 0 0 3px rgba(37, 99, 235, .2); }

/* Zona compacta de acciones */
.acciones { display: flex; gap: .75rem; justify-content: flex-end; margin-top: .5rem; }

/* Botones coherentes */
.btn { appearance: none; border: 1px solid #cbd5e1; background: #f8fafc; color: #0f172a; padding: .6rem .9rem; border-radius: 10px; cursor: pointer; font-weight: 600; transition: transform .05s ease, background .15s; }
.btn:hover  { background: #f1f5f9; }
.btn:active { transform: translateY(1px); }

.btn-primario {background: #2563eb;border-color: #2563eb;color: #fff; }
.btn-primario:hover  { background: #1d4ed8; }
.btn-primario:active { transform: translateY(1px); }

/* Alineación de “Tipo / Zona / Descripción / Fecha …” en dos columnas */
.grid label:nth-child(1), .grid label:nth-child(2)  { grid-column: span 1; }
.grid label:nth-child(3) { /* Descripción ocupa ancho completo */grid-column: 1 / -1; }
.grid label:nth-child(4) { /* Fecha y hora medio ancho en desktop */grid-column: span 1; }

@media (max-width: 640px) {  .grid label:nth-child(4) { grid-column: 1 / -1; }   }

/* === ADMIN · Tratamientos · filtros compactos === */
#admin-tratamientos .card.filtros-trat{ min-height: auto; padding: 10px 12px; margin: 8px auto 14px; max-width: 1100px; }

/* Densidad y alineación en una sola línea */
#admin-tratamientos .filtros-trat .input-group{ display: grid; grid-template-columns: minmax(240px,1.2fr) 140px minmax(240px,1.2fr) auto; gap: 8px; align-items: center; }

/* Campos bajitos y consistentes */
#admin-tratamientos .filtros-trat input,
#admin-tratamientos .filtros-trat select,
#admin-tratamientos .filtros-trat button{ height: 36px; padding: 0 10px; border-radius: 10px; }

/* Autocomplete: botón limpiar más pequeño y pegado al input */
#admin-tratamientos #usuarioClear{ width: 26px; height: 26px; right: 6px; top: 50%; transform: translateY(-50%); }

/* Evita que el dropdown “empuje” el layout (ya es position:absolute) */
#admin-tratamientos #usuarioSugg{ max-height: 220px; }

/* Responsive: apila en móvil, sin huecos grandes */
@media (max-width: 900px){
    #admin-tratamientos .filtros-trat .input-group{ grid-template-columns: 1fr;
    }
}
/* === MODAL GENERAL (Admin) === */
/* === MODAL ELEGANTE CENTRADO === */
.modal-gen {
    border: none;
    padding: 0;
    background: transparent;
    width: 100%;
    height: 100%;
    overflow: hidden; /* Evita que el modal cree scroll interno */
}

/* === VER DETALLES DEL TRATAMIENTO === */
.ver-modal {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    font-size: 0.95rem;
    line-height: 1.4;
}

.ver-modal p {
    margin: 0;
    color: var(--color_texto);
    display: flex;
    align-items: center;
    gap: .4rem;
}

.ver-modal .emoji {
    font-size: 1rem;
}

.ver-modal strong {
    color: var(--color_secundario);
}

/* Pastillas de estado reutilizables */
.pill-estado {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.8rem;
    font-weight: 600;
    color: #fff;
    text-transform: capitalize;
}

.pill--activo {
    background: #27ae60;
}
.pill--finalizado {
    background: #f39c12;
}
.pill--inactivo {
    background: #95a5a6;
}


/* Fondo oscuro con desenfoque */
.modal-gen::backdrop {
    background: rgba(0, 0, 0, 0.45);
    backdrop-filter: blur(6px);
}

/* Contenedor centrado */
.modal-gen .wrap-modal {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    width: 100vw;
    animation: modalFadeIn 0.25s ease;
}

/* Tarjeta principal */
.modal-gen form {
    background: var(--color_blanco);
    color: var(--color_texto);
    border-radius: 16px;
    padding: 1.8rem 2.2rem;
    box-shadow: 0 12px 35px rgba(0,0,0,0.25);
    min-width: 420px;
    max-width: 90vw;
    display: flex;
    flex-direction: column;
    gap: 0.9rem;
    transform: scale(0.9);
    opacity: 0;
    animation: modalZoomIn 0.25s ease forwards;
}

.modal-gen h3 {
    margin: 0 0 .5rem;
    font-size: 1.4rem;
    color: var(--color_primario);
    text-align: left;
    border-bottom: 1px solid #e0e6ef;
    padding-bottom: .6rem;
}

.modal-gen label {
    font-weight: 600;
    font-size: 0.95rem;
    margin-bottom: 2px;
}

.modal-gen input,
.modal-gen select {
    padding: 10px 12px;
    border: 1px solid #cfd8e3;
    border-radius: 8px;
    font-size: 0.95rem;
    width: 100%;
    outline: none;
    transition: border-color .2s, box-shadow .2s;
}
.modal-gen input:focus,
.modal-gen select:focus {
    border-color: var(--color_primario);
    box-shadow: 0 0 0 2px rgba(0,141,149,0.2);
}

.modal-gen menu {
    display: flex;
    justify-content: flex-end;
    gap: 0.7rem;
    margin-top: 1.2rem;
}

.modal-gen button {
    border: none;
    cursor: pointer;
    font-weight: 600;
    border-radius: 8px;
    padding: 9px 16px;
    font-size: 0.9rem;
    transition: all .2s ease;
}

.modal-gen button[value="cancel"] {
    background: #f3f4f6;
    color: #333;
}
.modal-gen button[value="cancel"]:hover {
    background: #e5e7eb;
}

.modal-gen .btn-primario {
    background: var(--color_primario);
    color: var(--color_blanco);
}
.modal-gen .btn-primario:hover {
    filter: brightness(1.1);
}

/* Animaciones */
@keyframes modalFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
@keyframes modalZoomIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}


/* ===========================
   ADMIN — PAGINA CITAS
   =========================== */
/* Filtros admin ultra-compactos */
#admin-citas {
    width: 100%;
    max-width: 1150px;
    margin: 25px auto;
    padding: 0 1rem 3rem;
    color: var(--color_texto);
}

/* ----- Título ----- */
#admin-citas h2 {
    font-size: clamp(1.3rem, 2.2vw, 1.7rem);
    font-weight: 700;
    color: var(--color_primario);
    text-align: center;
    margin-bottom: 18px;
    border-bottom: 3px solid var(--color_primario);
    display: inline-block;
    padding-bottom: 4px;
    width: 100%;
}

/* ----- Card de filtros ----- */
#admin-citas .card-filt.filtros {
    background: var(--color_blanco);
    border: 1px solid #e6ebf1;
    border-radius: 14px;
    padding: 18px 20px;
    box-shadow: 0 6px 18px rgba(15,23,42,.06);
    margin-bottom: 18px;
    display: flex;
    flex-direction: column;
    gap: 0.9rem;
}
#admin-citas .card-filt {
    min-height: 120px;
}
#admin-citas .filtros input,
#admin-citas .filtros select {
    height: 38px;
    padding: 0 10px;
    border: 1px solid #d9e1ea;
    border-radius: 10px;
    font-size: 0.95rem;
    background: #fff;
    color: var(--color_texto);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

#admin-citas .filtros input:focus,
#admin-citas .filtros select:focus {
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0,141,149,0.15);
    outline: none;
}

#admin-citas .filtros .row {
    display: flex;
    flex-direction: row;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 10px;
    align-items: center;
    width: 100%;
}

#admin-citas .filtros .btn_primario {
    height: 38px;
    border-radius: 10px;
    font-weight: 600;
    background: linear-gradient(180deg, var(--color_secundario) 0%, var(--color_primario) 100%);
    color: #fff;
    cursor: pointer;
    transition: transform 0.1s ease, filter 0.2s ease;
}
#admin-citas .filtros .btn_primario:hover {
    transform: translateY(-1px);
    filter: brightness(1.05);
}

/* ----- Tabla ----- */
#admin-citas .tabla-wrap {
    overflow: hidden;
    box-shadow: 0 6px 18px rgba(15,23,42,.06);
}

#admin-citas .tabla {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
}

#admin-citas .tabla thead th {
    background: linear-gradient(0deg, var(--color-primary-button), var(--color_secundario));
    color: #fff;
    text-transform: uppercase;
    font-weight: 600;
    letter-spacing: 0.3px;
    padding: 12px 10px;
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 1;
}

#admin-citas .tabla tbody td {
    text-align: center;
    padding: 10px;
    border-bottom: 1px solid #eef1f6;
    background: #fff;
    transition: background 0.2s ease, box-shadow 0.2s ease;
}

/* Hover elegante */
#admin-citas .tabla tbody tr:hover td {
    background: #f7fafc;
    box-shadow: inset 0 1px 0 rgba(0,0,0,.02), inset 0 -1px 0 rgba(0,0,0,.02);
}

/* Estados (ya definidos en badges) */
#admin-citas .badge-estado {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: capitalize;
}

/* ----- Acciones ----- */
#admin-citas td:last-child {
    white-space: nowrap;
}

#admin-citas .acciones {
    display: flex;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
}

#admin-citas button.ver, button.cancel {
    background: #f7f9fb;
    color: var(--color_texto);
    border: 1px solid #dfe3eb;
    border-radius: 8px;
    padding: 6px 10px;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.1s ease;
}
#admin-citas button.cancel{
    background: rgba(255, 33, 33, 0.2);
}
#admin-citas .acciones .btn-sec:hover {
    background: #eef2ff;
    transform: translateY(-1px);
}

#admin-citas .acciones .btn-sec.danger {
    background: #ffe9e9;
    border-color: #ffd6d6;
    color: #991b1b;
}
#admin-citas .acciones .btn-sec.danger:hover {
    background: #fbd5d5;
}

/* ----- Paginación ----- */
#admin-citas .paginacion {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    margin-top: 20px;
    flex-wrap: wrap;
}

#admin-citas .paginacion button {
    background: #fff;
    border: 1px solid #dfe3eb;
    border-radius: 8px;
    padding: 6px 10px;
    cursor: pointer;
    font-weight: 600;
    color: var(--color_texto);
    transition: background 0.2s ease;
}
#admin-citas .paginacion button:hover {
    background: #eef2ff;
}
#admin-citas .paginacion select {
    border: 1px solid #dfe3eb;
    border-radius: 8px;
    padding: 5px 8px;
    background: #fff;
}

/* ----- Responsive ----- */
@media (max-width: 900px) {
    #admin-citas .filtros .row {
        grid-template-columns: repeat(2, 1fr);
    }
    #admin-citas .tabla thead {
        display: none;
    }
    #admin-citas .tabla,
    #admin-citas .tabla tbody,
    #admin-citas .tabla tr,
    #admin-citas .tabla td {
        display: block;
        width: 100%;
    }
    #admin-citas .tabla tr {
        margin-bottom: 10px;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        padding: 8px;
    }
    #admin-citas .tabla td::before {
        content: attr(data-label);
        display: block;
        font-weight: 700;
        color: var(--color_primario);
        margin-bottom: 2px;
    }
}

/* ----- Modo oscuro ----- */
body.dark-theme #admin-citas .card.filtros,
body.dark-theme #admin-citas .tabla-wrap {
    background: #2c2c2c;
    border-color: #444;
    box-shadow: none;
}

body.dark-theme #admin-citas .tabla tbody td {
    background: #2c2c2c;
    border-color: #444;
    color: #e5e7eb;
}
body.dark-theme #admin-citas .tabla tbody tr:hover td {
    background: #3a3a3a;
}

body.dark-theme #admin-citas .acciones .btn-sec {
    background: #333;
    border-color: #555;
    color: #fff;
}
body.dark-theme #admin-citas .acciones .btn-sec:hover {
    background: #444;
}
/* ===========================
   ADMIN — PAGINA REPORTES
   =========================== */
/* ====== Admin Estadísticas UI ====== */
.section-dashboard { padding: 1rem 0 2rem; }
.dash__head { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1rem; }
.dash__filters { display:flex; flex-wrap:wrap; gap:.5rem; background:#fff; padding:.75rem; border-radius:.75rem; box-shadow:0 2px 10px rgba(0,0,0,.06); }
.dash__filters input, .dash__filters select, .dash__filters button { height:32px; padding:0 .5rem; font-size:.9rem; }

.kpis-grid { display:grid; grid-template-columns: repeat(6, minmax(130px,1fr)); gap:.75rem; margin-bottom:1rem; }
.kpi { background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:.75rem; padding:.75rem; }
.kpi h4 { font-size:.85rem; margin:0 0 .25rem; color:#556; }
.kpi strong { font-size:1.2rem; color:#111; display:block; }

.charts-grid { display:grid; grid-template-columns: 1fr; gap:1rem; }
.card { background:#fff; border:1px dashed #27b7c2; border-radius:.75rem; padding:1rem; min-height:260px; }
.card h3 { margin:0 0 .5rem; font-size:1rem; color:#223; }
.card canvas { width:100% !important; height:220px !important; }

@media (min-width: 900px){
    .charts-grid { grid-template-columns: repeat(2, 1fr); }
    .kpis-grid { grid-template-columns: repeat(6, 1fr); }
}

.reports { margin-top:1.5rem; background:#0f3a54; color:#fff; border-radius:.75rem .75rem 0 0; padding:1rem; }
.rep__head { display:flex; align-items:center; justify-content:center; gap:.5rem; }
.rep__tabs [role=tab]{ background:#fff; color:#0f3a54; border:none; border-radius:.5rem; padding:.25rem .5rem; font-size:.85rem; margin:0 .15rem; cursor:pointer; }
.rep__panel { background:#fff; color:#222; border:1px solid rgba(0,0,0,.05); border-top:none; padding:.5rem; }
.rep__panel.is-hidden { display:none; }

.table-wrap { overflow:auto; }
.table-wrap table { width:100%; border-collapse:collapse; font-size:.92rem; }
.table-wrap th, .table-wrap td { border-bottom:1px solid #eee; padding:.5rem .6rem; white-space:nowrap; }
.table-wrap thead th { position:sticky; top:0; background:#f6f8fa; z-index:1; }

.pager { display:flex; align-items:center; gap:.5rem; padding:.5rem; }
.btn--muted{ opacity:.75; }
.btn--ghost{ background:transparent; border:1px solid #ccc; }
/* ===========================
   ADMIN — PÁGINA REPORTES
   =========================== */

/* ====== CONTENEDOR GENERAL ====== */
.section-dashboard {
    padding: 2rem 1.5rem 3rem;
    background: var(--fondo-body, #f5f7fa);
    min-height: 100vh;
}

/* ====== CABECERA Y FILTROS ====== */
.dash__head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.dash__filters {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.75rem;
    background: #fff;
    padding: 0.75rem 1rem;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.dash__filters input,
.dash__filters select,
.dash__filters button {
    height: 36px;
    padding: 0 0.75rem;
    font-size: 0.9rem;
    border-radius: 6px;
    border: 1px solid #d1d5db;
    background: #fff;
    transition: all 0.2s ease;
}

.dash__filters select:focus,
.dash__filters input:focus {
    outline: none;
    border-color: var(--color_primario, #008d95);
    box-shadow: 0 0 0 2px rgba(0, 141, 149, 0.15);
}

.dash__filters button {
    background: var(--color_primario, #008d95);
    color: #fff;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: background 0.2s;
}

.dash__filters button:hover {
    background: var(--color_secundario, #006380);
}

.btn--muted {
    background: #e5e7eb;
    color: #333;
}

.btn--ghost {
    background: transparent;
    border: 1px solid var(--color_primario, #008d95);
    color: var(--color_primario, #008d95);
}

/* ====== KPIs ====== */
.kpis-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.kpi {
    background: #fff;
    border-radius: 12px;
    padding: 1rem 1.25rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    text-align: center;
    transition: transform 0.2s;
}

.kpi:hover {
    transform: translateY(-3px);
}

.kpi h4 {
    font-size: 0.9rem;
    color: #6b7280;
    margin-bottom: 0.5rem;
    font-weight: 500;
}

.kpi strong {
    font-size: 1.5rem;
    color: var(--color_primario, #008d95);
    font-weight: 700;
}

/* ====== GRÁFICOS ====== */
.charts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
    gap: 1.2rem;
    margin-bottom: 2rem;
}

.card {
    background: #fff;
    border-radius: 12px;
    padding: 1rem 1.25rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-height: 320px;
    transition: transform 0.2s ease;
}

.card:hover {
    transform: translateY(-2px);
}

.card h3 {
    font-size: 1rem;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 0.5rem;
    border-left: 4px solid var(--color_primario, #008d95);
    padding-left: 0.5rem;
}

.card canvas {
    width: 100% !important;
    height: 240px !important;
}

/* ====== REPORTES ====== */
.reports {
    background: #fff;
    color: #111;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

.rep__head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    background: var(--color_primario, #008d95);
    color: #fff;
    padding: 0.75rem 1.25rem;
}

.rep__head h3 {
    font-size: 1.1rem;
    margin: 0;
    font-weight: 600;
}

.rep__tabs [role=tab] {
    background: #fff;
    color: var(--color_primario, #008d95);
    border: none;
    border-radius: 6px;
    padding: 0.4rem 0.8rem;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
}

.rep__tabs [role=tab][aria-selected="true"],
.rep__tabs [role=tab]:hover {
    background: var(--color_secundario, #006380);
    color: #fff;
}

.rep__panel {
    background: #fff;
    color: #222;
    padding: 1rem 1.25rem;
    display: block;
}

.rep__panel.is-hidden {
    display: none;
}

/* ====== TABLAS ====== */
.table-wrap {
    overflow-x: auto;
    border-radius: 6px;
    border: 1px solid #e5e7eb;
}

.table-wrap table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
}

.table-wrap thead th {
    background: var(--color_primario, #008d95);
    color: #fff;
    text-align: left;
    padding: 0.7rem 0.9rem;
    font-weight: 600;
}

.table-wrap tbody td {
    border-bottom: 1px solid #e5e7eb;
    padding: 0.6rem 0.9rem;
}

.table-wrap tbody tr:hover {
    background: #f9fafb;
}

/* ====== Paginador ====== */
.pager {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-top: 1px solid #e5e7eb;
    background: #fafafa;
}

.pager button {
    background: var(--color_primario, #008d95);
    color: #fff;
    border: none;
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s;
}

.pager button:hover:not(:disabled) {
    background: var(--color_secundario, #006380);
}

.pager button:disabled {
    opacity: 0.6;
    cursor: default;
}



/* ===== Admin Config: refinado visual ===== */

/* Layout base del panel */
.section-config{ width: min(100%, 1100px); margin: 24px auto; background: var(--color_blanco, #fff); border: 1px solid #e6ebf1; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,.06); padding: 0 16px 22px; }
.section-config .config__head{ margin: 0 -16px 14px; padding: 18px 18px; background: #15384c; /* tu barra */ color: #fff; border-radius: 12px 12px 0 0; display:flex; align-items:center; justify-content:space-between; gap:12px; }
.section-config .config__actions{ display:flex; gap:10px; flex-wrap:wrap; }

/* Tabs */
.section-config .tabs{ display:flex; gap:8px; flex-wrap:wrap; margin: 6px 0 10px; }
.section-config .tabs [role="tab"]{ border: 1px solid #d8e2ea; background:#f6f9fc; padding:.5rem .75rem; border-radius: 10px; font-weight:600; cursor:pointer; }
.section-config .tabs [role="tab"][aria-selected="true"]{ background: var(--color_primario, #1b5bff); color:#fff; border-color: transparent; }

/* Grid de formularios – responsive sólido */
.section-config .form-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap:14px 18px; align-items:start; }
.section-config .form-grid label{ display:flex; flex-direction:column; gap:6px; font-weight:600; }
.section-config .form-grid input[type="text"],
.section-config .form-grid input[type="email"],
.section-config .form-grid input[type="url"],
.section-config .form-grid input[type="number"],
.section-config .form-grid input[type="time"]{ border:1px solid #d9e4ec; border-radius:10px; padding:.6rem .75rem; background:#fff; font-weight:500; width:100%; }

/* Colores: tamaño coherente y borde redondeado */
.section-config .form-grid input[type="color"]{ width: 68px; height: 38px; padding:0; border:1px solid #b9c7d3; border-radius:8px; cursor:pointer; }

/* Switch/checkbox presentables (Notificaciones y Seguridad) */
.section-config .switch{ display:flex; align-items:center; gap:10px; font-weight:600; line-height:1.25; white-space:normal; border:1px solid #e6ebf1; background:#fbfdff; border-radius:12px; padding:12px 14px; }
.section-config .switch input[type="checkbox"]{ transform: scale(1.12); }

/* Identidad: preview a ancho completo */
#tab-identidad .preview{ grid-column: 1 / -1; margin-top:2px; }
#tab-identidad .brand-preview{ display:inline-flex; align-items:center; padding:.5rem .7rem; border:1px solid #d8e2ea; border-radius:12px; background: linear-gradient(90deg, var(--color_primario, #1b5bff) 10%, transparent 10%); }

/* Notificaciones: poner los 3 switches en 2 columnas */
#tab-notifs .form-grid{ grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); }
#tab-notifs .form-grid > label.switch{ margin-top: 4px; }

/* Seguridad: dos números arriba y 2FA a ancho completo */
#tab-seguridad .form-grid{ grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); }
#tab-seguridad .switch{ grid-column: 1 / -1; }

/* Botones */
.section-config .btn{ border-radius:10px; padding:.55rem .95rem; border:1px solid transparent; font-weight:700; }
.section-config .btn--primary{ background:rgba(27,91,255,.9); color:#fff; }
.section-config .btn--muted{ background:#eff3f6; color:#0f172a; border-color:#e2e8f0; }
.section-config .btn:disabled{ opacity:.6; cursor:not-allowed; }

/* Pequeñas mejoras de tipografía */
.section-config h2{ font-size: clamp(1.2rem, 2.2vw, 1.6rem); margin:0; }
.section-config small.muted{ color:#6b7a88; }
/* ====== ARREGLOS PANEL CONFIG ADMIN ====== */
#admin-config .form-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); column-gap: 22px; row-gap: 14px; align-items: start; grid-auto-rows: minmax(48px, auto); }

/* ---------- Notificaciones ---------- */
#tab-notifs .form-grid{ grid-template-columns: repeat(2, minmax(360px, 1fr)); align-items: stretch; }

/* Email en una fila completa */
#tab-notifs .form-grid > label:first-child{ grid-column: 1 / -1; }

/* Tarjetas para cada switch */
#admin-config .switch{ display: flex; align-items: center; padding: 14px; text-align: center; border: 1px solid #e6ebf1; background: #fbfdff; border-radius: 12px; min-height: 75px; width: 150px; word-break: normal; overflow-wrap: anywhere; white-space: normal; justify-content: center; }

/* Check visible y consistente */
#admin-config .switch input[type="checkbox"]{ transform: scale(1.12); margin:0 2px 0 0; }

/* En móviles: 1 columna */
@media (max-width: 760px){
    #tab-notifs .form-grid{ grid-template-columns: 1fr; }
}

/* ---------- Colores (Identidad) ---------- */
#admin-config input[type="color"]{ width: 70px; height: 38px; padding:0; border:1px solid #b9c7d3; border-radius:8px; cursor:pointer; }

/* Preview a ancho de grid */
#tab-identidad .preview{ grid-column: 1 / -1; margin-top: 2px; }
#tab-identidad .brand-preview{ display:inline-flex; align-items:center; gap: 5px; width: 100px; padding:10px; justify-content: center;border:1px solid #d8e2ea; border-radius:12px; background: linear-gradient(90deg, var(--color_primario, #1b5bff) 10%, transparent 10%); }
#contPreviewImg{ width: 34px; height: auto; }

.brandPreviewImg{ width: 100%; height: auto; }

/* ---------- Integraciones ---------- */
#tab-integraciones .form-grid{ grid-template-columns: repeat(3, minmax(260px, 1fr)); }

/* Nota (small) en fila completa */
#tab-integraciones .form-grid small.muted{ grid-column: 1 / -1; margin-top: -4px; display:block; }

/* Forzar que el campo Webhook ocupe ancho completo (usa :has, soportado en tu Chrome) */
#tab-integraciones .form-grid label:has(#cfg_webhookBase){ grid-column: 1 / -1; }

/* En tablets estrechas: 2 columnas; móvil: 1 */
@media (max-width: 1024px){
    #tab-integraciones .form-grid{ grid-template-columns: repeat(2, minmax(260px, 1fr)); }
}
@media (max-width: 640px){
    #tab-integraciones .form-grid{ grid-template-columns: 1fr; }
}

/* ---------- Cabecera y tabs (coherencia) ---------- */
#admin-config.section-config{ width: min(100%, 1100px); margin: 24px auto; background: var(--color_blanco, #fff); border: 1px solid #e6ebf1; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,.06); padding: 0 16px 22px; }
#admin-config .config__head{ margin: 0 -16px 14px; padding: 18px; background: #15384c; color:#fff; border-radius: 12px 12px 0 0; display:flex; justify-content:space-between; align-items:center; gap:12px; }
#admin-config .tabs{ display:flex; gap:8px; flex-wrap:wrap; margin: 6px 0 10px; }
#admin-config .tabs [role="tab"]{ border: 1px solid #d8e2ea; background:#f6f9fc; padding:.5rem .75rem; border-radius: 10px; font-weight:600; cursor:pointer; }
#admin-config .tabs [role="tab"][aria-selected="true"]{ background: var(--color_primario, #1b5bff); color:#fff; border-color: transparent; }


/* ===========================
   RECORDATORIOS — Bloque actualizado
   =========================== */
/* Layout */
#main_panelUser .rec-title { margin-top: .25rem; text-align:center; font-weight: 800; letter-spacing:.2px; color:var(--rec-text); }
#main_panelUser .rec-wrap { display:grid; grid-template-columns:1fr; gap:1.25rem; }

/* Formulario */
#main_panelUser .rec-form { background:var(--rec-bg); border:1px solid var(--rec-border); border-radius:16px; padding:16px; box-shadow:var(--rec-card-shadow); display:grid; gap:12px; }
#main_panelUser .rec-grid-2 { display:grid; gap:12px; grid-template-columns:1fr 1fr; }

@media(max-width:900px){ #main_panelUser .rec-grid-2{grid-template-columns:1fr;} }
#main_panelUser .rec-form input,
#main_panelUser .rec-form select,
#main_panelUser .rec-form textarea { width:100%; padding:10px 12px; border:1px solid var(--rec-border); border-radius:10px; background:var(--rec-bg-soft); color:var(--rec-text); outline:none; }
#main_panelUser .rec-actions { display:flex; gap:10px; flex-wrap:wrap; margin-top:6px; }
#main_panelUser .rec-actions button { border:0; border-radius:10px; padding:10px 14px; cursor:pointer; background:var(--rec-primary); color:#fff; font-weight:600; box-shadow:var(--rec-card-shadow); transition:transform .15s, box-shadow .15s, filter .2s; }
#main_panelUser .rec-actions button:hover { transform:translateY(-1px); box-shadow:var(--rec-card-shadow-hover); }
#main_panelUser #btn-limpiar { background:#64748b; }
#main_panelUser #btn-demo { background:#0ea5e9; }

/* Chips filtro */
#main_panelUser .rec-chips { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; list-style:none; margin:4px 0 14px; padding:0; }
#main_panelUser .rec-chip { display:inline-flex; align-items:center; padding:8px 14px; border-radius:999px; border:1px solid var(--rec-border); background:var(--rec-bg); color:var(--rec-text); cursor:pointer; box-shadow:var(--rec-card-shadow); transition:all .15s; }
#main_panelUser .rec-chip.active { background:var(--rec-primary); color:#fff; border-color:transparent; }

/* Lista */
#main_panelUser .rec-list { list-style:none; padding:0; margin:0; display:grid; gap:12px; }

/* Card */
#main_panelUser .rec-card { display:flex; justify-content:space-between; gap:14px; padding:16px; background:var(--rec-bg); border:1px solid var(--rec-border); border-left:6px solid var(--rec-primary); border-radius:16px; box-shadow:var(--rec-card-shadow); transition:transform .16s, box-shadow .16s, border-color .16s; }
#main_panelUser .rec-card:hover { transform:translateY(-2px); box-shadow:var(--rec-card-shadow-hover); }
#main_panelUser .rec-card:has(.rec-chip--med){ border-left-color:var(--rec-type-med); }
#main_panelUser .rec-card:has(.rec-chip--cita){ border-left-color:var(--rec-type-cita); }
#main_panelUser .rec-card:has(.rec-chip--trat){ border-left-color:var(--rec-type-trat); }

/* Card content */
#main_panelUser .rec-card__left { flex:1; }
#main_panelUser .rec-card__title { display:flex; align-items:center; gap:10px; font-weight:800; color:var(--rec-text); }
#main_panelUser .rec-card__title input[type="checkbox"] { width:18px; height:18px; accent-color:var(--rec-success); cursor:pointer; }
#main_panelUser .rec-card__title--done { color:var(--rec-success); text-decoration:line-through; }
#main_panelUser .rec-date { margin:8px 0 6px; color:var(--rec-text-soft); font-size:.95rem; }
#main_panelUser .rec-desc { margin-top:8px; color:var(--rec-text); }

/* Tags */
#main_panelUser .rec-tags { display:flex; flex-wrap:wrap; gap:8px; }
#main_panelUser .rec-chip--med{ background:rgba(59,130,246,.12); color:#2563eb; }
#main_panelUser .rec-chip--cita{ background:rgba(245,158,11,.14); color:#b45309; }
#main_panelUser .rec-chip--trat{ background:rgba(16,185,129,.13); color:#059669; }

/* Acciones */
#main_panelUser .rec-card__right { display:flex; flex-direction:column; gap:8px; }
#main_panelUser .rec-btn { border:0; border-radius:10px; padding:8px 12px; background:var(--rec-bg-soft); color:var(--rec-text); font-weight:700; cursor:pointer; box-shadow:var(--rec-card-shadow); transition:transform .15s, box-shadow .15s;}
#main_panelUser .rec-btn:hover { transform:translateY(-1px); box-shadow:var(--rec-card-shadow-hover); }
#main_panelUser .rec-btn--danger { background:#fee2e2; color:#991b1b; }

/* Resumen */
#main_panelUser .rec-resumen { text-align:center; color:var(--rec-text-soft); margin:4px 0 10px; }

/* Layout */
#main_panelUser .hist-wrap { display: grid; gap: 1rem; padding: 1rem; }
#main_panelUser .hist-title { text-align: center; margin-bottom: .5rem; }
#main_panelUser .hist-filters { display: grid; gap: .75rem; }
#main_panelUser .hist-chips { display: flex; gap: .5rem; flex-wrap: wrap; justify-content: center; }
#main_panelUser .hist-search { display: flex; gap: .5rem; flex-wrap: wrap; justify-content: center; align-items: center; }
#main_panelUser .hist-search input[type="search"],
#main_panelUser .hist-search input[type="date"] { padding: .5rem .75rem; border-radius: .5rem; border: 1px solid var(--color-secundary-button, #dedede); background: var(--fondo-body, #fff); color: inherit; }
#main_panelUser .hist-dates { display: flex; gap: .5rem; align-items: center; }
#main_panelUser .hist-content { display: grid; gap: 1.25rem; }
#main_panelUser .hist-subtitle { margin: .25rem 0 .5rem; }

/* Chips */
#main_panelUser .chip { border: 1px solid var(--texto_secundario, #d0d0d0); background: var(--fondo-body, transparent); color: inherit; padding: .35rem .75rem; border-radius: 999px; cursor: pointer; }
#main_panelUser .chip.is-active { background: var(--color_primario, #2b7cff); color: #fff; border-color: var(--color_primario, #2b7cff); }

/* Cards */
#main_panelUser .hist-list { display: grid; gap: .75rem; }
#main_panelUser .hist-card { display: grid; grid-template-columns: auto 1fr auto; gap: .75rem; align-items: start; padding: .9rem; border: 1px solid var(--color-primary-button, #e2e2e2); border-radius: .75rem; background: var(--fondo-body, #fff); }
#main_panelUser .hist-card__icon { font-size: 1.5rem; line-height: 1; }
#main_panelUser .hist-card__title { margin: 0; font-size: 1rem; }
#main_panelUser .hist-card__head { display: flex; align-items: center; justify-content: space-between; gap: .5rem; }
#main_panelUser .hist-card__meta { opacity: .8; font-size: .9rem; margin: .25rem 0; }
#main_panelUser .hist-card__desc,
#main_panelUser .hist-card__extra { margin: .25rem 0 0 0; }
#main_panelUser .hist-card__actions { display: flex; gap: .5rem; }

/* Badges y botones */
#main_panelUser .badge {
    display: inline-block; padding: .2rem .5rem; border-radius: .5rem; font-size: .75rem;
    border: 1px solid transparent;
}
#main_panelUser .badge.is-outline { border-color: var(--color_primario, #d9d9d9); }
#main_panelUser .badge.is-success { background: #eaf8ec; color: #1f7a2e; }
#main_panelUser .badge.is-warning { background: #fff6e6; color: #8a5a00; }
#main_panelUser .badge.is-danger  { background: #ffe9e9; color: #8a1f1f; }
#main_panelUser .badge.is-primary { background: #e7f0ff; color: #1a55b6; }
#main_panelUser .badge.is-neutral { background: #f1f1f1; color: #444; }

#main_panelUser .btn-primary { padding: .45rem .8rem; border-radius: .5rem; border: none; background: var(--color_primario, #2b7cff); color: #fff; cursor: pointer; }
#main_panelUser .btn-secondary { padding: .45rem .8rem; border-radius: .5rem; background: transparent; border: 1px solid var(--color-secundary-button, #cfcfcf); cursor: pointer; }

/* States */
#main_panelUser .hist-empty { opacity: .8; text-align: center; }
#main_panelUser .hist-loading, #main_panelUser .hist-error { text-align: center; }

/* ===== HISTORIAL PACIENTE – estilos que casan con tu HTML ===== */

/* Contenedor general */
#main_panelUser .hist-wrap{display:grid;gap:1rem;padding:1rem;}
#main_panelUser .hist-header{ background:var(--color_fondo); color:#fff; border-radius:10px; padding:16px; display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
#main_panelUser .hist-header .hist-title{margin:0; font-size:1.25rem;}
#main_panelUser .hist-header .hist-actions{display:flex; gap:.5rem; flex-wrap:wrap;}
#main_panelUser .hist-header .btn{background:#fff; color:var(--color_fondo); border:0;}
#main_panelUser .hist-header .btn:hover{filter:brightness(.95);}

/* Tarjeta de filtros */
#main_panelUser .hist-filtros.card{ background:#fff; border-radius:12px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.05); }
#main_panelUser .hist-form{display:grid; gap:.75rem;}
#main_panelUser .hist-grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.75rem;}
#main_panelUser .hist-adv-toggle{display:flex; justify-content:flex-end;}
#main_panelUser .hist-avanzados{margin-top:.5rem;}
#main_panelUser .hist-filtros label{display:block; font-weight:600; color:var(--color_texto);}
#main_panelUser .hist-filtros input,
#main_panelUser .hist-filtros select{ width:100%; padding:.55rem .7rem; border:1px solid #d9d9d9; border-radius:8px; background:#fff; }
#main_panelUser .hist-actions{display:flex; gap:.5rem; align-items:center;}
#main_panelUser .btn_primario{background:var(--color-primary-button); color:#fff; border:0;}
#main_panelUser .btn_linea{background:#fff; border:1px solid #d3d7dc; color:var(--color_texto);}

/* Timeline */
#main_panelUser .hist-timeline.card{ background:#fff; border-radius:12px; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,.05); }

/* Lista y tarjetas (coinciden con tu HTML) */
#main_panelUser .hist-lista{display:grid; gap:.75rem; list-style:none; padding:0; margin:0;}
#main_panelUser .hist-item{ display:grid; grid-template-columns: 160px 120px 1fr; gap:.75rem; align-items:start; border:1px solid #e6e8ec; background:#fff; border-radius:10px; padding:12px; }
#main_panelUser .hist-fecha{font-weight:700; color:var(--color_texto);}
#main_panelUser .hist-tipo{display:flex; align-items:center; gap:.35rem;}
#main_panelUser .hist-contenido h4{margin:.15rem 0; font-size:1rem; color:var(--color_texto);}
#main_panelUser .hist-contenido p{margin:.25rem 0; color:var(--texto_secundario);}
#main_panelUser .hist-meta{margin-top:.2rem; font-size:.9rem; color:var(--texto_secundario);}
#main_panelUser .hist-item-actions{margin-top:.35rem; display:flex; gap:.35rem; align-items:center;}
#main_panelUser .hist-item-actions .link{color:var(--color_primario);}

/* Evita que <strong> salga rojo en este bloque */
#main_panelUser .hist-contenido strong{color:var(--color_texto);}

/* Chips por tipo */
#main_panelUser .chip{ display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.8rem; font-weight:700; border:1px solid transparent; line-height:1; }
#main_panelUser .chip-sintoma{background:#e8f4ff; color:#0b5ed7; border-color:#cfe6ff;}
#main_panelUser .chip-tratamiento{background:#e8fff6; color:#1d7a50; border-color:#c9f3e3;}
#main_panelUser .chip-cita{background:#fff5e6; color:#8a5a00; border-color:#ffe4bd;}

/* Mensaje vacío */
#main_panelUser .hist-timeline .text_center{opacity:.8; padding:10px;}

/* Paginación */
#main_panelUser .hist-paginacion{display:flex; justify-content:center; margin-top:.5rem;}
#main_panelUser .hist-paginacion form span{color:var(--texto_secundario);}

/* Responsive */
@media (max-width: 900px){
    #main_panelUser .hist-grid-3{grid-template-columns:1fr;}
    #main_panelUser .hist-item{grid-template-columns:1fr; gap:.5rem;}
    #main_panelUser .hist-fecha{order:1;}
    #main_panelUser .hist-tipo{order:2;}
    #main_panelUser .hist-contenido{order:3;}
}
/* ===== HISTORIAL PACIENTE – estilos que casan con tu HTML ===== */

/* Contenedor general */
#main_panelUser .hist-wrap{display:grid;gap:1rem;padding:1rem;}
#main_panelUser .hist-header{ background:var(--color_fondo); color:#fff; border-radius:10px; padding:16px; display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
#main_panelUser .hist-header .hist-title{margin:0; font-size:1.25rem;}
#main_panelUser .hist-header .hist-actions{display:flex; gap:.5rem; flex-wrap:wrap;}
#main_panelUser .hist-header .btn{background:#fff; color:var(--color_fondo); border:0;}
#main_panelUser .hist-header .btn:hover{filter:brightness(.95);}

/* Tarjeta de filtros */
#main_panelUser .hist-filtros.card{ background:#fff; border-radius:12px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.05); }
#main_panelUser .hist-form{display:grid; gap:.75rem;}
#main_panelUser .hist-grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.75rem;}
#main_panelUser .hist-adv-toggle{display:flex; justify-content:flex-end;}
#main_panelUser .hist-avanzados{margin-top:.5rem;}
#main_panelUser .hist-filtros label{display:block; font-weight:600; color:var(--color_texto);}
#main_panelUser .hist-filtros input,
#main_panelUser .hist-filtros select{ width:100%; padding:.55rem .7rem; border:1px solid #d9d9d9; border-radius:8px; background:#fff; }
#main_panelUser .hist-actions{display:flex; gap:.5rem; align-items:center;}
#main_panelUser .btn_primario{background:var(--color-primary-button); color:#fff; border:0;}
#main_panelUser .btn_linea{background:#fff; border:1px solid #d3d7dc; color:var(--color_texto);}

/* Timeline */
#main_panelUser .hist-timeline.card{ background:#fff; border-radius:12px; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,.05); }

/* Lista y tarjetas (coinciden con tu HTML) */
#main_panelUser .hist-lista{display:grid; gap:.75rem; list-style:none; padding:0; margin:0;}
#main_panelUser .hist-item{ display:grid; grid-template-columns: 160px 120px 1fr; gap:.75rem; align-items:start; border:1px solid #e6e8ec; background:#fff; border-radius:10px; padding:12px; }
#main_panelUser .hist-fecha{font-weight:700; color:var(--color_texto);}
#main_panelUser .hist-tipo{display:flex; align-items:center; gap:.35rem;}
#main_panelUser .hist-contenido h4{margin:.15rem 0; font-size:1rem; color:var(--color_texto);}
#main_panelUser .hist-contenido p{margin:.25rem 0; color:var(--texto_secundario);}
#main_panelUser .hist-meta{margin-top:.2rem; font-size:.9rem; color:var(--texto_secundario);}
#main_panelUser .hist-item-actions{margin-top:.35rem; display:flex; gap:.35rem; align-items:center;}
#main_panelUser .hist-item-actions .link{color:var(--color_primario);}

/* Evita que <strong> salga rojo en este bloque */
#main_panelUser .hist-contenido strong{color:var(--color_texto);}

/* Chips por tipo */
#main_panelUser .chip{ display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.8rem; font-weight:700; border:1px solid transparent; line-height:1; }
#main_panelUser .chip-sintoma{background:#e8f4ff; color:#0b5ed7; border-color:#cfe6ff;}
#main_panelUser .chip-tratamiento{background:#e8fff6; color:#1d7a50; border-color:#c9f3e3;}
#main_panelUser .chip-cita{background:#fff5e6; color:#8a5a00; border-color:#ffe4bd;}

/* Mensaje vacío */
#main_panelUser .hist-timeline .text_center{opacity:.8; padding:10px;}

/* Paginación */
#main_panelUser .hist-paginacion{display:flex; justify-content:center; margin-top:.5rem;}
#main_panelUser .hist-paginacion form span{color:var(--texto_secundario);}

/* Responsive */
@media (max-width: 900px){
    #main_panelUser .hist-grid-3{grid-template-columns:1fr;}
    #main_panelUser .hist-item{grid-template-columns:1fr; gap:.5rem;}
    #main_panelUser .hist-fecha{order:1;}
    #main_panelUser .hist-tipo{order:2;}
    #main_panelUser .hist-contenido{order:3;}
}
/* ===== HISTORIAL PACIENTE – estilos que casan con tu HTML ===== */

/* Contenedor general */
#main_panelUser .hist-wrap{display:grid;gap:1rem;padding:1rem;}
#main_panelUser .hist-header{ background:var(--color_fondo); color:#fff; border-radius:10px; padding:16px; display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
#main_panelUser .hist-header .hist-title{margin:0; font-size:1.25rem;}
#main_panelUser .hist-header .hist-actions{display:flex; gap:.5rem; flex-wrap:wrap;}
#main_panelUser .hist-header .btn{background:#fff; color:var(--color_fondo); border:0;}
#main_panelUser .hist-header .btn:hover{filter:brightness(.95);}

/* Tarjeta de filtros */
#main_panelUser .hist-filtros.card{ background:#fff; border-radius:12px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.05); }
#main_panelUser .hist-form{display:grid; gap:.75rem;}
#main_panelUser .hist-grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:.75rem;}
#main_panelUser .hist-adv-toggle{display:flex; justify-content:flex-end;}
#main_panelUser .hist-avanzados{margin-top:.5rem;}
#main_panelUser .hist-filtros label{display:block; font-weight:600; color:var(--color_texto);}
#main_panelUser .hist-filtros input,
#main_panelUser .hist-filtros select{ width:100%; padding:.55rem .7rem; border:1px solid #d9d9d9; border-radius:8px; background:#fff; }
#main_panelUser .hist-actions{display:flex; gap:.5rem; align-items:center;}
#main_panelUser .btn_primario{background:var(--color-primary-button); color:#fff; border:0;}
#main_panelUser .btn_linea{background:#fff; border:1px solid #d3d7dc; color:var(--color_texto);}

/* Timeline */
#main_panelUser .hist-timeline.card{ background:#fff; border-radius:12px; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,.05); }

/* Lista y tarjetas (coinciden con tu HTML) */
#main_panelUser .hist-lista{display:grid; gap:.75rem; list-style:none; padding:0; margin:0;}
#main_panelUser .hist-item{ display:grid; grid-template-columns: 160px 120px 1fr; gap:.75rem; align-items:start; border:1px solid #e6e8ec; background:#fff; border-radius:10px; padding:12px; }
#main_panelUser .hist-fecha{font-weight:700; color:var(--color_texto);}
#main_panelUser .hist-tipo{display:flex; align-items:center; gap:.35rem;}
#main_panelUser .hist-contenido h4{margin:.15rem 0; font-size:1rem; color:var(--color_texto);}
#main_panelUser .hist-contenido p{margin:.25rem 0; color:var(--texto_secundario);}
#main_panelUser .hist-meta{margin-top:.2rem; font-size:.9rem; color:var(--texto_secundario);}
#main_panelUser .hist-item-actions{margin-top:.35rem; display:flex; gap:.35rem; align-items:center;}
#main_panelUser .hist-item-actions .link{color:var(--color_primario);}

/* Evita que <strong> salga rojo en este bloque */
#main_panelUser .hist-contenido strong{color:var(--color_texto);}

/* Chips por tipo */
#main_panelUser .chip{ display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.8rem; font-weight:700; border:1px solid transparent; line-height:1; }
#main_panelUser .chip-sintoma{background:#e8f4ff; color:#0b5ed7; border-color:#cfe6ff;}
#main_panelUser .chip-tratamiento{background:#e8fff6; color:#1d7a50; border-color:#c9f3e3;}
#main_panelUser .chip-cita{background:#fff5e6; color:#8a5a00; border-color:#ffe4bd;}

/* Mensaje vacío */
#main_panelUser .hist-timeline .text_center{opacity:.8; padding:10px;}

/* Paginación */
#main_panelUser .hist-paginacion{display:flex; justify-content:center; margin-top:.5rem;}
#main_panelUser .hist-paginacion form span{color:var(--texto_secundario);}

/* Responsive */
@media (max-width: 900px){
    #main_panelUser .hist-grid-3{grid-template-columns:1fr;}
    #main_panelUser .hist-item{grid-template-columns:1fr; gap:.5rem;}
    #main_panelUser .hist-fecha{order:1;}
    #main_panelUser .hist-tipo{order:2;}
    #main_panelUser .hist-contenido{order:3;}
}


/* ===== MEDICO — INICIO CITAS ===== */
/* Estilos específicos para la agenda */
.agenda-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem 1.5rem;
}

.agenda-header {
    display: flex;
    background: linear-gradient(135deg, var(--color_fondo) 0%, var(--color_secundario) 100%);
    color: white;
    padding: 2rem;
    border-radius: 16px;
    margin-bottom: 2rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    justify-content: center;
    align-items: center;
    gap: 20px;
    flex-direction: row;
}

.agenda-header h2 {
    margin: 0;
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
}

/* Filtros modernos */
.filtro-citas {
    background: white;
    padding: 1.25rem;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    margin-bottom: 1.5rem;
}

.filtro-citas form {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.filtro-citas label {
    font-weight: 600;
    color: var(--color_texto);
    font-size: 0.95rem;
}

.filtro-citas select {
    padding: 0.6rem 1rem;
    border: 1px solid #d9e1ea;
    border-radius: 8px;
    background: #f7f9fb;
    color: var(--color_texto);
    font-size: 0.9rem;
    min-width: 180px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.filtro-citas select:focus {
    outline: none;
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0,141,149,0.1);
}

.filtro-citas button {
    padding: 0.6rem 1.5rem;
    background: var(--color_primario);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 4px 12px rgba(0,141,149,0.2);
}

.filtro-citas button:hover {
    background: var(--color_secundario);
    transform: translateY(-1px);
    box-shadow: 0 6px 16px rgba(0,141,149,0.3);
}

/* Calendario mejorado */
.calendar-wrapper {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
}

#calendar {
    color: var(--color_secundario);
}

/* Personalización FullCalendar */
.fc {
    font-family: inherit;
}

.fc .fc-toolbar {
    margin-bottom: 1.5rem;
    padding: 1rem;
    background: linear-gradient(135deg, #f7f9fb 0%, #ffffff 100%);
    border-radius: 10px;
    gap: 1rem;
}

.fc .fc-toolbar-chunk {
    display: flex;
    gap: 0.75rem;
    align-items: center;
}

.fc .fc-toolbar-title {
    font-size: 1.4rem !important;
    font-weight: 700;
    color: var(--color_primario);
    padding: 0 0.5rem;
}

.fc .fc-button {
    background: var(--color_primario) !important;
    border: none !important;
    padding: 0.6rem 1.2rem !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
    text-transform: capitalize !important;
    box-shadow: 0 2px 8px rgba(0,141,149,0.2) !important;
    transition: all 0.2s ease !important;
    margin: 0 !important;
    min-width: 80px;
}

.fc .fc-button-group {
    display: flex;
    gap: 0.5rem;
}

.fc .fc-button-group .fc-button {
    border-radius: 8px !important;
}

.fc .fc-button:hover {
    background: var(--color_secundario) !important;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0,141,149,0.3) !important;
}

.fc .fc-button:active,
.fc .fc-button:focus {
    box-shadow: 0 2px 6px rgba(0,141,149,0.3) !important;
}

.fc .fc-button-active {
    background: var(--color_secundario) !important;
    box-shadow: 0 4px 14px rgba(0,99,128,0.4) !important;
}

/* Botones de navegación (prev, next, today) */
.fc .fc-prev-button,
.fc .fc-next-button {
    min-width: 45px !important;
    padding: 0.6rem 0.8rem !important;
}

.fc .fc-today-button {
    min-width: 90px !important;
}

.fc-theme-standard td,
.fc-theme-standard th {
    border-color: #e6ebf1 !important;
}

.fc-theme-standard .fc-scrollgrid {
    border-color: #e6ebf1 !important;
    border-radius: 8px;
    overflow: hidden;
}

.fc .fc-col-header-cell {
    background: linear-gradient(180deg, #f7f9fb 0%, #ffffff 100%);
    font-weight: 600;
    color: var(--color_texto);
    padding: 0.75rem 0;
}

.fc .fc-daygrid-day-number,
.fc .fc-timegrid-slot-label {
    color: var(--color_texto);
    font-weight: 500;
}

.fc .fc-day-today {
    background: rgba(0,141,149,0.08) !important;
}

.fc-event {
    border-radius: 6px;
    padding: 4px 8px;
    font-weight: 500;
    border: none;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: transform 0.1s ease, box-shadow 0.1s ease;
}

.fc-event:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

/* Modales mejorados */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal-content {
    background: white;
    margin: 5% auto;
    padding: 2rem;
    border-radius: 16px;
    max-width: 500px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.2);
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.modal-content h3 {
    margin: 0 0 1.5rem 0;
    color: var(--color_primario);
    font-size: 1.5rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.modal-content p {
    margin: 0.75rem 0;
    color: var(--color_texto);
    font-size: 0.95rem;
}

.modal-content strong {
    color: var(--color_primario);
    font-weight: 600;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.2s ease;
    line-height: 1;
    margin-top: -10px;
}

.close:hover,
.close:focus {
    color: #000;
}

/* Botones de estado */
.botones-estado {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 1.5rem;
}

.botones-estado button {
    padding: 0.75rem 1.25rem;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.botones-estado button[data-estado="CONFIRMADA"] {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(16,185,129,0.3);
}

.botones-estado button[data-estado="CANCELADA"] {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(239,68,68,0.3);
}

.botones-estado button[data-estado="ATENDIDA"],
#btnAtender {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(59,130,246,0.3);
}

#btnEditar {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(245,158,11,0.3);
}

#btnEliminar,
#btnConfirmarEliminar {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(239,68,68,0.3);
}

.botones-estado button:hover,
#btnEditar:hover,
#btnAtender:hover,
#btnEliminar:hover,
#btnConfirmarEliminar:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.25);
}

.btn-secundario {
    background: #e5e7eb !important;
    color: #374151 !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
}

.btn-secundario:hover {
    background: #d1d5db !important;
}

/* Formulario de edición */
#formEditarCita {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

#formEditarCita label {
    font-weight: 600;
    color: var(--color_texto);
    font-size: 0.9rem;
}

#formEditarCita input,
#formEditarCita textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #d9e1ea;
    border-radius: 8px;
    font-size: 0.9rem;
    margin-top: 0.25rem;
    transition: all 0.2s ease;
}

#formEditarCita input:focus,
#formEditarCita textarea:focus {
    outline: none;
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0,141,149,0.1);
}

#formEditarCita textarea {
    min-height: 100px;
    resize: vertical;
    font-family: inherit;
}

#formEditarCita button[type="submit"] {
    margin-top: 0.5rem;
    padding: 0.75rem;
    background: var(--color_primario);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

#formEditarCita button[type="submit"]:hover {
    background: var(--color_secundario);
    transform: translateY(-1px);
}

.fc-icon-chevron-right span:hover{
    color: var(--color_blanco);
}

/* Responsive */
@media (max-width: 768px) {
    .agenda-container {
        padding: 1rem;
    }

    .agenda-header {
        padding: 1.5rem;
    }

    .filtro-citas form {
        flex-direction: column;
        align-items: stretch;
    }

    .filtro-citas select,
    .filtro-citas button {
        width: 100%;
    }

    .modal-content {
        margin: 10% 1rem;
        padding: 1.5rem;
    }

    .botones-estado {
        gap: 0.5rem;
    }

    .fc .fc-toolbar {
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
    }

    .fc .fc-toolbar-chunk {
        width: 100%;
        justify-content: center;
    }

    .fc .fc-button-group {
        flex-wrap: wrap;
        justify-content: center;
    }

    .fc .fc-toolbar-title {
        font-size: 1.2rem !important;
        text-align: center;
    }

    .fc .fc-button {
        min-width: 70px;
        font-size: 0.9rem !important;
    }
}

/* Modo oscuro */
body.dark-theme .agenda-header,
body.dark-theme .filtro-citas,
body.dark-theme .calendar-wrapper,
body.dark-theme .modal-content {
    background: #2c2c2c;
    color: var(--color_blanco);
}

body.dark-theme .filtro-citas select {
    background: #333;
    color: #fff;
    border-color: #555;
}

body.dark-theme .fc .fc-toolbar {
    background: linear-gradient(135deg, #1f1f1f 0%, #2c2c2c 100%);
}

body.dark-theme .fc .fc-col-header-cell {
    background: linear-gradient(180deg, #333 0%, #2c2c2c 100%);
    color: #e5e7eb;
}

body.dark-theme .fc .fc-day-today {
    background: rgba(0,141,149,0.2) !important;
}

body.dark-theme .fc-theme-standard td,
body.dark-theme .fc-theme-standard th {
    border-color: #444 !important;
}
/* ===== MEDICO — FIN CITAS ===== */


/* ===== MEDICO — Tratamientos ===== */
:root {
    --color_fondo: #1B3A57;
    --color_primario: #008d95;
    --color_secundario: #006380;
    --fondo-body: #f5f7fa;
    --color_blanco: white;
    --color_texto: #161616;
    --texto_secundario: #434343;
    --borde-suave: #e6ebf1;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background: var(--fondo-body);
    color: var(--color_texto);
    line-height: 1.6;
}

.page-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem 1.5rem;
}

/* Header Section */
.header-section {
    background: linear-gradient(135deg, var(--color_fondo) 0%, var(--color_secundario) 100%);
    color: white;
    padding: 2rem;
    border-radius: 16px;
    margin-bottom: 2rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1.5rem;
}

.header-title {
    flex: 1;
    min-width: 250px;
}

.header-title h1 {
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 700;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.patient-selector {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: rgba(255, 255, 255, 0.15);
    padding: 0.75rem 1.25rem;
    border-radius: 12px;
    backdrop-filter: blur(10px);
}

.patient-selector label {
    font-weight: 600;
    font-size: 0.95rem;
}

.patient-selector select {
    padding: 0.6rem 1rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.95);
    color: var(--color_texto);
    font-size: 0.9rem;
    min-width: 200px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.patient-selector select:focus {
    outline: none;
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0, 141, 149, 0.2);
}

/* Action Buttons */
.action-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    margin-bottom: 2rem;
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.95rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
}

.btn-primary {
    background: linear-gradient(135deg, var(--color_primario) 0%, var(--color_secundario) 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(0, 141, 149, 0.3);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 141, 149, 0.4);
}

.btn-secondary {
    background: white;
    color: var(--color_primario);
    border: 2px solid var(--color_primario);
}

.btn-secondary:hover {
    background: var(--color_primario);
    color: white;
}

/* Table Container */
.table-container {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    overflow: hidden;
}

.table-wrapper {
    overflow-x: auto;
}

table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    font-size: 0.9rem;
}

thead {
    background: linear-gradient(135deg, var(--color_primario) 0%, var(--color_secundario) 100%);
    color: white;
}

thead th {
    padding: 1rem 0.75rem;
    text-align: left;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.5px;
    position: sticky;
    top: 0;
    z-index: 10;
}

tbody tr {
    border-bottom: 1px solid var(--borde-suave);
    transition: all 0.2s ease;
}

tbody tr:hover {
    background: #f7fafc;
    transform: scale(1.01);
}

tbody td {
    padding: 1rem 0.75rem;
    vertical-align: middle;
}

/* Status Pills */
.status-pill {
    display: inline-block;
    padding: 0.35rem 0.75rem;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 600;
    text-align: center;
}

.status-finalizado {
    background: #fff4e6;
    color: #b45309;
    border: 1px solid #fde4bd;
}

.status-activo {
    background: #e8f8ef;
    color: #1b7a49;
    border: 1px solid #c6eedb;
}

/* Action Buttons in Table */
.action-cell {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    align-items: center;
}

.btn-table {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.5rem 0.85rem;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
}

.btn-edit {
    background: linear-gradient(135deg, var(--color_primario) 0%, var(--color_secundario) 100%);
    color: white;
}

.btn-edit:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 141, 149, 0.3);
}

.btn-complete {
    background: #e8f8ef;
    color: #1b7a49;
    border: 1px solid #c6eedb;
}

.btn-complete:hover {
    background: #d0f2e0;
}

.btn-delete {
    background: #ffe9e9;
    color: #991b1b;
    border: 1px solid #ffd2d2;
}

.btn-delete:hover {
    background: #ffd5d5;
}

/* Alert Messages */
.alert {
    padding: 1rem 1.25rem;
    border-radius: 12px;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-weight: 500;
}

.alert-success {
    background: #e8f8ef;
    color: #1b7a49;
    border: 1px solid #c6eedb;
}

/* Responsive */
@media (max-width: 1024px) {
    .header-content {
        flex-direction: column;
        align-items: flex-start;
    }

    .patient-selector {
        width: 100%;
    }

    .patient-selector select {
        flex: 1;
    }
}

@media (max-width: 768px) {
    .page-container {
        padding: 1rem;
    }

    .header-section {
        padding: 1.5rem;
    }

    .action-buttons {
        flex-direction: column;
    }

    .btn {
        width: 100%;
        justify-content: center;
    }

    /* Convert table to cards on mobile */
    .table-wrapper {
        overflow-x: visible;
    }

    table, thead, tbody, th, td, tr {
        display: block;
    }

    thead {
        display: none;
    }

    tbody tr {
        margin-bottom: 1rem;
        border: 1px solid var(--borde-suave);
        border-radius: 12px;
        padding: 1rem;
        background: white;
    }

    tbody td {
        padding: 0.5rem 0;
        border: none;
        display: grid;
        grid-template-columns: 120px 1fr;
        gap: 0.5rem;
    }

    tbody td::before {
        content: attr(data-label);
        font-weight: 600;
        color: var(--color_primario);
    }

    .action-cell {
        grid-column: 1 / -1;
        margin-top: 0.5rem;
    }
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 3rem 1rem;
    color: var(--texto_secundario);
}

.empty-state svg {
    width: 64px;
    height: 64px;
    margin-bottom: 1rem;
    opacity: 0.5;
}

/* ===== MEDICO — Fin Tratamientos ===== */
/* ===== MEDICO — Inicio Nuevo Tratamiento ===== */
/* Header Section */
.header-section {
    background: linear-gradient(135deg, var(--color_fondo) 0%, var(--color_secundario) 100%);
    color: white;
    padding: 2rem;
    border-radius: 16px;
    margin-bottom: 2rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}

.header-section h1 {
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.header-section .subtitle {
    margin-top: 0.5rem;
    opacity: 0.9;
    font-size: 0.95rem;
}

/* Form Container */
.form-container {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    padding: 2rem;
}

.form-section-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color_primario);
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--borde-suave);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* Form Grid */
.form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.form-field {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.form-field.full-width {
    grid-column: 1 / -1;
}

.form-field label {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--color_texto);
    display: flex;
    align-items: center;
    gap: 0.35rem;
}

.form-field label .required {
    color: #e53935;
    font-size: 1.1rem;
}

.form-field input,
.form-field select,
.form-field textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 2px solid var(--borde-suave);
    border-radius: 10px;
    font-size: 0.95rem;
    font-family: inherit;
    transition: all 0.3s ease;
    background: #fafbfc;
}

.form-field input:focus,
.form-field select:focus,
.form-field textarea:focus {
    outline: none;
    border-color: var(--color_primario);
    background: white;
    box-shadow: 0 0 0 3px rgba(0, 141, 149, 0.1);
}

.form-field textarea {
    resize: vertical;
    min-height: 100px;
    line-height: 1.5;
}

.form-field input::placeholder,
.form-field textarea::placeholder {
    color: #9ca3af;
}

/* Info Boxes */
.info-box {
    background: #e8f4ff;
    border-left: 4px solid #2196f3;
    padding: 1rem 1.25rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: start;
    gap: 0.75rem;
}

.info-box .icon {
    font-size: 1.25rem;
    flex-shrink: 0;
}

.info-box p {
    margin: 0;
    font-size: 0.9rem;
    color: #1565c0;
}

/* Action Buttons */
.form-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    padding-top: 1.5rem;
    border-top: 2px solid var(--borde-suave);
}

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.85rem 2rem;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.95rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    font-family: inherit;
}

.btn-primary {
    background: linear-gradient(135deg, var(--color_primario) 0%, var(--color_secundario) 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(0, 141, 149, 0.3);
}

.btn-primary:hover {
    transform: translateY(-2px);
    background: linear-gradient(135deg, var(--color_secundario) 0%, var(--color_primario) 100%);
    box-shadow: 0 6px 20px rgba(0, 141, 149, 0.4);
}

.btn-primary:active {
    transform: translateY(0);
}

.btn-secondary {
    background: white;
    color: var(--color_texto);
    border: 2px solid var(--borde-suave);
}

.btn-secondary:hover {
    background: #f7fafc;
    border-color: var(--color_primario);
    color: var(--color_primario);
}

/* Field Groups */
.field-group {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid var(--borde-suave);
}

.field-group-title {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--color_primario);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* Help Text */
.help-text {
    font-size: 0.85rem;
    color: var(--texto_secundario);
    margin-top: 0.25rem;
}

/* Validation Messages */
.error-message {
    color: #e53935;
    font-size: 0.85rem;
    margin-top: 0.25rem;
    display: none;
}

.form-field.error input,
.form-field.error select,
.form-field.error textarea {
    border-color: #e53935;
}

.form-field.error .error-message {
    display: block;
}

/* Success Message */
.success-message {
    background: #e8f8ef;
    border-left: 4px solid #1b7a49;
    padding: 1rem 1.25rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: #1b7a49;
}

/* Responsive */
@media (max-width: 768px) {
    .page-container {
        padding: 1rem;
    }

    .header-section {
        padding: 1.5rem;
    }

    .form-container {
        padding: 1.5rem;
    }

    .form-grid {
        grid-template-columns: 1fr;
        gap: 1.25rem;
    }

    .form-actions {
        flex-direction: column;
    }

    .btn {
        width: 100%;
    }

    .field-group {
        padding: 1rem;
    }
}

/* Loading State */
.btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.btn-primary.loading::after {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid white;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 0.6s linear infinite;
    margin-left: 0.5rem;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Select Styling */
select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%23374151' d='M8 11L3 6h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
    padding-right: 2.5rem;
}

/* Date Input Styling */
input[type="date"] {
    position: relative;
}

input[type="date"]::-webkit-calendar-picker-indicator {
    cursor: pointer;
    opacity: 0.6;
}

input[type="date"]:hover::-webkit-calendar-picker-indicator {
    opacity: 1;
}
/* ===== MEDICO — Fin Nuevo Tratamiento ===== */


/* ===== MEDICO — Inicio Configuracion ===== */
/* Layout general */
.section_config { width: min(100%, 1100px); height: max-content; margin: 0 auto; background: var(--color_blanco, #fff); border-radius: 12px; box-shadow: 0 4px 14px rgba(0, 0, 0, 0.08); border: 1px solid #e6ebf1; padding: 20px 24px; }

.config-header { display: flex; justify-content: space-between; align-items: center; background: var(--color_primario, #003366); color: #fff; padding: 16px 20px; border-radius: 10px 10px 0 0; }

.config-header h2 { margin: 0; font-size: 1.3rem; color: var(--color_blanco); }

/* Botón guardar */
#btnVolver { background: var(--color_primario); color: #fff; border: none; padding: 8px 14px; border-radius: 8px; cursor: pointer; transition: all 0.25s ease; font-size: 13px; }
#btnVolver:hover { background: var(--color_secundario); }
#btnGuardar { background: var(--color_secundario, #008c8c); color: #fff; border: none; padding: 8px 14px; border-radius: 8px; cursor: pointer; transition: all 0.25s ease; }
#btnGuardar:hover:not(:disabled) { background: var(--color_secundario, #00a2a2); transform: translateY(-1px); }
#btnGuardar:disabled { opacity: 0.6; cursor: not-allowed; }

/* Tabs */
.tabs { display: flex; flex-wrap: wrap; gap: 0.4rem; margin-top: 16px; }
.tabs [role="tab"] { border: 1px solid #d7dde3; background: #fff; border-radius: 8px; padding: 6px 12px; font-size: 0.9rem; cursor: pointer; transition: all 0.2s ease; }
.tabs [role="tab"][aria-selected="true"] { background: var(--color_secundario, #00a2a2); color: #fff; border-color: var(--color_secundario); font-weight: 600; }

/* Contenedor principal */
.tab-panels { margin-top: 18px; padding: 12px; }

/* Grillas */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 14px 20px; }
.col-span-2 { grid-column: 1 / span 2; }

/* Campos y formularios */
.form-group { display: flex; flex-direction: column; gap: 6px; }
.form-group label { font-weight: 600; font-size: 0.9rem; color: var(--color_texto, #1a2b3c); }
.form-group input,
.form-group select,
.form-group textarea {
    font-size: 0.9rem;
    border: 1px solid #d5dce0;
    border-radius: 6px;
    padding: 7px 9px;
    background: #fafafa;
    transition: border-color 0.2s ease;
}
.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--color_secundario, #00b5ad);
    background: #fff;
}
.form-group textarea { font-family: monospace; resize: vertical; }
.form-group small.help { color: #708090; font-size: 0.8rem; }

/* Fieldset */
fieldset.form-group { border: 1px solid #d5dce0; border-radius: 8px; padding: 10px 12px; background: #fafafa; }
fieldset legend { font-weight: 600; color: var(--color_primario, #003366); margin-bottom: 4px; font-size: 0.9rem; }

/* Placeholder para secciones vacías */
.empty { text-align: center; padding: 40px 0; color: #62727a; }
.empty h3 { color: var(--color_primario, #003366); margin-bottom: 8px; font-size: 1.1rem; }
.empty p.muted { color: #808b98; font-size: 0.9rem; }

/* Estado guardado */
.config-footer { margin-top: 12px; background: var(--color_primario, #003366); border-radius: 0 0 10px 10px; padding: 8px 12px; color: #fff; font-size: 0.85rem; text-align: right; }

/* Responsivo */
@media (max-width: 768px) {
    .grid-2 { grid-template-columns: 1fr;
    }
    .config-header { flex-direction: column; align-items: flex-start; gap: 10px;
    }
    #btnGuardar { align-self: flex-end;
    }
    .tabs { justify-content: flex-start;
    }
}
/* ===== MEDICO — Fin Configuracion ===== */

/* ====== CHAT MÉDICO / ADMIN — VitaLink ====== */
body.body-msg {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background: #f5f7fa;
    overflow: hidden;
}

/* ===== CONTENEDOR PRINCIPAL (funciona para ambos) ===== */
#chat-wrap,
#admin-mensajeria {
    display: flex;
    height: calc(100vh - 80px);
    width: 100vw;
    max-width: 100%;
    margin: 0;
    background: white;
    position: relative;
}

#chat-list {
    width: 360px;
    background: #fff;
    border-right: 1px solid #e5e7eb;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    overflow: hidden;
}

.chatv2__sidehead {
    padding: 20px;
    background: linear-gradient(135deg, var(--color_primario) 10%, var(--color_secundario) 90%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.chatv2__sidehead h3 {
    font-size: 20px;
    font-weight: 600;
    margin: 0;
}

.pill--danger {
    background: #ef4444;
    color: white;
    font-weight: 700;
    min-width: 24px;
    height: 24px;
    padding: 0 8px;
    border-radius: 12px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
}

.crear-conv {
    padding: 16px;
    background: #f9fafb;
    border-bottom: 1px solid #e5e7eb;
    flex-shrink: 0;
}

.crear-conv__form {
    display: flex;
    gap: 8px;
}

.crear-conv__form input {
    flex: 1;
    padding: 10px 14px;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    font-size: 14px;
    transition: border-color 0.2s;
}

.crear-conv__form input:focus {
    outline: none;
    border-color: var(--color_primario);
    box-shadow: 0 0 0 3px rgba(0, 179, 189, 0.1);
}

.crear-conv__form button {
    padding: 10px 20px;
    background: var(--color_primario);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
}

.crear-conv__form button:hover {
    background: var(--color_secundario);
}

.crear-conv__help {
    display: block;
    margin-top: 8px;
    font-size: 12px;
    color: #6b7280;
}

/* ===== PAGINADOR (solo para admin) ===== */
.pager {
    padding: 12px 16px;
    background: #f9fafb;
    border-top: 1px solid #e5e7eb;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    flex-shrink: 0;
}

.pager button {
    padding: 6px 12px;
    background: white;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
}

.pager button:hover:not(:disabled) {
    background: #f3f4f6;
    border-color: var(--color_primario);
}

.pager button:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

#pageInfo {
    font-size: 13px;
    color: #6b7280;
}

.pager select {
    padding: 6px 10px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
}

/* ===== LISTA DE CONVERSACIONES ===== */
.chat-list {
    flex: 1;
    overflow-y: auto;
    list-style: none;
    padding: 0;
    margin: 0;
}

.chat-list li {
    border-bottom: 1px solid #f3f4f6;
    cursor: pointer;
    transition: background 0.2s;
}

.chat-list li:hover {
    background: #f9fafb;
}

.chat-list li.is-active {
    background: #ede9fe;
    border-left: 4px solid var(--color_secundario);
}

.conv-item {
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.conv-item.has-unread .conv-title {
    font-weight: 700;
    color: var(--color_secundario);
}

.conv-item .info {
    flex: 1;
    min-width: 0;
}

.conv-item .name {
    font-size: 15px;
    font-weight: 500;
    margin-bottom: 4px;
    color: #111827;
    display: block;
}

.conv-title {
    font-size: 15px;
    font-weight: 500;
    margin-bottom: 4px;
    color: #111827;
}

.last-msg {
    font-size: 13px;
    color: #9ca3af;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 200px;
    display: block;
}

.meta {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 6px;
}

.time {
    font-size: 12px;
    color: #9ca3af;
}

.badge {
    background: #e5e7eb;
    color: #6b7280;
    font-size: 11px;
    font-weight: 600;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.unread-badge {
    background: #ef4444;
    color: white;
    font-size: 11px;
    font-weight: 700;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.delete-btn {
    opacity: 0;
    background: none;
    border: none;
    font-size: 18px;
    cursor: pointer;
    padding: 4px;
    transition: opacity 0.2s;
}

.conv-item:hover .delete-btn {
    opacity: 0.5;
}

.delete-btn:hover {
    opacity: 1 !important;
}

.empty-state {
    padding: 40px 20px;
    text-align: center;
    color: #9ca3af;
    font-size: 14px;
}

/* ===== PANEL DE CHAT ===== */
#chat-panel {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #f9fafb;
    overflow: hidden;
}

.chatv2__head {
    padding: 16px 24px;
    background: white;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    align-items: center;
    gap: 16px;
    position: sticky;
    top: 0;
    z-index: 10;
    flex-shrink: 0;
}

.back-btn {
    display: none;
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #667eea;
    padding: 8px;
}

.title {
    flex: 1;
}

#convTitle {
    font-size: 18px;
    font-weight: 600;
    color: #111827;
    display: block;
    margin-bottom: 2px;
}

.status {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #10b981;
}

.dot {
    width: 8px;
    height: 8px;
    background: #10b981;
    border-radius: 50%;
    animation: blink 2s ease-in-out infinite;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

.actions {
    display: flex;
    gap: 8px;
    position: relative;
}

.ghost {
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
    padding: 8px;
    color: #6b7280;
    border-radius: 6px;
    transition: background 0.2s;
    position: relative;
}

.ghost:hover {
    background: #f3f4f6;
}

/* ===== BARRA DE BÚSQUEDA ===== */
#search-bar {
    padding: 12px 24px;
    background: white;
    border-bottom: 1px solid #e5e7eb;
    display: none;
    align-items: center;
    gap: 12px;
    animation: slideDown 0.3s ease-out;
}

#search-bar.active {
    display: flex;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#search-input {
    flex: 1;
    padding: 8px 12px;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    font-size: 14px;
}

#search-input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

#search-results {
    font-size: 13px;
    color: #6b7280;
    white-space: nowrap;
}

.search-nav-btn {
    background: none;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    padding: 6px 10px;
    cursor: pointer;
    color: #6b7280;
    transition: background 0.2s;
}

.search-nav-btn:hover:not(:disabled) {
    background: #f3f4f6;
}

.search-nav-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

#close-search {
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
    color: #6b7280;
    padding: 4px;
}

/* ===== MENÚ DE OPCIONES ===== */
#options-menu {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 8px;
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    min-width: 200px;
    display: none;
    z-index: 1000;
    animation: fadeIn 0.2s ease-out;
}

#options-menu.active {
    display: block;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.menu-item {
    padding: 12px 16px;
    cursor: pointer;
    transition: background 0.2s;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
    color: #374151;
    border-bottom: 1px solid #f3f4f6;
}

.menu-item:last-child {
    border-bottom: none;
}

.menu-item:hover {
    background: #f9fafb;
}

.menu-item.danger {
    color: #ef4444;
}

.menu-item.danger:hover {
    background: #fef2f2;
}

.menu-icon {
    font-size: 18px;
}

/* ===== RESALTADO DE BÚSQUEDA ===== */
.highlight {
    background: #fef08a;
    padding: 2px 4px;
    border-radius: 3px;
    font-weight: 500;
}

.highlight.active {
    background: #fbbf24;
}

/* ===== MENSAJES ===== */
.chatv2__messages {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.msg {
    max-width: 60%;
    padding: 12px 16px;
    border-radius: 16px;
    word-wrap: break-word;
    animation: fadeInUp 0.3s ease-out;
    position: relative;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.msg:not(.me) {
    background: white;
    color: #111827;
    align-self: flex-start;
    border-bottom-left-radius: 4px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.msg.me {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    align-self: flex-end;
    border-bottom-right-radius: 4px;
}

.msg strong {
    display: block;
    font-size: 12px;
    margin-bottom: 4px;
    opacity: 0.8;
}

.msg-time {
    display: block;
    font-size: 11px;
    margin-top: 4px;
    opacity: 0.6;
}

.read-indicator {
    font-size: 10px;
    margin-left: 4px;
    opacity: 0.7;
}

/* ===== COMPOSITOR DE MENSAJES ===== */
.chatv2__composer {
    padding: 16px 24px;
    background: white;
    border-top: 1px solid #e5e7eb;
    display: flex;
    gap: 12px;
    align-items: flex-end;
    flex-shrink: 0;
}

.chatv2__composer textarea {
    flex: 1;
    padding: 12px 16px;
    border: 1px solid #d1d5db;
    border-radius: 20px;
    font-family: inherit;
    font-size: 15px;
    resize: none;
    max-height: 120px;
    transition: border-color 0.2s;
}

.chatv2__composer textarea:focus {
    outline: none;
    border-color: var(--color_secundario);
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.chatv2__composer .send {
    padding: 12px 24px;
    background: linear-gradient(135deg, var(--color_primario) 10%, var(--color_secundario) 90%);
    color: white;
    border: none;
    border-radius: 20px;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.2s;
}

.chatv2__composer .send:hover {
    transform: scale(1.05);
}

.chatv2__composer .send:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: scale(1);
}

/* ===== SCROLLBAR ===== */
.chat-list::-webkit-scrollbar,
.chatv2__messages::-webkit-scrollbar {
    width: 6px;
}

.chat-list::-webkit-scrollbar-track,
.chatv2__messages::-webkit-scrollbar-track {
    background: #f3f4f6;
}

.chat-list::-webkit-scrollbar-thumb,
.chatv2__messages::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 3px;
}

.chat-list::-webkit-scrollbar-thumb:hover,
.chatv2__messages::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 900px) {
    #chat-wrap,
    #admin-mensajeria {
        position: relative;
    }

    #chat-list {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        transition: transform 0.3s ease;
    }

    #chat-panel {
        position: absolute;
        right: 0;
        top: 0;
        width: 100%;
        height: 100%;
        z-index: 2;
        transform: translateX(100%);
        transition: transform 0.3s ease;
    }

    body.chat-open #chat-list {
        transform: translateX(-100%);
    }

    body.chat-open #chat-panel {
        transform: translateX(0);
    }

    .back-btn {
        display: flex !important;
    }

    .msg {
        max-width: 80%;
    }
}
/* ===== MEDICO — Fin Chat Medico/Admin ===== */

/* ===== MEDICO — Inicio Sintomas ===== */
/* ===== Síntomas Médico (prefijo sm-) ===== */

.sintomas_medicos { padding-block: 2rem; }
.sm-wrap { max-width: 1100px; margin-inline: auto; display: grid; gap: 1.25rem; }

.sm-card { background: var(--color_blanco, #fff); border: 1px solid var(--color-primary-button, #e6ebf1); border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,.06); padding: 1rem 1.25rem; }

.sm-card__head { margin-bottom: .5rem; }
.sm-title { font-size: 1.125rem; font-weight: 700; margin: 0; }
.sm-subtitle { font-size: .9rem; opacity: .75; }

.sm-form { display: block; }
.sm-grid { display: grid; gap: .75rem; }
.sm-grid--4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
.sm-grid--3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }

.sm-field { display: grid; gap: .35rem; }
.sm-field--full { grid-column: 1 / -1; }
.sm-field--inline { align-items: end; }

.sm-label { font-size: .9rem; font-weight: 600; }
.sm-input, .sm-select, .sm-textarea { width: 100%; padding: .55rem .7rem; border-radius: 10px; border: 1px solid var(--color-primary-button, #d8dde6); background: var(--fondo-body, #fff); }
.sm-select--small { max-width: 110px; }

.sm-actions { display: flex; gap: .5rem; flex-wrap: wrap; margin-top: .25rem; }
.sm-actions--right { justify-content: end; align-items: end; }
.sm-actions--left { justify-content: start; align-items: center; }

.sm-msg { margin: 0 .5rem; font-size: .9rem; opacity: .8; }

/* Tabla */
.sm-table-wrap { overflow: auto; border-radius: 10px; border: 1px solid var(--color-primary-button, #e6ebf1); }
.sm-table { width: 100%; border-collapse: collapse; font-size: .95rem; }
.sm-table thead th { position: sticky; top: 0; background: var(--color_blanco, #fff); z-index: 1; }
.sm-table th, .sm-table td { padding: .65rem .75rem; border-bottom: 1px solid var(--color-primary-button, #eef1f6); text-align: left; }
.sm-table--hover tbody tr:hover { background: rgba(0,0,0,.025); }
.sm-col--date { width: 11rem; white-space: nowrap; }
.sm-col--desc { width: 45%; }
.sm-col--actions { width: 8rem; text-align: center; }
.sm-empty { text-align: center; padding: 1rem; color: #666; }

/* Paginación */
.sm-pagination { display: flex; justify-content: space-between; align-items: center; padding-top: .75rem; }
.sm-pagination__controls { display: flex; gap: .5rem; }
.sm-pagination__info { font-size: .9rem; opacity: .8; }

/* Responsive */
@media (max-width: 1024px) {
    .sm-grid--4 { grid-template-columns: repeat(2, 1fr); }
    .sm-grid--3 { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
    .sm-grid--4, .sm-grid--3 { grid-template-columns: 1fr; }
    .sm-col--actions { width: auto; }
}
/* ===== MEDICO — Fin Sintomas ===== */


/* ===================================================================
   FOOTER MINIMALISTA - Diseño compacto y moderno
   =================================================================== */
footer {
    background: linear-gradient(135deg, var(--color_fondo) 0%, #0d2940 100%);
    color: rgba(255, 255, 255, 0.9);
    margin-top: auto;
    font-size: 0.875rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
    padding-bottom: max(12px, env(safe-area-inset-bottom, 0px));
}

footer .section_footer {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 16px clamp(20px, 4vw, 40px);
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    flex-wrap: wrap;
}

/* Logo Footer */
footer picture {
    display: flex;
    align-items: center;
}

footer picture img {
    width: 40px;
    height: auto;
    opacity: 0.9;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
    transition: opacity 0.3s ease;
}

footer picture img:hover {
    opacity: 1;
}

/* Navegación Footer */
footer .section_nav_footer {
    display: flex;
    gap: 20px;
    align-items: center;
    flex-wrap: wrap;
}

footer .section_nav_footer a {
    color: rgba(255, 255, 255, 0.85);
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
    position: relative;
}

footer .section_nav_footer a::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 1px;
    background: var(--color_primario);
    transition: width 0.3s ease;
}

footer .section_nav_footer a:hover {
    color: var(--color_primario);
}

footer .section_nav_footer a:hover::after {
    width: 100%;
}

/* Copyright / Legal */
footer .footer-legal {
    display: flex;
    gap: 12px;
    align-items: center;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.7);
    flex-wrap: wrap;
}

footer .footer-legal span {
    white-space: nowrap;
}

footer .footer-legal a {
    color: rgba(255, 255, 255, 0.75);
    text-decoration: none;
    transition: color 0.3s ease;
}

footer .footer-legal a:hover {
    color: var(--color_primario);
}

/* Responsive Footer */
@media screen and (max-width: 768px) {
    footer .section_footer {
        flex-direction: column;
        text-align: center;
        gap: 12px;
        padding: 14px 20px;
    }

    footer .section_nav_footer {
        flex-direction: column;
        gap: 10px;
    }

    footer .footer-legal {
        flex-direction: column;
        gap: 6px;
    }
}

@media screen and (max-width: 480px) {
    footer picture img {
        width: 32px;
    }

    footer .section_nav_footer a {
        font-size: 0.85rem;
    }
}

/* Modo Oscuro Footer */
body.dark-theme footer {
    background: linear-gradient(135deg, #0a0d12 0%, #151921 100%);
    border-top-color: rgba(255, 255, 255, 0.05);
}

body.dark-theme footer .section_nav_footer a,
body.dark-theme footer .footer-legal,
body.dark-theme footer .footer-legal a {
    color: rgba(255, 255, 255, 0.8);
}

body.dark-theme footer .section_nav_footer a:hover,
body.dark-theme footer .footer-legal a:hover {
    color: var(--color_primario);
}